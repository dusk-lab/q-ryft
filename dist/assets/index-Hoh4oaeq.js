function $f(h,g){for(var f=0;f<g.length;f++){const y=g[f];if(typeof y!="string"&&!Array.isArray(y)){for(const v in y)if(v!=="default"&&!(v in h)){const w=Object.getOwnPropertyDescriptor(y,v);w&&Object.defineProperty(h,v,w.get?w:{enumerable:!0,get:()=>y[v]})}}}return Object.freeze(Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}))}(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))y(v);new MutationObserver(v=>{for(const w of v)if(w.type==="childList")for(const O of w.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&y(O)}).observe(document,{childList:!0,subtree:!0});function f(v){const w={};return v.integrity&&(w.integrity=v.integrity),v.referrerPolicy&&(w.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?w.credentials="include":v.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function y(v){if(v.ep)return;v.ep=!0;const w=f(v);fetch(v.href,w)}})();var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x0(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}var vu={exports:{}},No={},Au={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function ed(){if(U1)return tt;U1=1;var h=Symbol.for("react.element"),g=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.iterator;function F(W){return W===null||typeof W!="object"?null:(W=b&&W[b]||W["@@iterator"],typeof W=="function"?W:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,Y={};function ee(W,ie,ze){this.props=W,this.context=ie,this.refs=Y,this.updater=ze||H}ee.prototype.isReactComponent={},ee.prototype.setState=function(W,ie){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ie,"setState")},ee.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function we(){}we.prototype=ee.prototype;function le(W,ie,ze){this.props=W,this.context=ie,this.refs=Y,this.updater=ze||H}var P=le.prototype=new we;P.constructor=le,ne(P,ee.prototype),P.isPureReactComponent=!0;var se=Array.isArray,Se=Object.prototype.hasOwnProperty,Ee={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function Ce(W,ie,ze){var Be,ot={},pe=null,xt=null;if(ie!=null)for(Be in ie.ref!==void 0&&(xt=ie.ref),ie.key!==void 0&&(pe=""+ie.key),ie)Se.call(ie,Be)&&!re.hasOwnProperty(Be)&&(ot[Be]=ie[Be]);var Ve=arguments.length-2;if(Ve===1)ot.children=ze;else if(1<Ve){for(var mt=Array(Ve),$t=0;$t<Ve;$t++)mt[$t]=arguments[$t+2];ot.children=mt}if(W&&W.defaultProps)for(Be in Ve=W.defaultProps,Ve)ot[Be]===void 0&&(ot[Be]=Ve[Be]);return{$$typeof:h,type:W,key:pe,ref:xt,props:ot,_owner:Ee.current}}function te(W,ie){return{$$typeof:h,type:W.type,key:ie,ref:W.ref,props:W.props,_owner:W._owner}}function Ze(W){return typeof W=="object"&&W!==null&&W.$$typeof===h}function qe(W){var ie={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ze){return ie[ze]})}var ve=/\/+/g;function Xe(W,ie){return typeof W=="object"&&W!==null&&W.key!=null?qe(""+W.key):ie.toString(36)}function $e(W,ie,ze,Be,ot){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var xt=!1;if(W===null)xt=!0;else switch(pe){case"string":case"number":xt=!0;break;case"object":switch(W.$$typeof){case h:case g:xt=!0}}if(xt)return xt=W,ot=ot(xt),W=Be===""?"."+Xe(xt,0):Be,se(ot)?(ze="",W!=null&&(ze=W.replace(ve,"$&/")+"/"),$e(ot,ie,ze,"",function($t){return $t})):ot!=null&&(Ze(ot)&&(ot=te(ot,ze+(!ot.key||xt&&xt.key===ot.key?"":(""+ot.key).replace(ve,"$&/")+"/")+W)),ie.push(ot)),1;if(xt=0,Be=Be===""?".":Be+":",se(W))for(var Ve=0;Ve<W.length;Ve++){pe=W[Ve];var mt=Be+Xe(pe,Ve);xt+=$e(pe,ie,ze,mt,ot)}else if(mt=F(W),typeof mt=="function")for(W=mt.call(W),Ve=0;!(pe=W.next()).done;)pe=pe.value,mt=Be+Xe(pe,Ve++),xt+=$e(pe,ie,ze,mt,ot);else if(pe==="object")throw ie=String(W),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return xt}function $(W,ie,ze){if(W==null)return W;var Be=[],ot=0;return $e(W,Be,"","",function(pe){return ie.call(ze,pe,ot++)}),Be}function st(W){if(W._status===-1){var ie=W._result;ie=ie(),ie.then(function(ze){(W._status===0||W._status===-1)&&(W._status=1,W._result=ze)},function(ze){(W._status===0||W._status===-1)&&(W._status=2,W._result=ze)}),W._status===-1&&(W._status=0,W._result=ie)}if(W._status===1)return W._result.default;throw W._result}var Ne={current:null},me={transition:null},De={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:me,ReactCurrentOwner:Ee};function ye(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:$,forEach:function(W,ie,ze){$(W,function(){ie.apply(this,arguments)},ze)},count:function(W){var ie=0;return $(W,function(){ie++}),ie},toArray:function(W){return $(W,function(ie){return ie})||[]},only:function(W){if(!Ze(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},tt.Component=ee,tt.Fragment=f,tt.Profiler=v,tt.PureComponent=le,tt.StrictMode=y,tt.Suspense=I,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,tt.act=ye,tt.cloneElement=function(W,ie,ze){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Be=ne({},W.props),ot=W.key,pe=W.ref,xt=W._owner;if(ie!=null){if(ie.ref!==void 0&&(pe=ie.ref,xt=Ee.current),ie.key!==void 0&&(ot=""+ie.key),W.type&&W.type.defaultProps)var Ve=W.type.defaultProps;for(mt in ie)Se.call(ie,mt)&&!re.hasOwnProperty(mt)&&(Be[mt]=ie[mt]===void 0&&Ve!==void 0?Ve[mt]:ie[mt])}var mt=arguments.length-2;if(mt===1)Be.children=ze;else if(1<mt){Ve=Array(mt);for(var $t=0;$t<mt;$t++)Ve[$t]=arguments[$t+2];Be.children=Ve}return{$$typeof:h,type:W.type,key:ot,ref:pe,props:Be,_owner:xt}},tt.createContext=function(W){return W={$$typeof:O,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:w,_context:W},W.Consumer=W},tt.createElement=Ce,tt.createFactory=function(W){var ie=Ce.bind(null,W);return ie.type=W,ie},tt.createRef=function(){return{current:null}},tt.forwardRef=function(W){return{$$typeof:k,render:W}},tt.isValidElement=Ze,tt.lazy=function(W){return{$$typeof:R,_payload:{_status:-1,_result:W},_init:st}},tt.memo=function(W,ie){return{$$typeof:E,type:W,compare:ie===void 0?null:ie}},tt.startTransition=function(W){var ie=me.transition;me.transition={};try{W()}finally{me.transition=ie}},tt.unstable_act=ye,tt.useCallback=function(W,ie){return Ne.current.useCallback(W,ie)},tt.useContext=function(W){return Ne.current.useContext(W)},tt.useDebugValue=function(){},tt.useDeferredValue=function(W){return Ne.current.useDeferredValue(W)},tt.useEffect=function(W,ie){return Ne.current.useEffect(W,ie)},tt.useId=function(){return Ne.current.useId()},tt.useImperativeHandle=function(W,ie,ze){return Ne.current.useImperativeHandle(W,ie,ze)},tt.useInsertionEffect=function(W,ie){return Ne.current.useInsertionEffect(W,ie)},tt.useLayoutEffect=function(W,ie){return Ne.current.useLayoutEffect(W,ie)},tt.useMemo=function(W,ie){return Ne.current.useMemo(W,ie)},tt.useReducer=function(W,ie,ze){return Ne.current.useReducer(W,ie,ze)},tt.useRef=function(W){return Ne.current.useRef(W)},tt.useState=function(W){return Ne.current.useState(W)},tt.useSyncExternalStore=function(W,ie,ze){return Ne.current.useSyncExternalStore(W,ie,ze)},tt.useTransition=function(){return Ne.current.useTransition()},tt.version="18.3.1",tt}var j1;function Lu(){return j1||(j1=1,Au.exports=ed()),Au.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z1;function td(){if(z1)return No;z1=1;var h=Lu(),g=Symbol.for("react.element"),f=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,v=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w={key:!0,ref:!0,__self:!0,__source:!0};function O(k,I,E){var R,b={},F=null,H=null;E!==void 0&&(F=""+E),I.key!==void 0&&(F=""+I.key),I.ref!==void 0&&(H=I.ref);for(R in I)y.call(I,R)&&!w.hasOwnProperty(R)&&(b[R]=I[R]);if(k&&k.defaultProps)for(R in I=k.defaultProps,I)b[R]===void 0&&(b[R]=I[R]);return{$$typeof:g,type:k,key:F,ref:H,props:b,_owner:v.current}}return No.Fragment=f,No.jsx=O,No.jsxs=O,No}var V1;function nd(){return V1||(V1=1,vu.exports=td()),vu.exports}var _=nd(),Z=Lu();const un=x0(Z);var zl={},Su={exports:{}},Wn={},Iu={exports:{}},Nu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1;function rd(){return W1||(W1=1,(function(h){function g(me,De){var ye=me.length;me.push(De);e:for(;0<ye;){var W=ye-1>>>1,ie=me[W];if(0<v(ie,De))me[W]=De,me[ye]=ie,ye=W;else break e}}function f(me){return me.length===0?null:me[0]}function y(me){if(me.length===0)return null;var De=me[0],ye=me.pop();if(ye!==De){me[0]=ye;e:for(var W=0,ie=me.length,ze=ie>>>1;W<ze;){var Be=2*(W+1)-1,ot=me[Be],pe=Be+1,xt=me[pe];if(0>v(ot,ye))pe<ie&&0>v(xt,ot)?(me[W]=xt,me[pe]=ye,W=pe):(me[W]=ot,me[Be]=ye,W=Be);else if(pe<ie&&0>v(xt,ye))me[W]=xt,me[pe]=ye,W=pe;else break e}}return De}function v(me,De){var ye=me.sortIndex-De.sortIndex;return ye!==0?ye:me.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var w=performance;h.unstable_now=function(){return w.now()}}else{var O=Date,k=O.now();h.unstable_now=function(){return O.now()-k}}var I=[],E=[],R=1,b=null,F=3,H=!1,ne=!1,Y=!1,ee=typeof setTimeout=="function"?setTimeout:null,we=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(me){for(var De=f(E);De!==null;){if(De.callback===null)y(E);else if(De.startTime<=me)y(E),De.sortIndex=De.expirationTime,g(I,De);else break;De=f(E)}}function se(me){if(Y=!1,P(me),!ne)if(f(I)!==null)ne=!0,st(Se);else{var De=f(E);De!==null&&Ne(se,De.startTime-me)}}function Se(me,De){ne=!1,Y&&(Y=!1,we(Ce),Ce=-1),H=!0;var ye=F;try{for(P(De),b=f(I);b!==null&&(!(b.expirationTime>De)||me&&!qe());){var W=b.callback;if(typeof W=="function"){b.callback=null,F=b.priorityLevel;var ie=W(b.expirationTime<=De);De=h.unstable_now(),typeof ie=="function"?b.callback=ie:b===f(I)&&y(I),P(De)}else y(I);b=f(I)}if(b!==null)var ze=!0;else{var Be=f(E);Be!==null&&Ne(se,Be.startTime-De),ze=!1}return ze}finally{b=null,F=ye,H=!1}}var Ee=!1,re=null,Ce=-1,te=5,Ze=-1;function qe(){return!(h.unstable_now()-Ze<te)}function ve(){if(re!==null){var me=h.unstable_now();Ze=me;var De=!0;try{De=re(!0,me)}finally{De?Xe():(Ee=!1,re=null)}}else Ee=!1}var Xe;if(typeof le=="function")Xe=function(){le(ve)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,$=$e.port2;$e.port1.onmessage=ve,Xe=function(){$.postMessage(null)}}else Xe=function(){ee(ve,0)};function st(me){re=me,Ee||(Ee=!0,Xe())}function Ne(me,De){Ce=ee(function(){me(h.unstable_now())},De)}h.unstable_IdlePriority=5,h.unstable_ImmediatePriority=1,h.unstable_LowPriority=4,h.unstable_NormalPriority=3,h.unstable_Profiling=null,h.unstable_UserBlockingPriority=2,h.unstable_cancelCallback=function(me){me.callback=null},h.unstable_continueExecution=function(){ne||H||(ne=!0,st(Se))},h.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<me?Math.floor(1e3/me):5},h.unstable_getCurrentPriorityLevel=function(){return F},h.unstable_getFirstCallbackNode=function(){return f(I)},h.unstable_next=function(me){switch(F){case 1:case 2:case 3:var De=3;break;default:De=F}var ye=F;F=De;try{return me()}finally{F=ye}},h.unstable_pauseExecution=function(){},h.unstable_requestPaint=function(){},h.unstable_runWithPriority=function(me,De){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var ye=F;F=me;try{return De()}finally{F=ye}},h.unstable_scheduleCallback=function(me,De,ye){var W=h.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?W+ye:W):ye=W,me){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=ye+ie,me={id:R++,callback:De,priorityLevel:me,startTime:ye,expirationTime:ie,sortIndex:-1},ye>W?(me.sortIndex=ye,g(E,me),f(I)===null&&me===f(E)&&(Y?(we(Ce),Ce=-1):Y=!0,Ne(se,ye-W))):(me.sortIndex=ie,g(I,me),ne||H||(ne=!0,st(Se))),me},h.unstable_shouldYield=qe,h.unstable_wrapCallback=function(me){var De=F;return function(){var ye=F;F=De;try{return me.apply(this,arguments)}finally{F=ye}}}})(Nu)),Nu}var H1;function id(){return H1||(H1=1,Iu.exports=rd()),Iu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function sd(){if(G1)return Wn;G1=1;var h=Lu(),g=id();function f(t){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=new Set,v={};function w(t,i){O(t,i),O(t+"Capture",i)}function O(t,i){for(v[t]=i,t=0;t<i.length;t++)y.add(i[t])}var k=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R={},b={};function F(t){return I.call(b,t)?!0:I.call(R,t)?!1:E.test(t)?b[t]=!0:(R[t]=!0,!1)}function H(t,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ne(t,i,a,c){if(i===null||typeof i>"u"||H(t,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function Y(t,i,a,c,x,m,N){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=x,this.mustUseProperty=a,this.propertyName=t,this.type=i,this.sanitizeURL=m,this.removeEmptyString=N}var ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ee[t]=new Y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var i=t[0];ee[i]=new Y(i,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ee[t]=new Y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ee[t]=new Y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ee[t]=new Y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ee[t]=new Y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){ee[t]=new Y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){ee[t]=new Y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){ee[t]=new Y(t,5,!1,t.toLowerCase(),null,!1,!1)});var we=/[\-:]([a-z])/g;function le(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var i=t.replace(we,le);ee[i]=new Y(i,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var i=t.replace(we,le);ee[i]=new Y(i,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var i=t.replace(we,le);ee[i]=new Y(i,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){ee[t]=new Y(t,1,!1,t.toLowerCase(),null,!1,!1)}),ee.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){ee[t]=new Y(t,1,!1,t.toLowerCase(),null,!0,!0)});function P(t,i,a,c){var x=ee.hasOwnProperty(i)?ee[i]:null;(x!==null?x.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(ne(i,a,x,c)&&(a=null),c||x===null?F(i)&&(a===null?t.removeAttribute(i):t.setAttribute(i,""+a)):x.mustUseProperty?t[x.propertyName]=a===null?x.type===3?!1:"":a:(i=x.attributeName,c=x.attributeNamespace,a===null?t.removeAttribute(i):(x=x.type,a=x===3||x===4&&a===!0?"":""+a,c?t.setAttributeNS(c,i,a):t.setAttribute(i,a))))}var se=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Ze=Symbol.for("react.provider"),qe=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),me=Symbol.iterator;function De(t){return t===null||typeof t!="object"?null:(t=me&&t[me]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,W;function ie(t){if(W===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);W=i&&i[1]||""}return`
`+W+t}var ze=!1;function Be(t,i){if(!t||ze)return"";ze=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(J){var c=J}Reflect.construct(t,[],i)}else{try{i.call()}catch(J){c=J}t.call(i.prototype)}else{try{throw Error()}catch(J){c=J}t()}}catch(J){if(J&&c&&typeof J.stack=="string"){for(var x=J.stack.split(`
`),m=c.stack.split(`
`),N=x.length-1,B=m.length-1;1<=N&&0<=B&&x[N]!==m[B];)B--;for(;1<=N&&0<=B;N--,B--)if(x[N]!==m[B]){if(N!==1||B!==1)do if(N--,B--,0>B||x[N]!==m[B]){var U=`
`+x[N].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=N&&0<=B);break}}}finally{ze=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?ie(t):""}function ot(t){switch(t.tag){case 5:return ie(t.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return t=Be(t.type,!1),t;case 11:return t=Be(t.type.render,!1),t;case 1:return t=Be(t.type,!0),t;default:return""}}function pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case Ee:return"Portal";case te:return"Profiler";case Ce:return"StrictMode";case Xe:return"Suspense";case $e:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qe:return(t.displayName||"Context")+".Consumer";case Ze:return(t._context.displayName||"Context")+".Provider";case ve:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:pe(t.type)||"Memo";case st:i=t._payload,t=t._init;try{return pe(t(i))}catch{}}return null}function xt(t){var i=t.type;switch(t.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=i.render,t=t.displayName||t.name||"",i.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(i);case 8:return i===Ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ve(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mt(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $t(t){var i=mt(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var x=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return x.call(this)},set:function(N){c=""+N,m.call(this,N)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function en(t){t._valueTracker||(t._valueTracker=$t(t))}function bi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=mt(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function lt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rr(t,i){var a=i.checked;return ye({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Hn(t,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ve(i.value!=null?i.value:a),t._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ni(t,i){i=i.checked,i!=null&&P(t,"checked",i,!1)}function Gt(t,i){ni(t,i);var a=Ve(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}i.hasOwnProperty("value")?nt(t,i.type,a):i.hasOwnProperty("defaultValue")&&nt(t,i.type,Ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(t.defaultChecked=!!i.defaultChecked)}function Et(t,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+t._wrapperState.initialValue,a||i===t.value||(t.value=i),t.defaultValue=i}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function nt(t,i,a){(i!=="number"||lt(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Tr=Array.isArray;function Re(t,i,a,c){if(t=t.options,i){i={};for(var x=0;x<a.length;x++)i["$"+a[x]]=!0;for(a=0;a<t.length;a++)x=i.hasOwnProperty("$"+t[a].value),t[a].selected!==x&&(t[a].selected=x),x&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Ve(a),i=null,x=0;x<t.length;x++){if(t[x].value===a){t[x].selected=!0,c&&(t[x].defaultSelected=!0);return}i!==null||t[x].disabled||(i=t[x])}i!==null&&(i.selected=!0)}}function ri(t,i){if(i.dangerouslySetInnerHTML!=null)throw Error(f(91));return ye({},i,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fs(t,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(f(92));if(Tr(a)){if(1<a.length)throw Error(f(93));a=a[0]}i=a}i==null&&(i=""),a=i}t._wrapperState={initialValue:Ve(a)}}function rr(t,i){var a=Ve(i.value),c=Ve(i.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),i.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),c!=null&&(t.defaultValue=""+c)}function is(t){var i=t.textContent;i===t._wrapperState.initialValue&&i!==""&&i!==null&&(t.value=i)}function kn(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ss(t,i){return t==null||t==="http://www.w3.org/1999/xhtml"?kn(i):t==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gn,cn=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,x){MSApp.execUnsafeLocalFunction(function(){return t(i,a,c,x)})}:t})(function(t,i){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=i;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Gn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;i.firstChild;)t.appendChild(i.firstChild)}});function ii(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ta=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(t){ta.forEach(function(i){i=i+t.charAt(0).toUpperCase()+t.substring(1),_r[i]=_r[t]})});function Pt(t,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||_r.hasOwnProperty(t)&&_r[t]?(""+i).trim():i+"px"}function xe(t,i){t=t.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,x=Pt(a,i[a],c);a==="float"&&(a="cssFloat"),c?t.setProperty(a,x):t[a]=x}}var Xt=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gt(t,i){if(i){if(Xt[t]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(f(137,t));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(f(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(f(61))}if(i.style!=null&&typeof i.style!="object")throw Error(f(62))}}function It(t,i){if(t.indexOf("-")===-1)return typeof i.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function Oi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var os=null,et=null,Pn=null;function Us(t){if(t=co(t)){if(typeof os!="function")throw Error(f(280));var i=t.stateNode;i&&(i=tl(i),os(t.stateNode,t.type,i))}}function js(t){et?Pn?Pn.push(t):Pn=[t]:et=t}function Bn(){if(et){var t=et,i=Pn;if(Pn=et=null,Us(t),i)for(t=0;t<i.length;t++)Us(i[t])}}function ls(t,i){return t(i)}function tn(){}var br=!1;function Di(t,i,a){if(br)return t(i,a);br=!0;try{return ls(t,i,a)}finally{br=!1,(et!==null||Pn!==null)&&(tn(),Bn())}}function An(t,i){var a=t.stateNode;if(a===null)return null;var c=tl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(f(231,i,typeof a));return a}var zs=!1;if(k)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{zs=!1}function Vs(t,i,a,c,x,m,N,B,U){var J=Array.prototype.slice.call(arguments,3);try{i.apply(a,J)}catch(ce){this.onError(ce)}}var qt=!1,ir=null,mn=!1,Ae=null,si={onError:function(t){qt=!0,ir=t}};function Ws(t,i,a,c,x,m,N,B,U){qt=!1,ir=null,Vs.apply(si,arguments)}function Sn(t,i,a,c,x,m,N,B,U){if(Ws.apply(this,arguments),qt){if(qt){var J=ir;qt=!1,ir=null}else throw Error(f(198));mn||(mn=!0,Ae=J)}}function Ln(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Mi(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function ki(t){if(Ln(t)!==t)throw Error(f(188))}function sr(t){var i=t.alternate;if(!i){if(i=Ln(t),i===null)throw Error(f(188));return i!==t?null:t}for(var a=t,c=i;;){var x=a.return;if(x===null)break;var m=x.alternate;if(m===null){if(c=x.return,c!==null){a=c;continue}break}if(x.child===m.child){for(m=x.child;m;){if(m===a)return ki(x),t;if(m===c)return ki(x),i;m=m.sibling}throw Error(f(188))}if(a.return!==c.return)a=x,c=m;else{for(var N=!1,B=x.child;B;){if(B===a){N=!0,a=x,c=m;break}if(B===c){N=!0,c=x,a=m;break}B=B.sibling}if(!N){for(B=m.child;B;){if(B===a){N=!0,a=m,c=x;break}if(B===c){N=!0,c=m,a=x;break}B=B.sibling}if(!N)throw Error(f(189))}}if(a.alternate!==c)throw Error(f(190))}if(a.tag!==3)throw Error(f(188));return a.stateNode.current===a?t:i}function ko(t){return t=sr(t),t!==null?Po(t):null}function Po(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var i=Po(t);if(i!==null)return i;t=t.sibling}return null}var Yn=g.unstable_scheduleCallback,fn=g.unstable_cancelCallback,Nt=g.unstable_shouldYield,Bo=g.unstable_requestPaint,wt=g.unstable_now,Hs=g.unstable_getCurrentPriorityLevel,oe=g.unstable_ImmediatePriority,Lo=g.unstable_UserBlockingPriority,At=g.unstable_NormalPriority,oi=g.unstable_LowPriority,Fo=g.unstable_IdlePriority,ut=null,Qe=null;function rt(t){if(Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ut,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:Yt,Gs=Math.log,Xs=Math.LN2;function Yt(t){return t>>>=0,t===0?32:31-(Gs(t)/Xs|0)|0}var Zn=64,as=4194304;function St(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qn(t,i){var a=t.pendingLanes;if(a===0)return 0;var c=0,x=t.suspendedLanes,m=t.pingedLanes,N=a&268435455;if(N!==0){var B=N&~x;B!==0?c=St(B):(m&=N,m!==0&&(c=St(m)))}else N=a&~x,N!==0?c=St(N):m!==0&&(c=St(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&x)===0&&(x=c&-c,m=i&-i,x>=m||x===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=t.entangledLanes,i!==0)for(t=t.entanglements,i&=c;0<i;)a=31-On(i),x=1<<a,c|=t[a],i&=~x;return c}function na(t,i){switch(t){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,x=t.expirationTimes,m=t.pendingLanes;0<m;){var N=31-On(m),B=1<<N,U=x[N];U===-1?((B&a)===0||(B&c)!==0)&&(x[N]=na(B,i)):U<=i&&(t.expiredLanes|=B),m&=~B}}function yt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nn(){var t=Zn;return Zn<<=1,(Zn&4194240)===0&&(Zn=64),t}function G(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function D(t,i,a){t.pendingLanes|=i,i!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,i=31-On(i),t[i]=a}function ke(t,i){var a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<a;){var x=31-On(a),m=1<<x;i[x]=0,c[x]=-1,t[x]=-1,a&=~m}}function jt(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-On(a),x=1<<c;x&i|t[c]&i&&(t[c]|=i),a&=~x}}var Ke=0;function Uo(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var us,In,Pe,Rt,Ys,Zs=!1,ai=[],Kn=null,or=null,Or=null,Mt=new Map,xr=new Map,wn=[],je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jo(t,i){switch(t){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Mt.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(i.pointerId)}}function He(t,i,a,c,x,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[x]},i!==null&&(i=co(i),i!==null&&In(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),t)}function rn(t,i,a,c,x){switch(i){case"focusin":return Kn=He(Kn,t,i,a,c,x),!0;case"dragenter":return or=He(or,t,i,a,c,x),!0;case"mouseover":return Or=He(Or,t,i,a,c,x),!0;case"pointerover":var m=x.pointerId;return Mt.set(m,He(Mt.get(m)||null,t,i,a,c,x)),!0;case"gotpointercapture":return m=x.pointerId,xr.set(m,He(xr.get(m)||null,t,i,a,c,x)),!0}return!1}function zo(t){var i=Hi(t.target);if(i!==null){var a=Ln(i);if(a!==null){if(i=a.tag,i===13){if(i=Mi(a),i!==null){t.blockedOn=i,Ys(t.priority,function(){Pe(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ui(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cs(t.domEventName,t.eventSystemFlags,i[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Fr=c,a.target.dispatchEvent(c),Fr=null}else return i=co(a),i!==null&&In(i),t.blockedOn=a,!1;i.shift()}return!0}function Qs(t,i,a){ui(t)&&a.delete(i)}function Ur(){Zs=!1,Kn!==null&&ui(Kn)&&(Kn=null),or!==null&&ui(or)&&(or=null),Or!==null&&ui(Or)&&(Or=null),Mt.forEach(Qs),xr.forEach(Qs)}function Pi(t,i){t.blockedOn===i&&(t.blockedOn=null,Zs||(Zs=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,Ur)))}function mr(t){function i(x){return Pi(x,t)}if(0<ai.length){Pi(ai[0],t);for(var a=1;a<ai.length;a++){var c=ai[a];c.blockedOn===t&&(c.blockedOn=null)}}for(Kn!==null&&Pi(Kn,t),or!==null&&Pi(or,t),Or!==null&&Pi(Or,t),Mt.forEach(i),xr.forEach(i),a=0;a<wn.length;a++)c=wn[a],c.blockedOn===t&&(c.blockedOn=null);for(;0<wn.length&&(a=wn[0],a.blockedOn===null);)zo(a),a.blockedOn===null&&wn.shift()}var lr=se.ReactCurrentBatchConfig,Dr=!0;function Vo(t,i,a,c){var x=Ke,m=lr.transition;lr.transition=null;try{Ke=1,jr(t,i,a,c)}finally{Ke=x,lr.transition=m}}function Bi(t,i,a,c){var x=Ke,m=lr.transition;lr.transition=null;try{Ke=4,jr(t,i,a,c)}finally{Ke=x,lr.transition=m}}function jr(t,i,a,c){if(Dr){var x=cs(t,i,a,c);if(x===null)da(t,i,c,sn,a),jo(t,c);else if(rn(x,t,i,a,c))c.stopPropagation();else if(jo(t,c),i&4&&-1<je.indexOf(t)){for(;x!==null;){var m=co(x);if(m!==null&&us(m),m=cs(t,i,a,c),m===null&&da(t,i,c,sn,a),m===x)break;x=m}x!==null&&c.stopPropagation()}else da(t,i,c,null,a)}}var sn=null;function cs(t,i,a,c){if(sn=null,t=Oi(c),t=Hi(t),t!==null)if(i=Ln(t),i===null)t=null;else if(a=i.tag,a===13){if(t=Mi(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null);return sn=t,null}function Ks(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hs()){case oe:return 1;case Lo:return 4;case At:case oi:return 16;case Fo:return 536870912;default:return 16}default:return 16}}var wr=null,qs=null,fs=null;function Wo(){if(fs)return fs;var t,i=qs,a=i.length,c,x="value"in wr?wr.value:wr.textContent,m=x.length;for(t=0;t<a&&i[t]===x[t];t++);var N=a-t;for(c=1;c<=N&&i[a-c]===x[m-c];c++);return fs=x.slice(t,1<c?1-c:void 0)}function ct(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Fi(){return!1}function zt(t){function i(a,c,x,m,N){this._reactName=a,this._targetInst=x,this.type=c,this.nativeEvent=m,this.target=N,this.currentTarget=null;for(var B in t)t.hasOwnProperty(B)&&(a=t[B],this[B]=a?a(m):m[B]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Li:Fi,this.isPropagationStopped=Fi,this}return ye(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q=zt(ci),Ye=ye({},ci,{view:0,detail:0}),on=zt(Ye),fi,ds,Ui,hs=ye({},Ye,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(fi=t.screenX-Ui.screenX,ds=t.screenY-Ui.screenY):ds=fi=0,Ui=t),fi)},movementY:function(t){return"movementY"in t?t.movementY:ds}}),Ho=zt(hs),Js=ye({},hs,{dataTransfer:0}),Zt=zt(Js),$s=ye({},Ye,{relatedTarget:0}),Tt=zt($s),gs=ye({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=zt(gs),Ct=ye({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Le=zt(Ct),ra=ye({},ci,{data:0}),vt=zt(ra),Vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},di={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ia={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ar(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ia[t])?!!i[t]:!1}function ji(){return ar}var Go=ye({},Ye,{key:function(t){if(t.key){var i=Vr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ct(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?di[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(t){return t.type==="keypress"?ct(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ct(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eo=zt(Go),Xo=ye({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),to=zt(Xo),sa=ye({},Ye,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),hi=zt(sa),no=ye({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),oa=zt(no),zi=ye({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),la=zt(zi),Mr=[9,13,27,32],gi=k&&"CompositionEvent"in window,dn=null;k&&"documentMode"in document&&(dn=document.documentMode);var Yo=k&&"TextEvent"in window&&!dn,qn=k&&(!gi||dn&&8<dn&&11>=dn),Zo=" ",ps=!1;function Qo(t,i){switch(t){case"keyup":return Mr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yn=!1;function aa(t,i){switch(t){case"compositionend":return ro(i);case"keypress":return i.which!==32?null:(ps=!0,Zo);case"textInput":return t=i.data,t===Zo&&ps?null:t;default:return null}}function io(t,i){if(yn)return t==="compositionend"||!gi&&Qo(t,i)?(t=Wo(),fs=qs=wr=null,yn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qn&&i.locale!=="ko"?null:i.data;default:return null}}var Vi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function at(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vi[t.type]:i==="textarea"}function Wi(t,i,a,c){js(c),i=Jo(i,"onChange"),0<i.length&&(a=new q("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var A=null,e=null;function n(t){tc(t,0)}function r(t){var i=ws(t);if(bi(i))return t}function s(t,i){if(t==="change")return i}var o=!1;if(k){var l;if(k){var u="oninput"in document;if(!u){var d=document.createElement("div");d.setAttribute("oninput","return;"),u=typeof d.oninput=="function"}l=u}else l=!1;o=l&&(!document.documentMode||9<document.documentMode)}function p(){A&&(A.detachEvent("onpropertychange",C),e=A=null)}function C(t){if(t.propertyName==="value"&&r(e)){var i=[];Wi(i,e,t,Oi(t)),Di(n,i)}}function S(t,i,a){t==="focusin"?(p(),A=i,e=a,A.attachEvent("onpropertychange",C)):t==="focusout"&&p()}function T(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r(e)}function M(t,i){if(t==="click")return r(i)}function L(t,i){if(t==="input"||t==="change")return r(i)}function j(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var V=typeof Object.is=="function"?Object.is:j;function K(t,i){if(V(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var x=a[c];if(!I.call(i,x)||!V(t[x],i[x]))return!1}return!0}function de(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function he(t,i){var a=de(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=de(a)}}function ue(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ue(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Je(){for(var t=window,i=lt();i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=lt(t.document)}return i}function Ge(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Nn(t){var i=Je(),a=t.focusedElem,c=t.selectionRange;if(i!==a&&a&&a.ownerDocument&&ue(a.ownerDocument.documentElement,a)){if(c!==null&&Ge(a)){if(i=c.start,t=c.end,t===void 0&&(t=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(t,a.value.length);else if(t=(i=a.ownerDocument||document)&&i.defaultView||window,t.getSelection){t=t.getSelection();var x=a.textContent.length,m=Math.min(c.start,x);c=c.end===void 0?m:Math.min(c.end,x),!t.extend&&m>c&&(x=c,c=m,m=x),x=he(a,m);var N=he(a,c);x&&N&&(t.rangeCount!==1||t.anchorNode!==x.node||t.anchorOffset!==x.offset||t.focusNode!==N.node||t.focusOffset!==N.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),t.removeAllRanges(),m>c?(t.addRange(i),t.extend(N.node,N.offset)):(i.setEnd(N.node,N.offset),t.addRange(i)))}}for(i=[],t=a;t=t.parentNode;)t.nodeType===1&&i.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)t=i[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jn=k&&"documentMode"in document&&11>=document.documentMode,Qt=null,pt=null,Bt=null,En=!1;function Wr(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;En||Qt==null||Qt!==lt(c)||(c=Qt,"selectionStart"in c&&Ge(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bt&&K(Bt,c)||(Bt=c,c=Jo(pt,"onSelect"),0<c.length&&(i=new q("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=Qt)))}function yr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var pi={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},so={},Yu={};k&&(Yu=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function Ko(t){if(so[t])return so[t];if(!pi[t])return t;var i=pi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yu)return so[t]=i[a];return t}var Zu=Ko("animationend"),Qu=Ko("animationiteration"),Ku=Ko("animationstart"),qu=Ko("transitionend"),Ju=new Map,$u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(t,i){Ju.set(t,i),w(i,[t])}for(var ua=0;ua<$u.length;ua++){var ca=$u[ua],af=ca.toLowerCase(),uf=ca[0].toUpperCase()+ca.slice(1);xi(af,"on"+uf)}xi(Zu,"onAnimationEnd"),xi(Qu,"onAnimationIteration"),xi(Ku,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(qu,"onTransitionEnd"),O("onMouseEnter",["mouseout","mouseover"]),O("onMouseLeave",["mouseout","mouseover"]),O("onPointerEnter",["pointerout","pointerover"]),O("onPointerLeave",["pointerout","pointerover"]),w("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),w("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),w("onBeforeInput",["compositionend","keypress","textInput","paste"]),w("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),w("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cf=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function ec(t,i,a){var c=t.type||"unknown-event";t.currentTarget=a,Sn(c,i,void 0,t),t.currentTarget=null}function tc(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],x=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var N=c.length-1;0<=N;N--){var B=c[N],U=B.instance,J=B.currentTarget;if(B=B.listener,U!==m&&x.isPropagationStopped())break e;ec(x,B,J),m=U}else for(N=0;N<c.length;N++){if(B=c[N],U=B.instance,J=B.currentTarget,B=B.listener,U!==m&&x.isPropagationStopped())break e;ec(x,B,J),m=U}}}if(mn)throw t=Ae,mn=!1,Ae=null,t}function bt(t,i){var a=i[wa];a===void 0&&(a=i[wa]=new Set);var c=t+"__bubble";a.has(c)||(nc(i,t,2,!1),a.add(c))}function fa(t,i,a){var c=0;i&&(c|=4),nc(a,t,c,i)}var qo="_reactListening"+Math.random().toString(36).slice(2);function lo(t){if(!t[qo]){t[qo]=!0,y.forEach(function(a){a!=="selectionchange"&&(cf.has(a)||fa(a,!1,t),fa(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qo]||(i[qo]=!0,fa("selectionchange",!1,i))}}function nc(t,i,a,c){switch(Ks(i)){case 1:var x=Vo;break;case 4:x=Bi;break;default:x=jr}a=x.bind(null,i,a,t),x=void 0,!zs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),c?x!==void 0?t.addEventListener(i,a,{capture:!0,passive:x}):t.addEventListener(i,a,!0):x!==void 0?t.addEventListener(i,a,{passive:x}):t.addEventListener(i,a,!1)}function da(t,i,a,c,x){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var N=c.tag;if(N===3||N===4){var B=c.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(N===4)for(N=c.return;N!==null;){var U=N.tag;if((U===3||U===4)&&(U=N.stateNode.containerInfo,U===x||U.nodeType===8&&U.parentNode===x))return;N=N.return}for(;B!==null;){if(N=Hi(B),N===null)return;if(U=N.tag,U===5||U===6){c=m=N;continue e}B=B.parentNode}}c=c.return}Di(function(){var J=m,ce=Oi(a),fe=[];e:{var ae=Ju.get(t);if(ae!==void 0){var Ie=q,be=t;switch(t){case"keypress":if(ct(a)===0)break e;case"keydown":case"keyup":Ie=eo;break;case"focusin":be="focus",Ie=Tt;break;case"focusout":be="blur",Ie=Tt;break;case"beforeblur":case"afterblur":Ie=Tt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=hi;break;case Zu:case Qu:case Ku:Ie=zr;break;case qu:Ie=oa;break;case"scroll":Ie=on;break;case"wheel":Ie=la;break;case"copy":case"cut":case"paste":Ie=Le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=to}var Oe=(i&4)!==0,Kt=!Oe&&t==="scroll",X=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var z=J,Q;z!==null;){Q=z;var ge=Q.stateNode;if(Q.tag===5&&ge!==null&&(Q=ge,X!==null&&(ge=An(z,X),ge!=null&&Oe.push(ao(z,ge,Q)))),Kt)break;z=z.return}0<Oe.length&&(ae=new Ie(ae,be,null,a,ce),fe.push({event:ae,listeners:Oe}))}}if((i&7)===0){e:{if(ae=t==="mouseover"||t==="pointerover",Ie=t==="mouseout"||t==="pointerout",ae&&a!==Fr&&(be=a.relatedTarget||a.fromElement)&&(Hi(be)||be[Hr]))break e;if((Ie||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ie?(be=a.relatedTarget||a.toElement,Ie=J,be=be?Hi(be):null,be!==null&&(Kt=Ln(be),be!==Kt||be.tag!==5&&be.tag!==6)&&(be=null)):(Ie=null,be=J),Ie!==be)){if(Oe=Ho,ge="onMouseLeave",X="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(Oe=to,ge="onPointerLeave",X="onPointerEnter",z="pointer"),Kt=Ie==null?ae:ws(Ie),Q=be==null?ae:ws(be),ae=new Oe(ge,z+"leave",Ie,a,ce),ae.target=Kt,ae.relatedTarget=Q,ge=null,Hi(ce)===J&&(Oe=new Oe(X,z+"enter",be,a,ce),Oe.target=Q,Oe.relatedTarget=Kt,ge=Oe),Kt=ge,Ie&&be)t:{for(Oe=Ie,X=be,z=0,Q=Oe;Q;Q=xs(Q))z++;for(Q=0,ge=X;ge;ge=xs(ge))Q++;for(;0<z-Q;)Oe=xs(Oe),z--;for(;0<Q-z;)X=xs(X),Q--;for(;z--;){if(Oe===X||X!==null&&Oe===X.alternate)break t;Oe=xs(Oe),X=xs(X)}Oe=null}else Oe=null;Ie!==null&&rc(fe,ae,Ie,Oe,!1),be!==null&&Kt!==null&&rc(fe,Kt,be,Oe,!0)}}e:{if(ae=J?ws(J):window,Ie=ae.nodeName&&ae.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&ae.type==="file")var Me=s;else if(at(ae))if(o)Me=L;else{Me=T;var Fe=S}else(Ie=ae.nodeName)&&Ie.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(Me=M);if(Me&&(Me=Me(t,J))){Wi(fe,Me,a,ce);break e}Fe&&Fe(t,ae,J),t==="focusout"&&(Fe=ae._wrapperState)&&Fe.controlled&&ae.type==="number"&&nt(ae,"number",ae.value)}switch(Fe=J?ws(J):window,t){case"focusin":(at(Fe)||Fe.contentEditable==="true")&&(Qt=Fe,pt=J,Bt=null);break;case"focusout":Bt=pt=Qt=null;break;case"mousedown":En=!0;break;case"contextmenu":case"mouseup":case"dragend":En=!1,Wr(fe,a,ce);break;case"selectionchange":if(Jn)break;case"keydown":case"keyup":Wr(fe,a,ce)}var Ue;if(gi)e:{switch(t){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else yn?Qo(t,a)&&(We="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(We="onCompositionStart");We&&(qn&&a.locale!=="ko"&&(yn||We!=="onCompositionStart"?We==="onCompositionEnd"&&yn&&(Ue=Wo()):(wr=ce,qs="value"in wr?wr.value:wr.textContent,yn=!0)),Fe=Jo(J,We),0<Fe.length&&(We=new vt(We,t,null,a,ce),fe.push({event:We,listeners:Fe}),Ue?We.data=Ue:(Ue=ro(a),Ue!==null&&(We.data=Ue)))),(Ue=Yo?aa(t,a):io(t,a))&&(J=Jo(J,"onBeforeInput"),0<J.length&&(ce=new vt("onBeforeInput","beforeinput",null,a,ce),fe.push({event:ce,listeners:J}),ce.data=Ue))}tc(fe,i)})}function ao(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Jo(t,i){for(var a=i+"Capture",c=[];t!==null;){var x=t,m=x.stateNode;x.tag===5&&m!==null&&(x=m,m=An(t,a),m!=null&&c.unshift(ao(t,m,x)),m=An(t,i),m!=null&&c.push(ao(t,m,x))),t=t.return}return c}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rc(t,i,a,c,x){for(var m=i._reactName,N=[];a!==null&&a!==c;){var B=a,U=B.alternate,J=B.stateNode;if(U!==null&&U===c)break;B.tag===5&&J!==null&&(B=J,x?(U=An(a,m),U!=null&&N.unshift(ao(a,U,B))):x||(U=An(a,m),U!=null&&N.push(ao(a,U,B)))),a=a.return}N.length!==0&&t.push({event:i,listeners:N})}var ff=/\r\n?/g,df=/\u0000|\uFFFD/g;function ic(t){return(typeof t=="string"?t:""+t).replace(ff,`
`).replace(df,"")}function $o(t,i,a){if(i=ic(i),ic(t)!==i&&a)throw Error(f(425))}function el(){}var ha=null,ga=null;function pa(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,hf=typeof clearTimeout=="function"?clearTimeout:void 0,sc=typeof Promise=="function"?Promise:void 0,gf=typeof queueMicrotask=="function"?queueMicrotask:typeof sc<"u"?function(t){return sc.resolve(null).then(t).catch(pf)}:xa;function pf(t){setTimeout(function(){throw t})}function ma(t,i){var a=i,c=0;do{var x=a.nextSibling;if(t.removeChild(a),x&&x.nodeType===8)if(a=x.data,a==="/$"){if(c===0){t.removeChild(x),mr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=x}while(a);mr(i)}function mi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return t}function oc(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),kr="__reactFiber$"+ms,uo="__reactProps$"+ms,Hr="__reactContainer$"+ms,wa="__reactEvents$"+ms,xf="__reactListeners$"+ms,mf="__reactHandles$"+ms;function Hi(t){var i=t[kr];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Hr]||a[kr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=oc(t);t!==null;){if(a=t[kr])return a;t=oc(t)}return i}t=a,a=t.parentNode}return null}function co(t){return t=t[kr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(f(33))}function tl(t){return t[uo]||null}var ya=[],ys=-1;function wi(t){return{current:t}}function Ot(t){0>ys||(t.current=ya[ys],ya[ys]=null,ys--)}function _t(t,i){ys++,ya[ys]=t.current,t.current=i}var yi={},Rn=wi(yi),Fn=wi(!1),Gi=yi;function Es(t,i){var a=t.type.contextTypes;if(!a)return yi;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var x={},m;for(m in a)x[m]=i[m];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=x),x}function Un(t){return t=t.childContextTypes,t!=null}function nl(){Ot(Fn),Ot(Rn)}function lc(t,i,a){if(Rn.current!==yi)throw Error(f(168));_t(Rn,i),_t(Fn,a)}function ac(t,i,a){var c=t.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var x in c)if(!(x in i))throw Error(f(108,xt(t)||"Unknown",x));return ye({},a,c)}function rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yi,Gi=Rn.current,_t(Rn,t),_t(Fn,Fn.current),!0}function uc(t,i,a){var c=t.stateNode;if(!c)throw Error(f(169));a?(t=ac(t,i,Gi),c.__reactInternalMemoizedMergedChildContext=t,Ot(Fn),Ot(Rn),_t(Rn,t)):Ot(Fn),_t(Fn,a)}var Gr=null,il=!1,Ea=!1;function cc(t){Gr===null?Gr=[t]:Gr.push(t)}function wf(t){il=!0,cc(t)}function Ei(){if(!Ea&&Gr!==null){Ea=!0;var t=0,i=Ke;try{var a=Gr;for(Ke=1;t<a.length;t++){var c=a[t];do c=c(!0);while(c!==null)}Gr=null,il=!1}catch(x){throw Gr!==null&&(Gr=Gr.slice(t+1)),Yn(oe,Ei),x}finally{Ke=i,Ea=!1}}return null}var Cs=[],vs=0,sl=null,ol=0,ur=[],cr=0,Xi=null,Xr=1,Yr="";function Yi(t,i){Cs[vs++]=ol,Cs[vs++]=sl,sl=t,ol=i}function fc(t,i,a){ur[cr++]=Xr,ur[cr++]=Yr,ur[cr++]=Xi,Xi=t;var c=Xr;t=Yr;var x=32-On(c)-1;c&=~(1<<x),a+=1;var m=32-On(i)+x;if(30<m){var N=x-x%5;m=(c&(1<<N)-1).toString(32),c>>=N,x-=N,Xr=1<<32-On(i)+x|a<<x|c,Yr=m+t}else Xr=1<<m|a<<x|c,Yr=t}function Ca(t){t.return!==null&&(Yi(t,1),fc(t,1,0))}function va(t){for(;t===sl;)sl=Cs[--vs],Cs[vs]=null,ol=Cs[--vs],Cs[vs]=null;for(;t===Xi;)Xi=ur[--cr],ur[cr]=null,Yr=ur[--cr],ur[cr]=null,Xr=ur[--cr],ur[cr]=null}var $n=null,er=null,kt=!1,Er=null;function dc(t,i){var a=gr(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=t,i=t.deletions,i===null?(t.deletions=[a],t.flags|=16):i.push(a)}function hc(t,i){switch(t.tag){case 5:var a=t.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(t.stateNode=i,$n=t,er=mi(i.firstChild),!0):!1;case 6:return i=t.pendingProps===""||i.nodeType!==3?null:i,i!==null?(t.stateNode=i,$n=t,er=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Xi!==null?{id:Xr,overflow:Yr}:null,t.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=gr(18,null,null,0),a.stateNode=i,a.return=t,t.child=a,$n=t,er=null,!0):!1;default:return!1}}function Aa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sa(t){if(kt){var i=er;if(i){var a=i;if(!hc(t,i)){if(Aa(t))throw Error(f(418));i=mi(a.nextSibling);var c=$n;i&&hc(t,i)?dc(c,a):(t.flags=t.flags&-4097|2,kt=!1,$n=t)}}else{if(Aa(t))throw Error(f(418));t.flags=t.flags&-4097|2,kt=!1,$n=t}}}function gc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function ll(t){if(t!==$n)return!1;if(!kt)return gc(t),kt=!0,!1;var i;if((i=t.tag!==3)&&!(i=t.tag!==5)&&(i=t.type,i=i!=="head"&&i!=="body"&&!pa(t.type,t.memoizedProps)),i&&(i=er)){if(Aa(t))throw pc(),Error(f(418));for(;i;)dc(t,i),i=mi(i.nextSibling)}if(gc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(i===0){er=mi(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}t=t.nextSibling}er=null}}else er=$n?mi(t.stateNode.nextSibling):null;return!0}function pc(){for(var t=er;t;)t=mi(t.nextSibling)}function As(){er=$n=null,kt=!1}function Ia(t){Er===null?Er=[t]:Er.push(t)}var yf=se.ReactCurrentBatchConfig;function fo(t,i,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(f(309));var c=a.stateNode}if(!c)throw Error(f(147,t));var x=c,m=""+t;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(N){var B=x.refs;N===null?delete B[m]:B[m]=N},i._stringRef=m,i)}if(typeof t!="string")throw Error(f(284));if(!a._owner)throw Error(f(290,t))}return t}function al(t,i){throw t=Object.prototype.toString.call(i),Error(f(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t))}function xc(t){var i=t._init;return i(t._payload)}function mc(t){function i(X,z){if(t){var Q=X.deletions;Q===null?(X.deletions=[z],X.flags|=16):Q.push(z)}}function a(X,z){if(!t)return null;for(;z!==null;)i(X,z),z=z.sibling;return null}function c(X,z){for(X=new Map;z!==null;)z.key!==null?X.set(z.key,z):X.set(z.index,z),z=z.sibling;return X}function x(X,z){return X=Ti(X,z),X.index=0,X.sibling=null,X}function m(X,z,Q){return X.index=Q,t?(Q=X.alternate,Q!==null?(Q=Q.index,Q<z?(X.flags|=2,z):Q):(X.flags|=2,z)):(X.flags|=1048576,z)}function N(X){return t&&X.alternate===null&&(X.flags|=2),X}function B(X,z,Q,ge){return z===null||z.tag!==6?(z=xu(Q,X.mode,ge),z.return=X,z):(z=x(z,Q),z.return=X,z)}function U(X,z,Q,ge){var Me=Q.type;return Me===re?ce(X,z,Q.props.children,ge,Q.key):z!==null&&(z.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===st&&xc(Me)===z.type)?(ge=x(z,Q.props),ge.ref=fo(X,z,Q),ge.return=X,ge):(ge=Dl(Q.type,Q.key,Q.props,null,X.mode,ge),ge.ref=fo(X,z,Q),ge.return=X,ge)}function J(X,z,Q,ge){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=mu(Q,X.mode,ge),z.return=X,z):(z=x(z,Q.children||[]),z.return=X,z)}function ce(X,z,Q,ge,Me){return z===null||z.tag!==7?(z=ts(Q,X.mode,ge,Me),z.return=X,z):(z=x(z,Q),z.return=X,z)}function fe(X,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=xu(""+z,X.mode,Q),z.return=X,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:return Q=Dl(z.type,z.key,z.props,null,X.mode,Q),Q.ref=fo(X,null,z),Q.return=X,Q;case Ee:return z=mu(z,X.mode,Q),z.return=X,z;case st:var ge=z._init;return fe(X,ge(z._payload),Q)}if(Tr(z)||De(z))return z=ts(z,X.mode,Q,null),z.return=X,z;al(X,z)}return null}function ae(X,z,Q,ge){var Me=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Me!==null?null:B(X,z,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Se:return Q.key===Me?U(X,z,Q,ge):null;case Ee:return Q.key===Me?J(X,z,Q,ge):null;case st:return Me=Q._init,ae(X,z,Me(Q._payload),ge)}if(Tr(Q)||De(Q))return Me!==null?null:ce(X,z,Q,ge,null);al(X,Q)}return null}function Ie(X,z,Q,ge,Me){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return X=X.get(Q)||null,B(z,X,""+ge,Me);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Se:return X=X.get(ge.key===null?Q:ge.key)||null,U(z,X,ge,Me);case Ee:return X=X.get(ge.key===null?Q:ge.key)||null,J(z,X,ge,Me);case st:var Fe=ge._init;return Ie(X,z,Q,Fe(ge._payload),Me)}if(Tr(ge)||De(ge))return X=X.get(Q)||null,ce(z,X,ge,Me,null);al(z,ge)}return null}function be(X,z,Q,ge){for(var Me=null,Fe=null,Ue=z,We=z=0,pn=null;Ue!==null&&We<Q.length;We++){Ue.index>We?(pn=Ue,Ue=null):pn=Ue.sibling;var ht=ae(X,Ue,Q[We],ge);if(ht===null){Ue===null&&(Ue=pn);break}t&&Ue&&ht.alternate===null&&i(X,Ue),z=m(ht,z,We),Fe===null?Me=ht:Fe.sibling=ht,Fe=ht,Ue=pn}if(We===Q.length)return a(X,Ue),kt&&Yi(X,We),Me;if(Ue===null){for(;We<Q.length;We++)Ue=fe(X,Q[We],ge),Ue!==null&&(z=m(Ue,z,We),Fe===null?Me=Ue:Fe.sibling=Ue,Fe=Ue);return kt&&Yi(X,We),Me}for(Ue=c(X,Ue);We<Q.length;We++)pn=Ie(Ue,X,We,Q[We],ge),pn!==null&&(t&&pn.alternate!==null&&Ue.delete(pn.key===null?We:pn.key),z=m(pn,z,We),Fe===null?Me=pn:Fe.sibling=pn,Fe=pn);return t&&Ue.forEach(function(_i){return i(X,_i)}),kt&&Yi(X,We),Me}function Oe(X,z,Q,ge){var Me=De(Q);if(typeof Me!="function")throw Error(f(150));if(Q=Me.call(Q),Q==null)throw Error(f(151));for(var Fe=Me=null,Ue=z,We=z=0,pn=null,ht=Q.next();Ue!==null&&!ht.done;We++,ht=Q.next()){Ue.index>We?(pn=Ue,Ue=null):pn=Ue.sibling;var _i=ae(X,Ue,ht.value,ge);if(_i===null){Ue===null&&(Ue=pn);break}t&&Ue&&_i.alternate===null&&i(X,Ue),z=m(_i,z,We),Fe===null?Me=_i:Fe.sibling=_i,Fe=_i,Ue=pn}if(ht.done)return a(X,Ue),kt&&Yi(X,We),Me;if(Ue===null){for(;!ht.done;We++,ht=Q.next())ht=fe(X,ht.value,ge),ht!==null&&(z=m(ht,z,We),Fe===null?Me=ht:Fe.sibling=ht,Fe=ht);return kt&&Yi(X,We),Me}for(Ue=c(X,Ue);!ht.done;We++,ht=Q.next())ht=Ie(Ue,X,We,ht.value,ge),ht!==null&&(t&&ht.alternate!==null&&Ue.delete(ht.key===null?We:ht.key),z=m(ht,z,We),Fe===null?Me=ht:Fe.sibling=ht,Fe=ht);return t&&Ue.forEach(function(Jf){return i(X,Jf)}),kt&&Yi(X,We),Me}function Kt(X,z,Q,ge){if(typeof Q=="object"&&Q!==null&&Q.type===re&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Se:e:{for(var Me=Q.key,Fe=z;Fe!==null;){if(Fe.key===Me){if(Me=Q.type,Me===re){if(Fe.tag===7){a(X,Fe.sibling),z=x(Fe,Q.props.children),z.return=X,X=z;break e}}else if(Fe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===st&&xc(Me)===Fe.type){a(X,Fe.sibling),z=x(Fe,Q.props),z.ref=fo(X,Fe,Q),z.return=X,X=z;break e}a(X,Fe);break}else i(X,Fe);Fe=Fe.sibling}Q.type===re?(z=ts(Q.props.children,X.mode,ge,Q.key),z.return=X,X=z):(ge=Dl(Q.type,Q.key,Q.props,null,X.mode,ge),ge.ref=fo(X,z,Q),ge.return=X,X=ge)}return N(X);case Ee:e:{for(Fe=Q.key;z!==null;){if(z.key===Fe)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){a(X,z.sibling),z=x(z,Q.children||[]),z.return=X,X=z;break e}else{a(X,z);break}else i(X,z);z=z.sibling}z=mu(Q,X.mode,ge),z.return=X,X=z}return N(X);case st:return Fe=Q._init,Kt(X,z,Fe(Q._payload),ge)}if(Tr(Q))return be(X,z,Q,ge);if(De(Q))return Oe(X,z,Q,ge);al(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(a(X,z.sibling),z=x(z,Q),z.return=X,X=z):(a(X,z),z=xu(Q,X.mode,ge),z.return=X,X=z),N(X)):a(X,z)}return Kt}var Ss=mc(!0),wc=mc(!1),ul=wi(null),cl=null,Is=null,Na=null;function Ra(){Na=Is=cl=null}function Ta(t){var i=ul.current;Ot(ul),t._currentValue=i}function _a(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function Ns(t,i){cl=t,Na=Is=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&i)!==0&&(jn=!0),t.firstContext=null)}function fr(t){var i=t._currentValue;if(Na!==t)if(t={context:t,memoizedValue:i,next:null},Is===null){if(cl===null)throw Error(f(308));Is=t,cl.dependencies={lanes:0,firstContext:t}}else Is=Is.next=t;return i}var Zi=null;function ba(t){Zi===null?Zi=[t]:Zi.push(t)}function yc(t,i,a,c){var x=i.interleaved;return x===null?(a.next=a,ba(i)):(a.next=x.next,x.next=a),i.interleaved=a,Zr(t,c)}function Zr(t,i){t.lanes|=i;var a=t.alternate;for(a!==null&&(a.lanes|=i),a=t,t=t.return;t!==null;)t.childLanes|=i,a=t.alternate,a!==null&&(a.childLanes|=i),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Ci=!1;function Oa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ec(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,i){return{eventTime:t,lane:i,tag:0,payload:null,callback:null,next:null}}function vi(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(ft&2)!==0){var x=c.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),c.pending=i,Zr(t,a)}return x=c.interleaved,x===null?(i.next=i,ba(c)):(i.next=x.next,x.next=i),c.interleaved=i,Zr(t,a)}function fl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,jt(t,a)}}function Cc(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var x=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var N={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?x=m=N:m=m.next=N,a=a.next}while(a!==null);m===null?x=m=i:m=m.next=i}else x=m=i;a={baseState:c.baseState,firstBaseUpdate:x,lastBaseUpdate:m,shared:c.shared,effects:c.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}function dl(t,i,a,c){var x=t.updateQueue;Ci=!1;var m=x.firstBaseUpdate,N=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var U=B,J=U.next;U.next=null,N===null?m=J:N.next=J,N=U;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,B=ce.lastBaseUpdate,B!==N&&(B===null?ce.firstBaseUpdate=J:B.next=J,ce.lastBaseUpdate=U))}if(m!==null){var fe=x.baseState;N=0,ce=J=U=null,B=m;do{var ae=B.lane,Ie=B.eventTime;if((c&ae)===ae){ce!==null&&(ce=ce.next={eventTime:Ie,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var be=t,Oe=B;switch(ae=i,Ie=a,Oe.tag){case 1:if(be=Oe.payload,typeof be=="function"){fe=be.call(Ie,fe,ae);break e}fe=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Oe.payload,ae=typeof be=="function"?be.call(Ie,fe,ae):be,ae==null)break e;fe=ye({},fe,ae);break e;case 2:Ci=!0}}B.callback!==null&&B.lane!==0&&(t.flags|=64,ae=x.effects,ae===null?x.effects=[B]:ae.push(B))}else Ie={eventTime:Ie,lane:ae,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ce===null?(J=ce=Ie,U=fe):ce=ce.next=Ie,N|=ae;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;ae=B,B=ae.next,ae.next=null,x.lastBaseUpdate=ae,x.shared.pending=null}}while(!0);if(ce===null&&(U=fe),x.baseState=U,x.firstBaseUpdate=J,x.lastBaseUpdate=ce,i=x.shared.interleaved,i!==null){x=i;do N|=x.lane,x=x.next;while(x!==i)}else m===null&&(x.shared.lanes=0);qi|=N,t.lanes=N,t.memoizedState=fe}}function vc(t,i,a){if(t=i.effects,i.effects=null,t!==null)for(i=0;i<t.length;i++){var c=t[i],x=c.callback;if(x!==null){if(c.callback=null,c=a,typeof x!="function")throw Error(f(191,x));x.call(c)}}}var ho={},Pr=wi(ho),go=wi(ho),po=wi(ho);function Qi(t){if(t===ho)throw Error(f(174));return t}function Da(t,i){switch(_t(po,i),_t(go,t),_t(Pr,ho),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ss(null,"");break;default:t=t===8?i.parentNode:i,i=t.namespaceURI||null,t=t.tagName,i=ss(i,t)}Ot(Pr),_t(Pr,i)}function Rs(){Ot(Pr),Ot(go),Ot(po)}function Ac(t){Qi(po.current);var i=Qi(Pr.current),a=ss(i,t.type);i!==a&&(_t(go,t),_t(Pr,a))}function Ma(t){go.current===t&&(Ot(Pr),Ot(go))}var Lt=wi(0);function hl(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ka=[];function Pa(){for(var t=0;t<ka.length;t++)ka[t]._workInProgressVersionPrimary=null;ka.length=0}var gl=se.ReactCurrentDispatcher,Ba=se.ReactCurrentBatchConfig,Ki=0,Ft=null,ln=null,hn=null,pl=!1,xo=!1,mo=0,Ef=0;function Tn(){throw Error(f(321))}function La(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!V(t[a],i[a]))return!1;return!0}function Fa(t,i,a,c,x,m){if(Ki=m,Ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,gl.current=t===null||t.memoizedState===null?Sf:If,t=a(c,x),xo){m=0;do{if(xo=!1,mo=0,25<=m)throw Error(f(301));m+=1,hn=ln=null,i.updateQueue=null,gl.current=Nf,t=a(c,x)}while(xo)}if(gl.current=wl,i=ln!==null&&ln.next!==null,Ki=0,hn=ln=Ft=null,pl=!1,i)throw Error(f(300));return t}function Ua(){var t=mo!==0;return mo=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ft.memoizedState=hn=t:hn=hn.next=t,hn}function dr(){if(ln===null){var t=Ft.alternate;t=t!==null?t.memoizedState:null}else t=ln.next;var i=hn===null?Ft.memoizedState:hn.next;if(i!==null)hn=i,ln=t;else{if(t===null)throw Error(f(310));ln=t,t={memoizedState:ln.memoizedState,baseState:ln.baseState,baseQueue:ln.baseQueue,queue:ln.queue,next:null},hn===null?Ft.memoizedState=hn=t:hn=hn.next=t}return hn}function wo(t,i){return typeof i=="function"?i(t):i}function ja(t){var i=dr(),a=i.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=t;var c=ln,x=c.baseQueue,m=a.pending;if(m!==null){if(x!==null){var N=x.next;x.next=m.next,m.next=N}c.baseQueue=x=m,a.pending=null}if(x!==null){m=x.next,c=c.baseState;var B=N=null,U=null,J=m;do{var ce=J.lane;if((Ki&ce)===ce)U!==null&&(U=U.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),c=J.hasEagerState?J.eagerState:t(c,J.action);else{var fe={lane:ce,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};U===null?(B=U=fe,N=c):U=U.next=fe,Ft.lanes|=ce,qi|=ce}J=J.next}while(J!==null&&J!==m);U===null?N=c:U.next=B,V(c,i.memoizedState)||(jn=!0),i.memoizedState=c,i.baseState=N,i.baseQueue=U,a.lastRenderedState=c}if(t=a.interleaved,t!==null){x=t;do m=x.lane,Ft.lanes|=m,qi|=m,x=x.next;while(x!==t)}else x===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function za(t){var i=dr(),a=i.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=t;var c=a.dispatch,x=a.pending,m=i.memoizedState;if(x!==null){a.pending=null;var N=x=x.next;do m=t(m,N.action),N=N.next;while(N!==x);V(m,i.memoizedState)||(jn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Sc(){}function Ic(t,i){var a=Ft,c=dr(),x=i(),m=!V(c.memoizedState,x);if(m&&(c.memoizedState=x,jn=!0),c=c.queue,Va(Tc.bind(null,a,c,t),[t]),c.getSnapshot!==i||m||hn!==null&&hn.memoizedState.tag&1){if(a.flags|=2048,yo(9,Rc.bind(null,a,c,x,i),void 0,null),gn===null)throw Error(f(349));(Ki&30)!==0||Nc(a,i,x)}return x}function Nc(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ft.updateQueue,i===null?(i={lastEffect:null,stores:null},Ft.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Rc(t,i,a,c){i.value=a,i.getSnapshot=c,_c(i)&&bc(t)}function Tc(t,i,a){return a(function(){_c(i)&&bc(t)})}function _c(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!V(t,a)}catch{return!0}}function bc(t){var i=Zr(t,1);i!==null&&Sr(i,t,1,-1)}function Oc(t){var i=Br();return typeof t=="function"&&(t=t()),i.memoizedState=i.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:t},i.queue=t,t=t.dispatch=Af.bind(null,Ft,t),[i.memoizedState,t]}function yo(t,i,a,c){return t={tag:t,create:i,destroy:a,deps:c,next:null},i=Ft.updateQueue,i===null?(i={lastEffect:null,stores:null},Ft.updateQueue=i,i.lastEffect=t.next=t):(a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t)),t}function Dc(){return dr().memoizedState}function xl(t,i,a,c){var x=Br();Ft.flags|=t,x.memoizedState=yo(1|i,a,void 0,c===void 0?null:c)}function ml(t,i,a,c){var x=dr();c=c===void 0?null:c;var m=void 0;if(ln!==null){var N=ln.memoizedState;if(m=N.destroy,c!==null&&La(c,N.deps)){x.memoizedState=yo(i,a,m,c);return}}Ft.flags|=t,x.memoizedState=yo(1|i,a,m,c)}function Mc(t,i){return xl(8390656,8,t,i)}function Va(t,i){return ml(2048,8,t,i)}function kc(t,i){return ml(4,2,t,i)}function Pc(t,i){return ml(4,4,t,i)}function Bc(t,i){if(typeof i=="function")return t=t(),i(t),function(){i(null)};if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Lc(t,i,a){return a=a!=null?a.concat([t]):null,ml(4,4,Bc.bind(null,i,t),a)}function Wa(){}function Fc(t,i){var a=dr();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&La(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function Uc(t,i){var a=dr();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&La(i,c[1])?c[0]:(t=t(),a.memoizedState=[t,i],t)}function jc(t,i,a){return(Ki&21)===0?(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=a):(V(a,i)||(a=nn(),Ft.lanes|=a,qi|=a,t.baseState=!0),i)}function Cf(t,i){var a=Ke;Ke=a!==0&&4>a?a:4,t(!0);var c=Ba.transition;Ba.transition={};try{t(!1),i()}finally{Ke=a,Ba.transition=c}}function zc(){return dr().memoizedState}function vf(t,i,a){var c=Ni(t);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(t))Wc(i,a);else if(a=yc(t,i,a,c),a!==null){var x=Mn();Sr(a,t,c,x),Hc(a,i,c)}}function Af(t,i,a){var c=Ni(t),x={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(t))Wc(i,x);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var N=i.lastRenderedState,B=m(N,a);if(x.hasEagerState=!0,x.eagerState=B,V(B,N)){var U=i.interleaved;U===null?(x.next=x,ba(i)):(x.next=U.next,U.next=x),i.interleaved=x;return}}catch{}finally{}a=yc(t,i,x,c),a!==null&&(x=Mn(),Sr(a,t,c,x),Hc(a,i,c))}}function Vc(t){var i=t.alternate;return t===Ft||i!==null&&i===Ft}function Wc(t,i){xo=pl=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Hc(t,i,a){if((a&4194240)!==0){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,jt(t,a)}}var wl={readContext:fr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Sf={readContext:fr,useCallback:function(t,i){return Br().memoizedState=[t,i===void 0?null:i],t},useContext:fr,useEffect:Mc,useImperativeHandle:function(t,i,a){return a=a!=null?a.concat([t]):null,xl(4194308,4,Bc.bind(null,i,t),a)},useLayoutEffect:function(t,i){return xl(4194308,4,t,i)},useInsertionEffect:function(t,i){return xl(4,2,t,i)},useMemo:function(t,i){var a=Br();return i=i===void 0?null:i,t=t(),a.memoizedState=[t,i],t},useReducer:function(t,i,a){var c=Br();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},c.queue=t,t=t.dispatch=vf.bind(null,Ft,t),[c.memoizedState,t]},useRef:function(t){var i=Br();return t={current:t},i.memoizedState=t},useState:Oc,useDebugValue:Wa,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=Oc(!1),i=t[0];return t=Cf.bind(null,t[1]),Br().memoizedState=t,[i,t]},useMutableSource:function(){},useSyncExternalStore:function(t,i,a){var c=Ft,x=Br();if(kt){if(a===void 0)throw Error(f(407));a=a()}else{if(a=i(),gn===null)throw Error(f(349));(Ki&30)!==0||Nc(c,i,a)}x.memoizedState=a;var m={value:a,getSnapshot:i};return x.queue=m,Mc(Tc.bind(null,c,m,t),[t]),c.flags|=2048,yo(9,Rc.bind(null,c,m,a,i),void 0,null),a},useId:function(){var t=Br(),i=gn.identifierPrefix;if(kt){var a=Yr,c=Xr;a=(c&~(1<<32-On(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=mo++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Ef++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},unstable_isNewReconciler:!1},If={readContext:fr,useCallback:Fc,useContext:fr,useEffect:Va,useImperativeHandle:Lc,useInsertionEffect:kc,useLayoutEffect:Pc,useMemo:Uc,useReducer:ja,useRef:Dc,useState:function(){return ja(wo)},useDebugValue:Wa,useDeferredValue:function(t){var i=dr();return jc(i,ln.memoizedState,t)},useTransition:function(){var t=ja(wo)[0],i=dr().memoizedState;return[t,i]},useMutableSource:Sc,useSyncExternalStore:Ic,useId:zc,unstable_isNewReconciler:!1},Nf={readContext:fr,useCallback:Fc,useContext:fr,useEffect:Va,useImperativeHandle:Lc,useInsertionEffect:kc,useLayoutEffect:Pc,useMemo:Uc,useReducer:za,useRef:Dc,useState:function(){return za(wo)},useDebugValue:Wa,useDeferredValue:function(t){var i=dr();return ln===null?i.memoizedState=t:jc(i,ln.memoizedState,t)},useTransition:function(){var t=za(wo)[0],i=dr().memoizedState;return[t,i]},useMutableSource:Sc,useSyncExternalStore:Ic,useId:zc,unstable_isNewReconciler:!1};function Cr(t,i){if(t&&t.defaultProps){i=ye({},i),t=t.defaultProps;for(var a in t)i[a]===void 0&&(i[a]=t[a]);return i}return i}function Ha(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:ye({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yl={isMounted:function(t){return(t=t._reactInternals)?Ln(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var c=Mn(),x=Ni(t),m=Qr(c,x);m.payload=i,a!=null&&(m.callback=a),i=vi(t,m,x),i!==null&&(Sr(i,t,x,c),fl(i,t,x))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=Mn(),x=Ni(t),m=Qr(c,x);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=vi(t,m,x),i!==null&&(Sr(i,t,x,c),fl(i,t,x))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Mn(),c=Ni(t),x=Qr(a,c);x.tag=2,i!=null&&(x.callback=i),i=vi(t,x,c),i!==null&&(Sr(i,t,c,a),fl(i,t,c))}};function Gc(t,i,a,c,x,m,N){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,N):i.prototype&&i.prototype.isPureReactComponent?!K(a,c)||!K(x,m):!0}function Xc(t,i,a){var c=!1,x=yi,m=i.contextType;return typeof m=="object"&&m!==null?m=fr(m):(x=Un(i)?Gi:Rn.current,c=i.contextTypes,m=(c=c!=null)?Es(t,x):yi),i=new i(a,m),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=yl,t.stateNode=i,i._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=x,t.__reactInternalMemoizedMaskedChildContext=m),i}function Yc(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&yl.enqueueReplaceState(i,i.state,null)}function Ga(t,i,a,c){var x=t.stateNode;x.props=a,x.state=t.memoizedState,x.refs={},Oa(t);var m=i.contextType;typeof m=="object"&&m!==null?x.context=fr(m):(m=Un(i)?Gi:Rn.current,x.context=Es(t,m)),x.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Ha(t,i,m,a),x.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&yl.enqueueReplaceState(x,x.state,null),dl(t,a,x,c),x.state=t.memoizedState),typeof x.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,i){try{var a="",c=i;do a+=ot(c),c=c.return;while(c);var x=a}catch(m){x=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:i,stack:x,digest:null}}function Xa(t,i,a){return{value:t,source:null,stack:a??null,digest:i??null}}function Ya(t,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Rf=typeof WeakMap=="function"?WeakMap:Map;function Zc(t,i,a){a=Qr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Nl||(Nl=!0,au=c),Ya(t,i)},a}function Qc(t,i,a){a=Qr(-1,a),a.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var x=i.value;a.payload=function(){return c(x)},a.callback=function(){Ya(t,i)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Ya(t,i),typeof c!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var N=i.stack;this.componentDidCatch(i.value,{componentStack:N!==null?N:""})}),a}function Kc(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new Rf;var x=new Set;c.set(i,x)}else x=c.get(i),x===void 0&&(x=new Set,c.set(i,x));x.has(a)||(x.add(a),t=zf.bind(null,t,i,a),i.then(t,t))}function qc(t){do{var i;if((i=t.tag===13)&&(i=t.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return t;t=t.return}while(t!==null);return null}function Jc(t,i,a,c,x){return(t.mode&1)===0?(t===i?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Qr(-1,1),i.tag=2,vi(a,i,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=x,t)}var Tf=se.ReactCurrentOwner,jn=!1;function Dn(t,i,a,c){i.child=t===null?wc(i,null,a,c):Ss(i,t.child,a,c)}function $c(t,i,a,c,x){a=a.render;var m=i.ref;return Ns(i,x),c=Fa(t,i,a,c,m,x),a=Ua(),t!==null&&!jn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~x,Kr(t,i,x)):(kt&&a&&Ca(i),i.flags|=1,Dn(t,i,c,x),i.child)}function e1(t,i,a,c,x){if(t===null){var m=a.type;return typeof m=="function"&&!pu(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,t1(t,i,m,c,x)):(t=Dl(a.type,null,c,i,i.mode,x),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,(t.lanes&x)===0){var N=m.memoizedProps;if(a=a.compare,a=a!==null?a:K,a(N,c)&&t.ref===i.ref)return Kr(t,i,x)}return i.flags|=1,t=Ti(m,c),t.ref=i.ref,t.return=i,i.child=t}function t1(t,i,a,c,x){if(t!==null){var m=t.memoizedProps;if(K(m,c)&&t.ref===i.ref)if(jn=!1,i.pendingProps=c=m,(t.lanes&x)!==0)(t.flags&131072)!==0&&(jn=!0);else return i.lanes=t.lanes,Kr(t,i,x)}return Za(t,i,a,c,x)}function n1(t,i,a){var c=i.pendingProps,x=c.children,m=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(bs,tr),tr|=a;else{if((a&1073741824)===0)return t=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:t,cachePool:null,transitions:null},i.updateQueue=null,_t(bs,tr),tr|=t,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,_t(bs,tr),tr|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,_t(bs,tr),tr|=c;return Dn(t,i,x,a),i.child}function r1(t,i){var a=i.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Za(t,i,a,c,x){var m=Un(a)?Gi:Rn.current;return m=Es(i,m),Ns(i,x),a=Fa(t,i,a,c,m,x),c=Ua(),t!==null&&!jn?(i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~x,Kr(t,i,x)):(kt&&c&&Ca(i),i.flags|=1,Dn(t,i,a,x),i.child)}function i1(t,i,a,c,x){if(Un(a)){var m=!0;rl(i)}else m=!1;if(Ns(i,x),i.stateNode===null)Cl(t,i),Xc(i,a,c),Ga(i,a,c,x),c=!0;else if(t===null){var N=i.stateNode,B=i.memoizedProps;N.props=B;var U=N.context,J=a.contextType;typeof J=="object"&&J!==null?J=fr(J):(J=Un(a)?Gi:Rn.current,J=Es(i,J));var ce=a.getDerivedStateFromProps,fe=typeof ce=="function"||typeof N.getSnapshotBeforeUpdate=="function";fe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==c||U!==J)&&Yc(i,N,c,J),Ci=!1;var ae=i.memoizedState;N.state=ae,dl(i,c,N,x),U=i.memoizedState,B!==c||ae!==U||Fn.current||Ci?(typeof ce=="function"&&(Ha(i,a,ce,c),U=i.memoizedState),(B=Ci||Gc(i,a,B,c,ae,U,J))?(fe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(i.flags|=4194308)):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=U),N.props=c,N.state=U,N.context=J,c=B):(typeof N.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{N=i.stateNode,Ec(t,i),B=i.memoizedProps,J=i.type===i.elementType?B:Cr(i.type,B),N.props=J,fe=i.pendingProps,ae=N.context,U=a.contextType,typeof U=="object"&&U!==null?U=fr(U):(U=Un(a)?Gi:Rn.current,U=Es(i,U));var Ie=a.getDerivedStateFromProps;(ce=typeof Ie=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B!==fe||ae!==U)&&Yc(i,N,c,U),Ci=!1,ae=i.memoizedState,N.state=ae,dl(i,c,N,x);var be=i.memoizedState;B!==fe||ae!==be||Fn.current||Ci?(typeof Ie=="function"&&(Ha(i,a,Ie,c),be=i.memoizedState),(J=Ci||Gc(i,a,J,c,ae,be,U)||!1)?(ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(c,be,U),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(c,be,U)),typeof N.componentDidUpdate=="function"&&(i.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof N.componentDidUpdate!="function"||B===t.memoizedProps&&ae===t.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===t.memoizedProps&&ae===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=be),N.props=c,N.state=be,N.context=U,c=J):(typeof N.componentDidUpdate!="function"||B===t.memoizedProps&&ae===t.memoizedState||(i.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||B===t.memoizedProps&&ae===t.memoizedState||(i.flags|=1024),c=!1)}return Qa(t,i,a,c,m,x)}function Qa(t,i,a,c,x,m){r1(t,i);var N=(i.flags&128)!==0;if(!c&&!N)return x&&uc(i,a,!1),Kr(t,i,m);c=i.stateNode,Tf.current=i;var B=N&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,t!==null&&N?(i.child=Ss(i,t.child,null,m),i.child=Ss(i,null,B,m)):Dn(t,i,B,m),i.memoizedState=c.state,x&&uc(i,a,!0),i.child}function s1(t){var i=t.stateNode;i.pendingContext?lc(t,i.pendingContext,i.pendingContext!==i.context):i.context&&lc(t,i.context,!1),Da(t,i.containerInfo)}function o1(t,i,a,c,x){return As(),Ia(x),i.flags|=256,Dn(t,i,a,c),i.child}var Ka={dehydrated:null,treeContext:null,retryLane:0};function qa(t){return{baseLanes:t,cachePool:null,transitions:null}}function l1(t,i,a){var c=i.pendingProps,x=Lt.current,m=!1,N=(i.flags&128)!==0,B;if((B=N)||(B=t!==null&&t.memoizedState===null?!1:(x&2)!==0),B?(m=!0,i.flags&=-129):(t===null||t.memoizedState!==null)&&(x|=1),_t(Lt,x&1),t===null)return Sa(i),t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((i.mode&1)===0?i.lanes=1:t.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(N=c.children,t=c.fallback,m?(c=i.mode,m=i.child,N={mode:"hidden",children:N},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=N):m=Ml(N,c,0,null),t=ts(t,c,a,null),m.return=i,t.return=i,m.sibling=t,i.child=m,i.child.memoizedState=qa(a),i.memoizedState=Ka,t):Ja(i,N));if(x=t.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return _f(t,i,N,c,B,x,a);if(m){m=c.fallback,N=i.mode,x=t.child,B=x.sibling;var U={mode:"hidden",children:c.children};return(N&1)===0&&i.child!==x?(c=i.child,c.childLanes=0,c.pendingProps=U,i.deletions=null):(c=Ti(x,U),c.subtreeFlags=x.subtreeFlags&14680064),B!==null?m=Ti(B,m):(m=ts(m,N,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,N=t.child.memoizedState,N=N===null?qa(a):{baseLanes:N.baseLanes|a,cachePool:null,transitions:N.transitions},m.memoizedState=N,m.childLanes=t.childLanes&~a,i.memoizedState=Ka,c}return m=t.child,t=m.sibling,c=Ti(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,t!==null&&(a=i.deletions,a===null?(i.deletions=[t],i.flags|=16):a.push(t)),i.child=c,i.memoizedState=null,c}function Ja(t,i){return i=Ml({mode:"visible",children:i},t.mode,0,null),i.return=t,t.child=i}function El(t,i,a,c){return c!==null&&Ia(c),Ss(i,t.child,null,a),t=Ja(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _f(t,i,a,c,x,m,N){if(a)return i.flags&256?(i.flags&=-257,c=Xa(Error(f(422))),El(t,i,N,c)):i.memoizedState!==null?(i.child=t.child,i.flags|=128,null):(m=c.fallback,x=i.mode,c=Ml({mode:"visible",children:c.children},x,0,null),m=ts(m,x,N,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Ss(i,t.child,null,N),i.child.memoizedState=qa(N),i.memoizedState=Ka,m);if((i.mode&1)===0)return El(t,i,N,null);if(x.data==="$!"){if(c=x.nextSibling&&x.nextSibling.dataset,c)var B=c.dgst;return c=B,m=Error(f(419)),c=Xa(m,c,void 0),El(t,i,N,c)}if(B=(N&t.childLanes)!==0,jn||B){if(c=gn,c!==null){switch(N&-N){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(c.suspendedLanes|N))!==0?0:x,x!==0&&x!==m.retryLane&&(m.retryLane=x,Zr(t,x),Sr(c,t,x,-1))}return gu(),c=Xa(Error(f(421))),El(t,i,N,c)}return x.data==="$?"?(i.flags|=128,i.child=t.child,i=Vf.bind(null,t),x._reactRetry=i,null):(t=m.treeContext,er=mi(x.nextSibling),$n=i,kt=!0,Er=null,t!==null&&(ur[cr++]=Xr,ur[cr++]=Yr,ur[cr++]=Xi,Xr=t.id,Yr=t.overflow,Xi=i),i=Ja(i,c.children),i.flags|=4096,i)}function a1(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),_a(t.return,i,a)}function $a(t,i,a,c,x){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:x}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=x)}function u1(t,i,a){var c=i.pendingProps,x=c.revealOrder,m=c.tail;if(Dn(t,i,c.children,a),c=Lt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a1(t,a,i);else if(t.tag===19)a1(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(_t(Lt,c),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(a=i.child,x=null;a!==null;)t=a.alternate,t!==null&&hl(t)===null&&(x=a),a=a.sibling;a=x,a===null?(x=i.child,i.child=null):(x=a.sibling,a.sibling=null),$a(i,!1,x,a,m);break;case"backwards":for(a=null,x=i.child,i.child=null;x!==null;){if(t=x.alternate,t!==null&&hl(t)===null){i.child=x;break}t=x.sibling,x.sibling=a,a=x,x=t}$a(i,!0,a,null,m);break;case"together":$a(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Cl(t,i){(i.mode&1)===0&&t!==null&&(t.alternate=null,i.alternate=null,i.flags|=2)}function Kr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qi|=i.lanes,(a&i.childLanes)===0)return null;if(t!==null&&i.child!==t.child)throw Error(f(153));if(i.child!==null){for(t=i.child,a=Ti(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ti(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function bf(t,i,a){switch(i.tag){case 3:s1(i),As();break;case 5:Ac(i);break;case 1:Un(i.type)&&rl(i);break;case 4:Da(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,x=i.memoizedProps.value;_t(ul,c._currentValue),c._currentValue=x;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(_t(Lt,Lt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?l1(t,i,a):(_t(Lt,Lt.current&1),t=Kr(t,i,a),t!==null?t.sibling:null);_t(Lt,Lt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(t.flags&128)!==0){if(c)return u1(t,i,a);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),_t(Lt,Lt.current),c)break;return null;case 22:case 23:return i.lanes=0,n1(t,i,a)}return Kr(t,i,a)}var c1,eu,f1,d1;c1=function(t,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},eu=function(){},f1=function(t,i,a,c){var x=t.memoizedProps;if(x!==c){t=i.stateNode,Qi(Pr.current);var m=null;switch(a){case"input":x=Rr(t,x),c=Rr(t,c),m=[];break;case"select":x=ye({},x,{value:void 0}),c=ye({},c,{value:void 0}),m=[];break;case"textarea":x=ri(t,x),c=ri(t,c),m=[];break;default:typeof x.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=el)}gt(a,c);var N;a=null;for(J in x)if(!c.hasOwnProperty(J)&&x.hasOwnProperty(J)&&x[J]!=null)if(J==="style"){var B=x[J];for(N in B)B.hasOwnProperty(N)&&(a||(a={}),a[N]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(v.hasOwnProperty(J)?m||(m=[]):(m=m||[]).push(J,null));for(J in c){var U=c[J];if(B=x!=null?x[J]:void 0,c.hasOwnProperty(J)&&U!==B&&(U!=null||B!=null))if(J==="style")if(B){for(N in B)!B.hasOwnProperty(N)||U&&U.hasOwnProperty(N)||(a||(a={}),a[N]="");for(N in U)U.hasOwnProperty(N)&&B[N]!==U[N]&&(a||(a={}),a[N]=U[N])}else a||(m||(m=[]),m.push(J,a)),a=U;else J==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,B=B?B.__html:void 0,U!=null&&B!==U&&(m=m||[]).push(J,U)):J==="children"?typeof U!="string"&&typeof U!="number"||(m=m||[]).push(J,""+U):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(v.hasOwnProperty(J)?(U!=null&&J==="onScroll"&&bt("scroll",t),m||B===U||(m=[])):(m=m||[]).push(J,U))}a&&(m=m||[]).push("style",a);var J=m;(i.updateQueue=J)&&(i.flags|=4)}},d1=function(t,i,a,c){a!==c&&(i.flags|=4)};function Eo(t,i){if(!kt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function _n(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var x=t.child;x!==null;)a|=x.lanes|x.childLanes,c|=x.subtreeFlags&14680064,c|=x.flags&14680064,x.return=t,x=x.sibling;else for(x=t.child;x!==null;)a|=x.lanes|x.childLanes,c|=x.subtreeFlags,c|=x.flags,x.return=t,x=x.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function Of(t,i,a){var c=i.pendingProps;switch(va(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(i),null;case 1:return Un(i.type)&&nl(),_n(i),null;case 3:return c=i.stateNode,Rs(),Ot(Fn),Ot(Rn),Pa(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(ll(i)?i.flags|=4:t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Er!==null&&(fu(Er),Er=null))),eu(t,i),_n(i),null;case 5:Ma(i);var x=Qi(po.current);if(a=i.type,t!==null&&i.stateNode!=null)f1(t,i,a,c,x),t.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(f(166));return _n(i),null}if(t=Qi(Pr.current),ll(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[kr]=i,c[uo]=m,t=(i.mode&1)!==0,a){case"dialog":bt("cancel",c),bt("close",c);break;case"iframe":case"object":case"embed":bt("load",c);break;case"video":case"audio":for(x=0;x<oo.length;x++)bt(oo[x],c);break;case"source":bt("error",c);break;case"img":case"image":case"link":bt("error",c),bt("load",c);break;case"details":bt("toggle",c);break;case"input":Hn(c,m),bt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},bt("invalid",c);break;case"textarea":Fs(c,m),bt("invalid",c)}gt(a,m),x=null;for(var N in m)if(m.hasOwnProperty(N)){var B=m[N];N==="children"?typeof B=="string"?c.textContent!==B&&(m.suppressHydrationWarning!==!0&&$o(c.textContent,B,t),x=["children",B]):typeof B=="number"&&c.textContent!==""+B&&(m.suppressHydrationWarning!==!0&&$o(c.textContent,B,t),x=["children",""+B]):v.hasOwnProperty(N)&&B!=null&&N==="onScroll"&&bt("scroll",c)}switch(a){case"input":en(c),Et(c,m,!0);break;case"textarea":en(c),is(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=el)}c=x,i.updateQueue=c,c!==null&&(i.flags|=4)}else{N=x.nodeType===9?x:x.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kn(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=N.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=N.createElement(a,{is:c.is}):(t=N.createElement(a),a==="select"&&(N=t,c.multiple?N.multiple=!0:c.size&&(N.size=c.size))):t=N.createElementNS(t,a),t[kr]=i,t[uo]=c,c1(t,i,!1,!1),i.stateNode=t;e:{switch(N=It(a,c),a){case"dialog":bt("cancel",t),bt("close",t),x=c;break;case"iframe":case"object":case"embed":bt("load",t),x=c;break;case"video":case"audio":for(x=0;x<oo.length;x++)bt(oo[x],t);x=c;break;case"source":bt("error",t),x=c;break;case"img":case"image":case"link":bt("error",t),bt("load",t),x=c;break;case"details":bt("toggle",t),x=c;break;case"input":Hn(t,c),x=Rr(t,c),bt("invalid",t);break;case"option":x=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},x=ye({},c,{value:void 0}),bt("invalid",t);break;case"textarea":Fs(t,c),x=ri(t,c),bt("invalid",t);break;default:x=c}gt(a,x),B=x;for(m in B)if(B.hasOwnProperty(m)){var U=B[m];m==="style"?xe(t,U):m==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&cn(t,U)):m==="children"?typeof U=="string"?(a!=="textarea"||U!=="")&&ii(t,U):typeof U=="number"&&ii(t,""+U):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(v.hasOwnProperty(m)?U!=null&&m==="onScroll"&&bt("scroll",t):U!=null&&P(t,m,U,N))}switch(a){case"input":en(t),Et(t,c,!1);break;case"textarea":en(t),is(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Ve(c.value));break;case"select":t.multiple=!!c.multiple,m=c.value,m!=null?Re(t,!!c.multiple,m,!1):c.defaultValue!=null&&Re(t,!!c.multiple,c.defaultValue,!0);break;default:typeof x.onClick=="function"&&(t.onclick=el)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return _n(i),null;case 6:if(t&&i.stateNode!=null)d1(t,i,t.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(f(166));if(a=Qi(po.current),Qi(Pr.current),ll(i)){if(c=i.stateNode,a=i.memoizedProps,c[kr]=i,(m=c.nodeValue!==a)&&(t=$n,t!==null))switch(t.tag){case 3:$o(c.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$o(c.nodeValue,a,(t.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[kr]=i,i.stateNode=c}return _n(i),null;case 13:if(Ot(Lt),c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kt&&er!==null&&(i.mode&1)!==0&&(i.flags&128)===0)pc(),As(),i.flags|=98560,m=!1;else if(m=ll(i),c!==null&&c.dehydrated!==null){if(t===null){if(!m)throw Error(f(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(f(317));m[kr]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_n(i),m=!1}else Er!==null&&(fu(Er),Er=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(t===null||(Lt.current&1)!==0?an===0&&(an=3):gu())),i.updateQueue!==null&&(i.flags|=4),_n(i),null);case 4:return Rs(),eu(t,i),t===null&&lo(i.stateNode.containerInfo),_n(i),null;case 10:return Ta(i.type._context),_n(i),null;case 17:return Un(i.type)&&nl(),_n(i),null;case 19:if(Ot(Lt),m=i.memoizedState,m===null)return _n(i),null;if(c=(i.flags&128)!==0,N=m.rendering,N===null)if(c)Eo(m,!1);else{if(an!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(N=hl(t),N!==null){for(i.flags|=128,Eo(m,!1),c=N.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,t=c,m.flags&=14680066,N=m.alternate,N===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=N.childLanes,m.lanes=N.lanes,m.child=N.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=N.memoizedProps,m.memoizedState=N.memoizedState,m.updateQueue=N.updateQueue,m.type=N.type,t=N.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return _t(Lt,Lt.current&1|2),i.child}t=t.sibling}m.tail!==null&&wt()>Os&&(i.flags|=128,c=!0,Eo(m,!1),i.lanes=4194304)}else{if(!c)if(t=hl(N),t!==null){if(i.flags|=128,c=!0,a=t.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Eo(m,!0),m.tail===null&&m.tailMode==="hidden"&&!N.alternate&&!kt)return _n(i),null}else 2*wt()-m.renderingStartTime>Os&&a!==1073741824&&(i.flags|=128,c=!0,Eo(m,!1),i.lanes=4194304);m.isBackwards?(N.sibling=i.child,i.child=N):(a=m.last,a!==null?a.sibling=N:i.child=N,m.last=N)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=wt(),i.sibling=null,a=Lt.current,_t(Lt,c?a&1|2:a&1),i):(_n(i),null);case 22:case 23:return hu(),c=i.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(tr&1073741824)!==0&&(_n(i),i.subtreeFlags&6&&(i.flags|=8192)):_n(i),null;case 24:return null;case 25:return null}throw Error(f(156,i.tag))}function Df(t,i){switch(va(i),i.tag){case 1:return Un(i.type)&&nl(),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Rs(),Ot(Fn),Ot(Rn),Pa(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 5:return Ma(i),null;case 13:if(Ot(Lt),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(f(340));As()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ot(Lt),null;case 4:return Rs(),null;case 10:return Ta(i.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var vl=!1,bn=!1,Mf=typeof WeakSet=="function"?WeakSet:Set,_e=null;function _s(t,i){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Vt(t,i,c)}else a.current=null}function tu(t,i,a){try{a()}catch(c){Vt(t,i,c)}}var h1=!1;function kf(t,i){if(ha=Dr,t=Je(),Ge(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var x=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var N=0,B=-1,U=-1,J=0,ce=0,fe=t,ae=null;t:for(;;){for(var Ie;fe!==a||x!==0&&fe.nodeType!==3||(B=N+x),fe!==m||c!==0&&fe.nodeType!==3||(U=N+c),fe.nodeType===3&&(N+=fe.nodeValue.length),(Ie=fe.firstChild)!==null;)ae=fe,fe=Ie;for(;;){if(fe===t)break t;if(ae===a&&++J===x&&(B=N),ae===m&&++ce===c&&(U=N),(Ie=fe.nextSibling)!==null)break;fe=ae,ae=fe.parentNode}fe=Ie}a=B===-1||U===-1?null:{start:B,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(ga={focusedElem:t,selectionRange:a},Dr=!1,_e=i;_e!==null;)if(i=_e,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,_e=t;else for(;_e!==null;){i=_e;try{var be=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Oe=be.memoizedProps,Kt=be.memoizedState,X=i.stateNode,z=X.getSnapshotBeforeUpdate(i.elementType===i.type?Oe:Cr(i.type,Oe),Kt);X.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=i.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(ge){Vt(i,i.return,ge)}if(t=i.sibling,t!==null){t.return=i.return,_e=t;break}_e=i.return}return be=h1,h1=!1,be}function Co(t,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var x=c=c.next;do{if((x.tag&t)===t){var m=x.destroy;x.destroy=void 0,m!==void 0&&tu(i,a,m)}x=x.next}while(x!==c)}}function Al(t,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&t)===t){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function nu(t){var i=t.ref;if(i!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof i=="function"?i(t):i.current=t}}function g1(t){var i=t.alternate;i!==null&&(t.alternate=null,g1(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&(delete i[kr],delete i[uo],delete i[wa],delete i[xf],delete i[mf])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p1(t){return t.tag===5||t.tag===3||t.tag===4}function x1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ru(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=el));else if(c!==4&&(t=t.child,t!==null))for(ru(t,i,a),t=t.sibling;t!==null;)ru(t,i,a),t=t.sibling}function iu(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(iu(t,i,a),t=t.sibling;t!==null;)iu(t,i,a),t=t.sibling}var Cn=null,vr=!1;function Ai(t,i,a){for(a=a.child;a!==null;)m1(t,i,a),a=a.sibling}function m1(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 5:bn||_s(a,i);case 6:var c=Cn,x=vr;Cn=null,Ai(t,i,a),Cn=c,vr=x,Cn!==null&&(vr?(t=Cn,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Cn.removeChild(a.stateNode));break;case 18:Cn!==null&&(vr?(t=Cn,a=a.stateNode,t.nodeType===8?ma(t.parentNode,a):t.nodeType===1&&ma(t,a),mr(t)):ma(Cn,a.stateNode));break;case 4:c=Cn,x=vr,Cn=a.stateNode.containerInfo,vr=!0,Ai(t,i,a),Cn=c,vr=x;break;case 0:case 11:case 14:case 15:if(!bn&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){x=c=c.next;do{var m=x,N=m.destroy;m=m.tag,N!==void 0&&((m&2)!==0||(m&4)!==0)&&tu(a,i,N),x=x.next}while(x!==c)}Ai(t,i,a);break;case 1:if(!bn&&(_s(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(B){Vt(a,i,B)}Ai(t,i,a);break;case 21:Ai(t,i,a);break;case 22:a.mode&1?(bn=(c=bn)||a.memoizedState!==null,Ai(t,i,a),bn=c):Ai(t,i,a);break;default:Ai(t,i,a)}}function w1(t){var i=t.updateQueue;if(i!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Mf),i.forEach(function(c){var x=Wf.bind(null,t,c);a.has(c)||(a.add(c),c.then(x,x))})}}function Ar(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var x=a[c];try{var m=t,N=i,B=N;e:for(;B!==null;){switch(B.tag){case 5:Cn=B.stateNode,vr=!1;break e;case 3:Cn=B.stateNode.containerInfo,vr=!0;break e;case 4:Cn=B.stateNode.containerInfo,vr=!0;break e}B=B.return}if(Cn===null)throw Error(f(160));m1(m,N,x),Cn=null,vr=!1;var U=x.alternate;U!==null&&(U.return=null),x.return=null}catch(J){Vt(x,i,J)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)y1(i,t),i=i.sibling}function y1(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(i,t),Lr(t),c&4){try{Co(3,t,t.return),Al(3,t)}catch(Oe){Vt(t,t.return,Oe)}try{Co(5,t,t.return)}catch(Oe){Vt(t,t.return,Oe)}}break;case 1:Ar(i,t),Lr(t),c&512&&a!==null&&_s(a,a.return);break;case 5:if(Ar(i,t),Lr(t),c&512&&a!==null&&_s(a,a.return),t.flags&32){var x=t.stateNode;try{ii(x,"")}catch(Oe){Vt(t,t.return,Oe)}}if(c&4&&(x=t.stateNode,x!=null)){var m=t.memoizedProps,N=a!==null?a.memoizedProps:m,B=t.type,U=t.updateQueue;if(t.updateQueue=null,U!==null)try{B==="input"&&m.type==="radio"&&m.name!=null&&ni(x,m),It(B,N);var J=It(B,m);for(N=0;N<U.length;N+=2){var ce=U[N],fe=U[N+1];ce==="style"?xe(x,fe):ce==="dangerouslySetInnerHTML"?cn(x,fe):ce==="children"?ii(x,fe):P(x,ce,fe,J)}switch(B){case"input":Gt(x,m);break;case"textarea":rr(x,m);break;case"select":var ae=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!m.multiple;var Ie=m.value;Ie!=null?Re(x,!!m.multiple,Ie,!1):ae!==!!m.multiple&&(m.defaultValue!=null?Re(x,!!m.multiple,m.defaultValue,!0):Re(x,!!m.multiple,m.multiple?[]:"",!1))}x[uo]=m}catch(Oe){Vt(t,t.return,Oe)}}break;case 6:if(Ar(i,t),Lr(t),c&4){if(t.stateNode===null)throw Error(f(162));x=t.stateNode,m=t.memoizedProps;try{x.nodeValue=m}catch(Oe){Vt(t,t.return,Oe)}}break;case 3:if(Ar(i,t),Lr(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{mr(i.containerInfo)}catch(Oe){Vt(t,t.return,Oe)}break;case 4:Ar(i,t),Lr(t);break;case 13:Ar(i,t),Lr(t),x=t.child,x.flags&8192&&(m=x.memoizedState!==null,x.stateNode.isHidden=m,!m||x.alternate!==null&&x.alternate.memoizedState!==null||(lu=wt())),c&4&&w1(t);break;case 22:if(ce=a!==null&&a.memoizedState!==null,t.mode&1?(bn=(J=bn)||ce,Ar(i,t),bn=J):Ar(i,t),Lr(t),c&8192){if(J=t.memoizedState!==null,(t.stateNode.isHidden=J)&&!ce&&(t.mode&1)!==0)for(_e=t,ce=t.child;ce!==null;){for(fe=_e=ce;_e!==null;){switch(ae=_e,Ie=ae.child,ae.tag){case 0:case 11:case 14:case 15:Co(4,ae,ae.return);break;case 1:_s(ae,ae.return);var be=ae.stateNode;if(typeof be.componentWillUnmount=="function"){c=ae,a=ae.return;try{i=c,be.props=i.memoizedProps,be.state=i.memoizedState,be.componentWillUnmount()}catch(Oe){Vt(c,a,Oe)}}break;case 5:_s(ae,ae.return);break;case 22:if(ae.memoizedState!==null){v1(fe);continue}}Ie!==null?(Ie.return=ae,_e=Ie):v1(fe)}ce=ce.sibling}e:for(ce=null,fe=t;;){if(fe.tag===5){if(ce===null){ce=fe;try{x=fe.stateNode,J?(m=x.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(B=fe.stateNode,U=fe.memoizedProps.style,N=U!=null&&U.hasOwnProperty("display")?U.display:null,B.style.display=Pt("display",N))}catch(Oe){Vt(t,t.return,Oe)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=J?"":fe.memoizedProps}catch(Oe){Vt(t,t.return,Oe)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===t)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===t)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===t)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Ar(i,t),Lr(t),c&4&&w1(t);break;case 21:break;default:Ar(i,t),Lr(t)}}function Lr(t){var i=t.flags;if(i&2){try{e:{for(var a=t.return;a!==null;){if(p1(a)){var c=a;break e}a=a.return}throw Error(f(160))}switch(c.tag){case 5:var x=c.stateNode;c.flags&32&&(ii(x,""),c.flags&=-33);var m=x1(t);iu(t,m,x);break;case 3:case 4:var N=c.stateNode.containerInfo,B=x1(t);ru(t,B,N);break;default:throw Error(f(161))}}catch(U){Vt(t,t.return,U)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Pf(t,i,a){_e=t,E1(t)}function E1(t,i,a){for(var c=(t.mode&1)!==0;_e!==null;){var x=_e,m=x.child;if(x.tag===22&&c){var N=x.memoizedState!==null||vl;if(!N){var B=x.alternate,U=B!==null&&B.memoizedState!==null||bn;B=vl;var J=bn;if(vl=N,(bn=U)&&!J)for(_e=x;_e!==null;)N=_e,U=N.child,N.tag===22&&N.memoizedState!==null?A1(x):U!==null?(U.return=N,_e=U):A1(x);for(;m!==null;)_e=m,E1(m),m=m.sibling;_e=x,vl=B,bn=J}C1(t)}else(x.subtreeFlags&8772)!==0&&m!==null?(m.return=x,_e=m):C1(t)}}function C1(t){for(;_e!==null;){var i=_e;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bn||Al(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!bn)if(a===null)c.componentDidMount();else{var x=i.elementType===i.type?a.memoizedProps:Cr(i.type,a.memoizedProps);c.componentDidUpdate(x,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&vc(i,m,c);break;case 3:var N=i.updateQueue;if(N!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}vc(i,N,a)}break;case 5:var B=i.stateNode;if(a===null&&i.flags&4){a=B;var U=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&a.focus();break;case"img":U.src&&(a.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var J=i.alternate;if(J!==null){var ce=J.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&mr(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}bn||i.flags&512&&nu(i)}catch(ae){Vt(i,i.return,ae)}}if(i===t){_e=null;break}if(a=i.sibling,a!==null){a.return=i.return,_e=a;break}_e=i.return}}function v1(t){for(;_e!==null;){var i=_e;if(i===t){_e=null;break}var a=i.sibling;if(a!==null){a.return=i.return,_e=a;break}_e=i.return}}function A1(t){for(;_e!==null;){var i=_e;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Al(4,i)}catch(U){Vt(i,a,U)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var x=i.return;try{c.componentDidMount()}catch(U){Vt(i,x,U)}}var m=i.return;try{nu(i)}catch(U){Vt(i,m,U)}break;case 5:var N=i.return;try{nu(i)}catch(U){Vt(i,N,U)}}}catch(U){Vt(i,i.return,U)}if(i===t){_e=null;break}var B=i.sibling;if(B!==null){B.return=i.return,_e=B;break}_e=i.return}}var Bf=Math.ceil,Sl=se.ReactCurrentDispatcher,su=se.ReactCurrentOwner,hr=se.ReactCurrentBatchConfig,ft=0,gn=null,Jt=null,vn=0,tr=0,bs=wi(0),an=0,vo=null,qi=0,Il=0,ou=0,Ao=null,zn=null,lu=0,Os=1/0,qr=null,Nl=!1,au=null,Si=null,Rl=!1,Ii=null,Tl=0,So=0,uu=null,_l=-1,bl=0;function Mn(){return(ft&6)!==0?wt():_l!==-1?_l:_l=wt()}function Ni(t){return(t.mode&1)===0?1:(ft&2)!==0&&vn!==0?vn&-vn:yf.transition!==null?(bl===0&&(bl=nn()),bl):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:Ks(t.type)),t)}function Sr(t,i,a,c){if(50<So)throw So=0,uu=null,Error(f(185));D(t,a,c),((ft&2)===0||t!==gn)&&(t===gn&&((ft&2)===0&&(Il|=a),an===4&&Ri(t,vn)),Vn(t,c),a===1&&ft===0&&(i.mode&1)===0&&(Os=wt()+500,il&&Ei()))}function Vn(t,i){var a=t.callbackNode;li(t,i);var c=Qn(t,t===gn?vn:0);if(c===0)a!==null&&fn(a),t.callbackNode=null,t.callbackPriority=0;else if(i=c&-c,t.callbackPriority!==i){if(a!=null&&fn(a),i===1)t.tag===0?wf(I1.bind(null,t)):cc(I1.bind(null,t)),gf(function(){(ft&6)===0&&Ei()}),a=null;else{switch(Uo(c)){case 1:a=oe;break;case 4:a=Lo;break;case 16:a=At;break;case 536870912:a=Fo;break;default:a=At}a=M1(a,S1.bind(null,t))}t.callbackPriority=i,t.callbackNode=a}}function S1(t,i){if(_l=-1,bl=0,(ft&6)!==0)throw Error(f(327));var a=t.callbackNode;if(Ds()&&t.callbackNode!==a)return null;var c=Qn(t,t===gn?vn:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||i)i=Ol(t,c);else{i=c;var x=ft;ft|=2;var m=R1();(gn!==t||vn!==i)&&(qr=null,Os=wt()+500,$i(t,i));do try{Uf();break}catch(B){N1(t,B)}while(!0);Ra(),Sl.current=m,ft=x,Jt!==null?i=0:(gn=null,vn=0,i=an)}if(i!==0){if(i===2&&(x=yt(t),x!==0&&(c=x,i=cu(t,x))),i===1)throw a=vo,$i(t,0),Ri(t,c),Vn(t,wt()),a;if(i===6)Ri(t,c);else{if(x=t.current.alternate,(c&30)===0&&!Lf(x)&&(i=Ol(t,c),i===2&&(m=yt(t),m!==0&&(c=m,i=cu(t,m))),i===1))throw a=vo,$i(t,0),Ri(t,c),Vn(t,wt()),a;switch(t.finishedWork=x,t.finishedLanes=c,i){case 0:case 1:throw Error(f(345));case 2:es(t,zn,qr);break;case 3:if(Ri(t,c),(c&130023424)===c&&(i=lu+500-wt(),10<i)){if(Qn(t,0)!==0)break;if(x=t.suspendedLanes,(x&c)!==c){Mn(),t.pingedLanes|=t.suspendedLanes&x;break}t.timeoutHandle=xa(es.bind(null,t,zn,qr),i);break}es(t,zn,qr);break;case 4:if(Ri(t,c),(c&4194240)===c)break;for(i=t.eventTimes,x=-1;0<c;){var N=31-On(c);m=1<<N,N=i[N],N>x&&(x=N),c&=~m}if(c=x,c=wt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Bf(c/1960))-c,10<c){t.timeoutHandle=xa(es.bind(null,t,zn,qr),c);break}es(t,zn,qr);break;case 5:es(t,zn,qr);break;default:throw Error(f(329))}}}return Vn(t,wt()),t.callbackNode===a?S1.bind(null,t):null}function cu(t,i){var a=Ao;return t.current.memoizedState.isDehydrated&&($i(t,i).flags|=256),t=Ol(t,i),t!==2&&(i=zn,zn=a,i!==null&&fu(i)),t}function fu(t){zn===null?zn=t:zn.push.apply(zn,t)}function Lf(t){for(var i=t;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var x=a[c],m=x.getSnapshot;x=x.value;try{if(!V(m(),x))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ri(t,i){for(i&=~ou,i&=~Il,t.suspendedLanes|=i,t.pingedLanes&=~i,t=t.expirationTimes;0<i;){var a=31-On(i),c=1<<a;t[a]=-1,i&=~c}}function I1(t){if((ft&6)!==0)throw Error(f(327));Ds();var i=Qn(t,0);if((i&1)===0)return Vn(t,wt()),null;var a=Ol(t,i);if(t.tag!==0&&a===2){var c=yt(t);c!==0&&(i=c,a=cu(t,c))}if(a===1)throw a=vo,$i(t,0),Ri(t,i),Vn(t,wt()),a;if(a===6)throw Error(f(345));return t.finishedWork=t.current.alternate,t.finishedLanes=i,es(t,zn,qr),Vn(t,wt()),null}function du(t,i){var a=ft;ft|=1;try{return t(i)}finally{ft=a,ft===0&&(Os=wt()+500,il&&Ei())}}function Ji(t){Ii!==null&&Ii.tag===0&&(ft&6)===0&&Ds();var i=ft;ft|=1;var a=hr.transition,c=Ke;try{if(hr.transition=null,Ke=1,t)return t()}finally{Ke=c,hr.transition=a,ft=i,(ft&6)===0&&Ei()}}function hu(){tr=bs.current,Ot(bs)}function $i(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,hf(a)),Jt!==null)for(a=Jt.return;a!==null;){var c=a;switch(va(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&nl();break;case 3:Rs(),Ot(Fn),Ot(Rn),Pa();break;case 5:Ma(c);break;case 4:Rs();break;case 13:Ot(Lt);break;case 19:Ot(Lt);break;case 10:Ta(c.type._context);break;case 22:case 23:hu()}a=a.return}if(gn=t,Jt=t=Ti(t.current,null),vn=tr=i,an=0,vo=null,ou=Il=qi=0,zn=Ao=null,Zi!==null){for(i=0;i<Zi.length;i++)if(a=Zi[i],c=a.interleaved,c!==null){a.interleaved=null;var x=c.next,m=a.pending;if(m!==null){var N=m.next;m.next=x,c.next=N}a.pending=c}Zi=null}return t}function N1(t,i){do{var a=Jt;try{if(Ra(),gl.current=wl,pl){for(var c=Ft.memoizedState;c!==null;){var x=c.queue;x!==null&&(x.pending=null),c=c.next}pl=!1}if(Ki=0,hn=ln=Ft=null,xo=!1,mo=0,su.current=null,a===null||a.return===null){an=1,vo=i,Jt=null;break}e:{var m=t,N=a.return,B=a,U=i;if(i=vn,B.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var J=U,ce=B,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var ae=ce.alternate;ae?(ce.updateQueue=ae.updateQueue,ce.memoizedState=ae.memoizedState,ce.lanes=ae.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var Ie=qc(N);if(Ie!==null){Ie.flags&=-257,Jc(Ie,N,B,m,i),Ie.mode&1&&Kc(m,J,i),i=Ie,U=J;var be=i.updateQueue;if(be===null){var Oe=new Set;Oe.add(U),i.updateQueue=Oe}else be.add(U);break e}else{if((i&1)===0){Kc(m,J,i),gu();break e}U=Error(f(426))}}else if(kt&&B.mode&1){var Kt=qc(N);if(Kt!==null){(Kt.flags&65536)===0&&(Kt.flags|=256),Jc(Kt,N,B,m,i),Ia(Ts(U,B));break e}}m=U=Ts(U,B),an!==4&&(an=2),Ao===null?Ao=[m]:Ao.push(m),m=N;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var X=Zc(m,U,i);Cc(m,X);break e;case 1:B=U;var z=m.type,Q=m.stateNode;if((m.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Si===null||!Si.has(Q)))){m.flags|=65536,i&=-i,m.lanes|=i;var ge=Qc(m,B,i);Cc(m,ge);break e}}m=m.return}while(m!==null)}_1(a)}catch(Me){i=Me,Jt===a&&a!==null&&(Jt=a=a.return);continue}break}while(!0)}function R1(){var t=Sl.current;return Sl.current=wl,t===null?wl:t}function gu(){(an===0||an===3||an===2)&&(an=4),gn===null||(qi&268435455)===0&&(Il&268435455)===0||Ri(gn,vn)}function Ol(t,i){var a=ft;ft|=2;var c=R1();(gn!==t||vn!==i)&&(qr=null,$i(t,i));do try{Ff();break}catch(x){N1(t,x)}while(!0);if(Ra(),ft=a,Sl.current=c,Jt!==null)throw Error(f(261));return gn=null,vn=0,an}function Ff(){for(;Jt!==null;)T1(Jt)}function Uf(){for(;Jt!==null&&!Nt();)T1(Jt)}function T1(t){var i=D1(t.alternate,t,tr);t.memoizedProps=t.pendingProps,i===null?_1(t):Jt=i,su.current=null}function _1(t){var i=t;do{var a=i.alternate;if(t=i.return,(i.flags&32768)===0){if(a=Of(a,i,tr),a!==null){Jt=a;return}}else{if(a=Df(a,i),a!==null){a.flags&=32767,Jt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Jt=null;return}}if(i=i.sibling,i!==null){Jt=i;return}Jt=i=t}while(i!==null);an===0&&(an=5)}function es(t,i,a){var c=Ke,x=hr.transition;try{hr.transition=null,Ke=1,jf(t,i,a,c)}finally{hr.transition=x,Ke=c}return null}function jf(t,i,a,c){do Ds();while(Ii!==null);if((ft&6)!==0)throw Error(f(327));a=t.finishedWork;var x=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(f(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(ke(t,m),t===gn&&(Jt=gn=null,vn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Rl||(Rl=!0,M1(At,function(){return Ds(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=hr.transition,hr.transition=null;var N=Ke;Ke=1;var B=ft;ft|=4,su.current=null,kf(t,a),y1(a,t),Nn(ga),Dr=!!ha,ga=ha=null,t.current=a,Pf(a),Bo(),ft=B,Ke=N,hr.transition=m}else t.current=a;if(Rl&&(Rl=!1,Ii=t,Tl=x),m=t.pendingLanes,m===0&&(Si=null),rt(a.stateNode),Vn(t,wt()),i!==null)for(c=t.onRecoverableError,a=0;a<i.length;a++)x=i[a],c(x.value,{componentStack:x.stack,digest:x.digest});if(Nl)throw Nl=!1,t=au,au=null,t;return(Tl&1)!==0&&t.tag!==0&&Ds(),m=t.pendingLanes,(m&1)!==0?t===uu?So++:(So=0,uu=t):So=0,Ei(),null}function Ds(){if(Ii!==null){var t=Uo(Tl),i=hr.transition,a=Ke;try{if(hr.transition=null,Ke=16>t?16:t,Ii===null)var c=!1;else{if(t=Ii,Ii=null,Tl=0,(ft&6)!==0)throw Error(f(331));var x=ft;for(ft|=4,_e=t.current;_e!==null;){var m=_e,N=m.child;if((_e.flags&16)!==0){var B=m.deletions;if(B!==null){for(var U=0;U<B.length;U++){var J=B[U];for(_e=J;_e!==null;){var ce=_e;switch(ce.tag){case 0:case 11:case 15:Co(8,ce,m)}var fe=ce.child;if(fe!==null)fe.return=ce,_e=fe;else for(;_e!==null;){ce=_e;var ae=ce.sibling,Ie=ce.return;if(g1(ce),ce===J){_e=null;break}if(ae!==null){ae.return=Ie,_e=ae;break}_e=Ie}}}var be=m.alternate;if(be!==null){var Oe=be.child;if(Oe!==null){be.child=null;do{var Kt=Oe.sibling;Oe.sibling=null,Oe=Kt}while(Oe!==null)}}_e=m}}if((m.subtreeFlags&2064)!==0&&N!==null)N.return=m,_e=N;else e:for(;_e!==null;){if(m=_e,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Co(9,m,m.return)}var X=m.sibling;if(X!==null){X.return=m.return,_e=X;break e}_e=m.return}}var z=t.current;for(_e=z;_e!==null;){N=_e;var Q=N.child;if((N.subtreeFlags&2064)!==0&&Q!==null)Q.return=N,_e=Q;else e:for(N=z;_e!==null;){if(B=_e,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Al(9,B)}}catch(Me){Vt(B,B.return,Me)}if(B===N){_e=null;break e}var ge=B.sibling;if(ge!==null){ge.return=B.return,_e=ge;break e}_e=B.return}}if(ft=x,Ei(),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ut,t)}catch{}c=!0}return c}finally{Ke=a,hr.transition=i}}return!1}function b1(t,i,a){i=Ts(a,i),i=Zc(t,i,1),t=vi(t,i,1),i=Mn(),t!==null&&(D(t,1,i),Vn(t,i))}function Vt(t,i,a){if(t.tag===3)b1(t,t,a);else for(;i!==null;){if(i.tag===3){b1(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Si===null||!Si.has(c))){t=Ts(a,t),t=Qc(i,t,1),i=vi(i,t,1),t=Mn(),i!==null&&(D(i,1,t),Vn(i,t));break}}i=i.return}}function zf(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),i=Mn(),t.pingedLanes|=t.suspendedLanes&a,gn===t&&(vn&a)===a&&(an===4||an===3&&(vn&130023424)===vn&&500>wt()-lu?$i(t,0):ou|=a),Vn(t,i)}function O1(t,i){i===0&&((t.mode&1)===0?i=1:(i=as,as<<=1,(as&130023424)===0&&(as=4194304)));var a=Mn();t=Zr(t,i),t!==null&&(D(t,i,a),Vn(t,a))}function Vf(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),O1(t,a)}function Wf(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,x=t.memoizedState;x!==null&&(a=x.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(f(314))}c!==null&&c.delete(i),O1(t,a)}var D1;D1=function(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps||Fn.current)jn=!0;else{if((t.lanes&a)===0&&(i.flags&128)===0)return jn=!1,bf(t,i,a);jn=(t.flags&131072)!==0}else jn=!1,kt&&(i.flags&1048576)!==0&&fc(i,ol,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Cl(t,i),t=i.pendingProps;var x=Es(i,Rn.current);Ns(i,a),x=Fa(null,i,c,t,x,a);var m=Ua();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Un(c)?(m=!0,rl(i)):m=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Oa(i),x.updater=yl,i.stateNode=x,x._reactInternals=i,Ga(i,c,t,a),i=Qa(null,i,c,!0,m,a)):(i.tag=0,kt&&m&&Ca(i),Dn(null,i,x,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Cl(t,i),t=i.pendingProps,x=c._init,c=x(c._payload),i.type=c,x=i.tag=Gf(c),t=Cr(c,t),x){case 0:i=Za(null,i,c,t,a);break e;case 1:i=i1(null,i,c,t,a);break e;case 11:i=$c(null,i,c,t,a);break e;case 14:i=e1(null,i,c,Cr(c.type,t),a);break e}throw Error(f(306,c,""))}return i;case 0:return c=i.type,x=i.pendingProps,x=i.elementType===c?x:Cr(c,x),Za(t,i,c,x,a);case 1:return c=i.type,x=i.pendingProps,x=i.elementType===c?x:Cr(c,x),i1(t,i,c,x,a);case 3:e:{if(s1(i),t===null)throw Error(f(387));c=i.pendingProps,m=i.memoizedState,x=m.element,Ec(t,i),dl(i,c,null,a);var N=i.memoizedState;if(c=N.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){x=Ts(Error(f(423)),i),i=o1(t,i,c,a,x);break e}else if(c!==x){x=Ts(Error(f(424)),i),i=o1(t,i,c,a,x);break e}else for(er=mi(i.stateNode.containerInfo.firstChild),$n=i,kt=!0,Er=null,a=wc(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(As(),c===x){i=Kr(t,i,a);break e}Dn(t,i,c,a)}i=i.child}return i;case 5:return Ac(i),t===null&&Sa(i),c=i.type,x=i.pendingProps,m=t!==null?t.memoizedProps:null,N=x.children,pa(c,x)?N=null:m!==null&&pa(c,m)&&(i.flags|=32),r1(t,i),Dn(t,i,N,a),i.child;case 6:return t===null&&Sa(i),null;case 13:return l1(t,i,a);case 4:return Da(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Ss(i,null,c,a):Dn(t,i,c,a),i.child;case 11:return c=i.type,x=i.pendingProps,x=i.elementType===c?x:Cr(c,x),$c(t,i,c,x,a);case 7:return Dn(t,i,i.pendingProps,a),i.child;case 8:return Dn(t,i,i.pendingProps.children,a),i.child;case 12:return Dn(t,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,x=i.pendingProps,m=i.memoizedProps,N=x.value,_t(ul,c._currentValue),c._currentValue=N,m!==null)if(V(m.value,N)){if(m.children===x.children&&!Fn.current){i=Kr(t,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var B=m.dependencies;if(B!==null){N=m.child;for(var U=B.firstContext;U!==null;){if(U.context===c){if(m.tag===1){U=Qr(-1,a&-a),U.tag=2;var J=m.updateQueue;if(J!==null){J=J.shared;var ce=J.pending;ce===null?U.next=U:(U.next=ce.next,ce.next=U),J.pending=U}}m.lanes|=a,U=m.alternate,U!==null&&(U.lanes|=a),_a(m.return,a,i),B.lanes|=a;break}U=U.next}}else if(m.tag===10)N=m.type===i.type?null:m.child;else if(m.tag===18){if(N=m.return,N===null)throw Error(f(341));N.lanes|=a,B=N.alternate,B!==null&&(B.lanes|=a),_a(N,a,i),N=m.sibling}else N=m.child;if(N!==null)N.return=m;else for(N=m;N!==null;){if(N===i){N=null;break}if(m=N.sibling,m!==null){m.return=N.return,N=m;break}N=N.return}m=N}Dn(t,i,x.children,a),i=i.child}return i;case 9:return x=i.type,c=i.pendingProps.children,Ns(i,a),x=fr(x),c=c(x),i.flags|=1,Dn(t,i,c,a),i.child;case 14:return c=i.type,x=Cr(c,i.pendingProps),x=Cr(c.type,x),e1(t,i,c,x,a);case 15:return t1(t,i,i.type,i.pendingProps,a);case 17:return c=i.type,x=i.pendingProps,x=i.elementType===c?x:Cr(c,x),Cl(t,i),i.tag=1,Un(c)?(t=!0,rl(i)):t=!1,Ns(i,a),Xc(i,c,x),Ga(i,c,x,a),Qa(null,i,c,!0,t,a);case 19:return u1(t,i,a);case 22:return n1(t,i,a)}throw Error(f(156,i.tag))};function M1(t,i){return Yn(t,i)}function Hf(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,i,a,c){return new Hf(t,i,a,c)}function pu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gf(t){if(typeof t=="function")return pu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ve)return 11;if(t===$)return 14}return 2}function Ti(t,i){var a=t.alternate;return a===null?(a=gr(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Dl(t,i,a,c,x,m){var N=2;if(c=t,typeof t=="function")pu(t)&&(N=1);else if(typeof t=="string")N=5;else e:switch(t){case re:return ts(a.children,x,m,i);case Ce:N=8,x|=8;break;case te:return t=gr(12,a,i,x|2),t.elementType=te,t.lanes=m,t;case Xe:return t=gr(13,a,i,x),t.elementType=Xe,t.lanes=m,t;case $e:return t=gr(19,a,i,x),t.elementType=$e,t.lanes=m,t;case Ne:return Ml(a,x,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ze:N=10;break e;case qe:N=9;break e;case ve:N=11;break e;case $:N=14;break e;case st:N=16,c=null;break e}throw Error(f(130,t==null?t:typeof t,""))}return i=gr(N,a,i,x),i.elementType=t,i.type=c,i.lanes=m,i}function ts(t,i,a,c){return t=gr(7,t,c,i),t.lanes=a,t}function Ml(t,i,a,c){return t=gr(22,t,c,i),t.elementType=Ne,t.lanes=a,t.stateNode={isHidden:!1},t}function xu(t,i,a){return t=gr(6,t,null,i),t.lanes=a,t}function mu(t,i,a){return i=gr(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Xf(t,i,a,c,x){this.tag=i,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G(0),this.expirationTimes=G(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G(0),this.identifierPrefix=c,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function wu(t,i,a,c,x,m,N,B,U){return t=new Xf(t,i,a,B,U),i===1?(i=1,m===!0&&(i|=8)):i=0,m=gr(3,null,null,i),t.current=m,m.stateNode=t,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(m),t}function Yf(t,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:c==null?null:""+c,children:t,containerInfo:i,implementation:a}}function k1(t){if(!t)return yi;t=t._reactInternals;e:{if(Ln(t)!==t||t.tag!==1)throw Error(f(170));var i=t;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Un(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(f(171))}if(t.tag===1){var a=t.type;if(Un(a))return ac(t,a,i)}return i}function P1(t,i,a,c,x,m,N,B,U){return t=wu(a,c,!0,t,x,m,N,B,U),t.context=k1(null),a=t.current,c=Mn(),x=Ni(a),m=Qr(c,x),m.callback=i??null,vi(a,m,x),t.current.lanes=x,D(t,x,c),Vn(t,c),t}function kl(t,i,a,c){var x=i.current,m=Mn(),N=Ni(x);return a=k1(a),i.context===null?i.context=a:i.pendingContext=a,i=Qr(m,N),i.payload={element:t},c=c===void 0?null:c,c!==null&&(i.callback=c),t=vi(x,i,N),t!==null&&(Sr(t,x,N,m),fl(t,x,N)),N}function Pl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B1(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function yu(t,i){B1(t,i),(t=t.alternate)&&B1(t,i)}function Zf(){return null}var L1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eu(t){this._internalRoot=t}Bl.prototype.render=Eu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(f(409));kl(t,i,null,null)},Bl.prototype.unmount=Eu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ji(function(){kl(null,t,null,null)}),i[Hr]=null}};function Bl(t){this._internalRoot=t}Bl.prototype.unstable_scheduleHydration=function(t){if(t){var i=Rt();t={blockedOn:null,target:t,priority:i};for(var a=0;a<wn.length&&i!==0&&i<wn[a].priority;a++);wn.splice(a,0,t),a===0&&zo(t)}};function Cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function F1(){}function Qf(t,i,a,c,x){if(x){if(typeof c=="function"){var m=c;c=function(){var J=Pl(N);m.call(J)}}var N=P1(i,c,t,0,null,!1,!1,"",F1);return t._reactRootContainer=N,t[Hr]=N.current,lo(t.nodeType===8?t.parentNode:t),Ji(),N}for(;x=t.lastChild;)t.removeChild(x);if(typeof c=="function"){var B=c;c=function(){var J=Pl(U);B.call(J)}}var U=wu(t,0,!1,null,null,!1,!1,"",F1);return t._reactRootContainer=U,t[Hr]=U.current,lo(t.nodeType===8?t.parentNode:t),Ji(function(){kl(i,U,a,c)}),U}function Fl(t,i,a,c,x){var m=a._reactRootContainer;if(m){var N=m;if(typeof x=="function"){var B=x;x=function(){var U=Pl(N);B.call(U)}}kl(i,N,t,x)}else N=Qf(a,i,t,x,c);return Pl(N)}us=function(t){switch(t.tag){case 3:var i=t.stateNode;if(i.current.memoizedState.isDehydrated){var a=St(i.pendingLanes);a!==0&&(jt(i,a|1),Vn(i,wt()),(ft&6)===0&&(Os=wt()+500,Ei()))}break;case 13:Ji(function(){var c=Zr(t,1);if(c!==null){var x=Mn();Sr(c,t,1,x)}}),yu(t,1)}},In=function(t){if(t.tag===13){var i=Zr(t,134217728);if(i!==null){var a=Mn();Sr(i,t,134217728,a)}yu(t,134217728)}},Pe=function(t){if(t.tag===13){var i=Ni(t),a=Zr(t,i);if(a!==null){var c=Mn();Sr(a,t,i,c)}yu(t,i)}},Rt=function(){return Ke},Ys=function(t,i){var a=Ke;try{return Ke=t,i()}finally{Ke=a}},os=function(t,i,a){switch(i){case"input":if(Gt(t,a),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var x=tl(c);if(!x)throw Error(f(90));bi(c),Gt(c,x)}}}break;case"textarea":rr(t,a);break;case"select":i=a.value,i!=null&&Re(t,!!a.multiple,i,!1)}},ls=du,tn=Ji;var Kf={usingClientEntryPoint:!1,Events:[co,ws,tl,js,Bn,du]},Io={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qf={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ko(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||Zf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{ut=Ul.inject(qf),Qe=Ul}catch{}}return Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kf,Wn.createPortal=function(t,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(i))throw Error(f(200));return Yf(t,i,null,a)},Wn.createRoot=function(t,i){if(!Cu(t))throw Error(f(299));var a=!1,c="",x=L1;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=wu(t,1,!1,null,null,a,!1,c,x),t[Hr]=i.current,lo(t.nodeType===8?t.parentNode:t),new Eu(i)},Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(f(188)):(t=Object.keys(t).join(","),Error(f(268,t)));return t=ko(i),t=t===null?null:t.stateNode,t},Wn.flushSync=function(t){return Ji(t)},Wn.hydrate=function(t,i,a){if(!Ll(i))throw Error(f(200));return Fl(null,t,i,!0,a)},Wn.hydrateRoot=function(t,i,a){if(!Cu(t))throw Error(f(405));var c=a!=null&&a.hydratedSources||null,x=!1,m="",N=L1;if(a!=null&&(a.unstable_strictMode===!0&&(x=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),i=P1(i,null,t,1,a??null,x,!1,m,N),t[Hr]=i.current,lo(t),c)for(t=0;t<c.length;t++)a=c[t],x=a._getVersion,x=x(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,x]:i.mutableSourceEagerHydrationData.push(a,x);return new Bl(i)},Wn.render=function(t,i,a){if(!Ll(i))throw Error(f(200));return Fl(null,t,i,!1,a)},Wn.unmountComponentAtNode=function(t){if(!Ll(t))throw Error(f(40));return t._reactRootContainer?(Ji(function(){Fl(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1},Wn.unstable_batchedUpdates=du,Wn.unstable_renderSubtreeIntoContainer=function(t,i,a,c){if(!Ll(a))throw Error(f(200));if(t==null||t._reactInternals===void 0)throw Error(f(38));return Fl(t,i,a,!1,c)},Wn.version="18.3.1-next-f1338f8080-20240426",Wn}var X1;function od(){if(X1)return Su.exports;X1=1;function h(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(g){console.error(g)}}return h(),Su.exports=sd(),Su.exports}var Y1;function ld(){if(Y1)return zl;Y1=1;var h=od();return zl.createRoot=h.createRoot,zl.hydrateRoot=h.hydrateRoot,zl}var ad=ld();/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Z1="popstate";function ud(h={}){function g(y,v){let{pathname:w,search:O,hash:k}=y.location;return Du("",{pathname:w,search:O,hash:k},v.state&&v.state.usr||null,v.state&&v.state.key||"default")}function f(y,v){return typeof v=="string"?v:_o(v)}return fd(g,f,null,h)}function Ut(h,g){if(h===!1||h===null||typeof h>"u")throw new Error(g)}function Ir(h,g){if(!h){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function cd(){return Math.random().toString(36).substring(2,10)}function Q1(h,g){return{usr:h.state,key:h.key,idx:g}}function Du(h,g,f=null,y){return{pathname:typeof h=="string"?h:h.pathname,search:"",hash:"",...typeof g=="string"?Ps(g):g,state:f,key:g&&g.key||y||cd()}}function _o({pathname:h="/",search:g="",hash:f=""}){return g&&g!=="?"&&(h+=g.charAt(0)==="?"?g:"?"+g),f&&f!=="#"&&(h+=f.charAt(0)==="#"?f:"#"+f),h}function Ps(h){let g={};if(h){let f=h.indexOf("#");f>=0&&(g.hash=h.substring(f),h=h.substring(0,f));let y=h.indexOf("?");y>=0&&(g.search=h.substring(y),h=h.substring(0,y)),h&&(g.pathname=h)}return g}function fd(h,g,f,y={}){let{window:v=document.defaultView,v5Compat:w=!1}=y,O=v.history,k="POP",I=null,E=R();E==null&&(E=0,O.replaceState({...O.state,idx:E},""));function R(){return(O.state||{idx:null}).idx}function b(){k="POP";let ee=R(),we=ee==null?null:ee-E;E=ee,I&&I({action:k,location:Y.location,delta:we})}function F(ee,we){k="PUSH";let le=Du(Y.location,ee,we);E=R()+1;let P=Q1(le,E),se=Y.createHref(le);try{O.pushState(P,"",se)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;v.location.assign(se)}w&&I&&I({action:k,location:Y.location,delta:1})}function H(ee,we){k="REPLACE";let le=Du(Y.location,ee,we);E=R();let P=Q1(le,E),se=Y.createHref(le);O.replaceState(P,"",se),w&&I&&I({action:k,location:Y.location,delta:0})}function ne(ee){return dd(ee)}let Y={get action(){return k},get location(){return h(v,O)},listen(ee){if(I)throw new Error("A history only accepts one active listener");return v.addEventListener(Z1,b),I=ee,()=>{v.removeEventListener(Z1,b),I=null}},createHref(ee){return g(v,ee)},createURL:ne,encodeLocation(ee){let we=ne(ee);return{pathname:we.pathname,search:we.search,hash:we.hash}},push:F,replace:H,go(ee){return O.go(ee)}};return Y}function dd(h,g=!1){let f="http://localhost";typeof window<"u"&&(f=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(f,"No window.location.(origin|href) available to create URL");let y=typeof h=="string"?h:_o(h);return y=y.replace(/ $/,"%20"),!g&&y.startsWith("//")&&(y=f+y),new URL(y,f)}function m0(h,g,f="/"){return hd(h,g,f,!1)}function hd(h,g,f,y){let v=typeof g=="string"?Ps(g):g,w=ti(v.pathname||"/",f);if(w==null)return null;let O=w0(h);gd(O);let k=null;for(let I=0;k==null&&I<O.length;++I){let E=Id(w);k=Ad(O[I],E,y)}return k}function w0(h,g=[],f=[],y="",v=!1){let w=(O,k,I=v,E)=>{let R={relativePath:E===void 0?O.path||"":E,caseSensitive:O.caseSensitive===!0,childrenIndex:k,route:O};if(R.relativePath.startsWith("/")){if(!R.relativePath.startsWith(y)&&I)return;Ut(R.relativePath.startsWith(y),`Absolute route path "${R.relativePath}" nested under path "${y}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),R.relativePath=R.relativePath.slice(y.length)}let b=ei([y,R.relativePath]),F=f.concat(R);O.children&&O.children.length>0&&(Ut(O.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),w0(O.children,g,F,b,I)),!(O.path==null&&!O.index)&&g.push({path:b,score:Cd(b,O.index),routesMeta:F})};return h.forEach((O,k)=>{var I;if(O.path===""||!((I=O.path)!=null&&I.includes("?")))w(O,k);else for(let E of y0(O.path))w(O,k,!0,E)}),g}function y0(h){let g=h.split("/");if(g.length===0)return[];let[f,...y]=g,v=f.endsWith("?"),w=f.replace(/\?$/,"");if(y.length===0)return v?[w,""]:[w];let O=y0(y.join("/")),k=[];return k.push(...O.map(I=>I===""?w:[w,I].join("/"))),v&&k.push(...O),k.map(I=>h.startsWith("/")&&I===""?"/":I)}function gd(h){h.sort((g,f)=>g.score!==f.score?f.score-g.score:vd(g.routesMeta.map(y=>y.childrenIndex),f.routesMeta.map(y=>y.childrenIndex)))}var pd=/^:[\w-]+$/,xd=3,md=2,wd=1,yd=10,Ed=-2,K1=h=>h==="*";function Cd(h,g){let f=h.split("/"),y=f.length;return f.some(K1)&&(y+=Ed),g&&(y+=md),f.filter(v=>!K1(v)).reduce((v,w)=>v+(pd.test(w)?xd:w===""?wd:yd),y)}function vd(h,g){return h.length===g.length&&h.slice(0,-1).every((y,v)=>y===g[v])?h[h.length-1]-g[g.length-1]:0}function Ad(h,g,f=!1){let{routesMeta:y}=h,v={},w="/",O=[];for(let k=0;k<y.length;++k){let I=y[k],E=k===y.length-1,R=w==="/"?g:g.slice(w.length)||"/",b=Yl({path:I.relativePath,caseSensitive:I.caseSensitive,end:E},R),F=I.route;if(!b&&E&&f&&!y[y.length-1].route.index&&(b=Yl({path:I.relativePath,caseSensitive:I.caseSensitive,end:!1},R)),!b)return null;Object.assign(v,b.params),O.push({params:v,pathname:ei([w,b.pathname]),pathnameBase:_d(ei([w,b.pathnameBase])),route:F}),b.pathnameBase!=="/"&&(w=ei([w,b.pathnameBase]))}return O}function Yl(h,g){typeof h=="string"&&(h={path:h,caseSensitive:!1,end:!0});let[f,y]=Sd(h.path,h.caseSensitive,h.end),v=g.match(f);if(!v)return null;let w=v[0],O=w.replace(/(.)\/+$/,"$1"),k=v.slice(1);return{params:y.reduce((E,{paramName:R,isOptional:b},F)=>{if(R==="*"){let ne=k[F]||"";O=w.slice(0,w.length-ne.length).replace(/(.)\/+$/,"$1")}const H=k[F];return b&&!H?E[R]=void 0:E[R]=(H||"").replace(/%2F/g,"/"),E},{}),pathname:w,pathnameBase:O,pattern:h}}function Sd(h,g=!1,f=!0){Ir(h==="*"||!h.endsWith("*")||h.endsWith("/*"),`Route path "${h}" will be treated as if it were "${h.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${h.replace(/\*$/,"/*")}".`);let y=[],v="^"+h.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(O,k,I)=>(y.push({paramName:k,isOptional:I!=null}),I?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return h.endsWith("*")?(y.push({paramName:"*"}),v+=h==="*"||h==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):f?v+="\\/*$":h!==""&&h!=="/"&&(v+="(?:(?=\\/|$))"),[new RegExp(v,g?void 0:"i"),y]}function Id(h){try{return h.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return Ir(!1,`The URL path "${h}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${g}).`),h}}function ti(h,g){if(g==="/")return h;if(!h.toLowerCase().startsWith(g.toLowerCase()))return null;let f=g.endsWith("/")?g.length-1:g.length,y=h.charAt(f);return y&&y!=="/"?null:h.slice(f)||"/"}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nd=h=>E0.test(h);function Rd(h,g="/"){let{pathname:f,search:y="",hash:v=""}=typeof h=="string"?Ps(h):h,w;if(f)if(Nd(f))w=f;else{if(f.includes("//")){let O=f;f=f.replace(/\/\/+/g,"/"),Ir(!1,`Pathnames cannot have embedded double slashes - normalizing ${O} -> ${f}`)}f.startsWith("/")?w=q1(f.substring(1),"/"):w=q1(f,g)}else w=g;return{pathname:w,search:bd(y),hash:Od(v)}}function q1(h,g){let f=g.replace(/\/+$/,"").split("/");return h.split("/").forEach(v=>{v===".."?f.length>1&&f.pop():v!=="."&&f.push(v)}),f.length>1?f.join("/"):"/"}function Ru(h,g,f,y){return`Cannot include a '${h}' character in a manually specified \`to.${g}\` field [${JSON.stringify(y)}].  Please separate it out to the \`to.${f}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Td(h){return h.filter((g,f)=>f===0||g.route.path&&g.route.path.length>0)}function C0(h){let g=Td(h);return g.map((f,y)=>y===g.length-1?f.pathname:f.pathnameBase)}function v0(h,g,f,y=!1){let v;typeof h=="string"?v=Ps(h):(v={...h},Ut(!v.pathname||!v.pathname.includes("?"),Ru("?","pathname","search",v)),Ut(!v.pathname||!v.pathname.includes("#"),Ru("#","pathname","hash",v)),Ut(!v.search||!v.search.includes("#"),Ru("#","search","hash",v)));let w=h===""||v.pathname==="",O=w?"/":v.pathname,k;if(O==null)k=f;else{let b=g.length-1;if(!y&&O.startsWith("..")){let F=O.split("/");for(;F[0]==="..";)F.shift(),b-=1;v.pathname=F.join("/")}k=b>=0?g[b]:"/"}let I=Rd(v,k),E=O&&O!=="/"&&O.endsWith("/"),R=(w||O===".")&&f.endsWith("/");return!I.pathname.endsWith("/")&&(E||R)&&(I.pathname+="/"),I}var ei=h=>h.join("/").replace(/\/\/+/g,"/"),_d=h=>h.replace(/\/+$/,"").replace(/^\/*/,"/"),bd=h=>!h||h==="?"?"":h.startsWith("?")?h:"?"+h,Od=h=>!h||h==="#"?"":h.startsWith("#")?h:"#"+h,Dd=class{constructor(h,g,f,y=!1){this.status=h,this.statusText=g||"",this.internal=y,f instanceof Error?(this.data=f.toString(),this.error=f):this.data=f}};function Md(h){return h!=null&&typeof h.status=="number"&&typeof h.statusText=="string"&&typeof h.internal=="boolean"&&"data"in h}function kd(h){return h.map(g=>g.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var A0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function S0(h,g){let f=h;if(typeof f!="string"||!E0.test(f))return{absoluteURL:void 0,isExternal:!1,to:f};let y=f,v=!1;if(A0)try{let w=new URL(window.location.href),O=f.startsWith("//")?new URL(w.protocol+f):new URL(f),k=ti(O.pathname,g);O.origin===w.origin&&k!=null?f=k+O.search+O.hash:v=!0}catch{Ir(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:y,isExternal:v,to:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var I0=["POST","PUT","PATCH","DELETE"];new Set(I0);var Pd=["GET",...I0];new Set(Pd);var Bs=Z.createContext(null);Bs.displayName="DataRouter";var Jl=Z.createContext(null);Jl.displayName="DataRouterState";var Bd=Z.createContext(!1),N0=Z.createContext({isTransitioning:!1});N0.displayName="ViewTransition";var Ld=Z.createContext(new Map);Ld.displayName="Fetchers";var Fd=Z.createContext(null);Fd.displayName="Await";var pr=Z.createContext(null);pr.displayName="Navigation";var Oo=Z.createContext(null);Oo.displayName="Location";var Nr=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Fu=Z.createContext(null);Fu.displayName="RouteError";var R0="REACT_ROUTER_ERROR",Ud="REDIRECT",jd="ROUTE_ERROR_RESPONSE";function zd(h){if(h.startsWith(`${R0}:${Ud}:{`))try{let g=JSON.parse(h.slice(28));if(typeof g=="object"&&g&&typeof g.status=="number"&&typeof g.statusText=="string"&&typeof g.location=="string"&&typeof g.reloadDocument=="boolean"&&typeof g.replace=="boolean")return g}catch{}}function Vd(h){if(h.startsWith(`${R0}:${jd}:{`))try{let g=JSON.parse(h.slice(40));if(typeof g=="object"&&g&&typeof g.status=="number"&&typeof g.statusText=="string")return new Dd(g.status,g.statusText,g.data)}catch{}}function Wd(h,{relative:g}={}){Ut(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:f,navigator:y}=Z.useContext(pr),{hash:v,pathname:w,search:O}=Mo(h,{relative:g}),k=w;return f!=="/"&&(k=w==="/"?f:ei([f,w])),y.createHref({pathname:k,search:O,hash:v})}function Do(){return Z.useContext(Oo)!=null}function rs(){return Ut(Do(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Oo).location}var T0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _0(h){Z.useContext(pr).static||Z.useLayoutEffect(h)}function $l(){let{isDataRoute:h}=Z.useContext(Nr);return h?ih():Hd()}function Hd(){Ut(Do(),"useNavigate() may be used only in the context of a <Router> component.");let h=Z.useContext(Bs),{basename:g,navigator:f}=Z.useContext(pr),{matches:y}=Z.useContext(Nr),{pathname:v}=rs(),w=JSON.stringify(C0(y)),O=Z.useRef(!1);return _0(()=>{O.current=!0}),Z.useCallback((I,E={})=>{if(Ir(O.current,T0),!O.current)return;if(typeof I=="number"){f.go(I);return}let R=v0(I,JSON.parse(w),v,E.relative==="path");h==null&&g!=="/"&&(R.pathname=R.pathname==="/"?g:ei([g,R.pathname])),(E.replace?f.replace:f.push)(R,E.state,E)},[g,f,w,v,h])}var Gd=Z.createContext(null);function Xd(h){let g=Z.useContext(Nr).outlet;return Z.useMemo(()=>g&&Z.createElement(Gd.Provider,{value:h},g),[g,h])}function b0(){let{matches:h}=Z.useContext(Nr),g=h[h.length-1];return g?g.params:{}}function Mo(h,{relative:g}={}){let{matches:f}=Z.useContext(Nr),{pathname:y}=rs(),v=JSON.stringify(C0(f));return Z.useMemo(()=>v0(h,JSON.parse(v),y,g==="path"),[h,v,y,g])}function Yd(h,g){return O0(h,g)}function O0(h,g,f,y,v){var le;Ut(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:w}=Z.useContext(pr),{matches:O}=Z.useContext(Nr),k=O[O.length-1],I=k?k.params:{},E=k?k.pathname:"/",R=k?k.pathnameBase:"/",b=k&&k.route;{let P=b&&b.path||"";M0(E,!b||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${E}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let F=rs(),H;if(g){let P=typeof g=="string"?Ps(g):g;Ut(R==="/"||((le=P.pathname)==null?void 0:le.startsWith(R)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${R}" but pathname "${P.pathname}" was given in the \`location\` prop.`),H=P}else H=F;let ne=H.pathname||"/",Y=ne;if(R!=="/"){let P=R.replace(/^\//,"").split("/");Y="/"+ne.replace(/^\//,"").split("/").slice(P.length).join("/")}let ee=m0(h,{pathname:Y});Ir(b||ee!=null,`No routes matched location "${H.pathname}${H.search}${H.hash}" `),Ir(ee==null||ee[ee.length-1].route.element!==void 0||ee[ee.length-1].route.Component!==void 0||ee[ee.length-1].route.lazy!==void 0,`Matched leaf route at location "${H.pathname}${H.search}${H.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let we=Jd(ee&&ee.map(P=>Object.assign({},P,{params:Object.assign({},I,P.params),pathname:ei([R,w.encodeLocation?w.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?R:ei([R,w.encodeLocation?w.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),O,f,y,v);return g&&we?Z.createElement(Oo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...H},navigationType:"POP"}},we):we}function Zd(){let h=rh(),g=Md(h)?`${h.status} ${h.statusText}`:h instanceof Error?h.message:JSON.stringify(h),f=h instanceof Error?h.stack:null,y="rgba(200,200,200, 0.5)",v={padding:"0.5rem",backgroundColor:y},w={padding:"2px 4px",backgroundColor:y},O=null;return console.error("Error handled by React Router default ErrorBoundary:",h),O=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:w},"ErrorBoundary")," or"," ",Z.createElement("code",{style:w},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},g),f?Z.createElement("pre",{style:v},f):null,O)}var Qd=Z.createElement(Zd,null),D0=class extends Z.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,g){return g.location!==h.location||g.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:g.error,location:g.location,revalidation:h.revalidation||g.revalidation}}componentDidCatch(h,g){this.props.onError?this.props.onError(h,g):console.error("React Router caught the following error during render",h)}render(){let h=this.state.error;if(this.context&&typeof h=="object"&&h&&"digest"in h&&typeof h.digest=="string"){const f=Vd(h.digest);f&&(h=f)}let g=h!==void 0?Z.createElement(Nr.Provider,{value:this.props.routeContext},Z.createElement(Fu.Provider,{value:h,children:this.props.component})):this.props.children;return this.context?Z.createElement(Kd,{error:h},g):g}};D0.contextType=Bd;var Tu=new WeakMap;function Kd({children:h,error:g}){let{basename:f}=Z.useContext(pr);if(typeof g=="object"&&g&&"digest"in g&&typeof g.digest=="string"){let y=zd(g.digest);if(y){let v=Tu.get(g);if(v)throw v;let w=S0(y.location,f);if(A0&&!Tu.get(g))if(w.isExternal||y.reloadDocument)window.location.href=w.absoluteURL||w.to;else{const O=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(w.to,{replace:y.replace}));throw Tu.set(g,O),O}return Z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${w.absoluteURL||w.to}`})}}return h}function qd({routeContext:h,match:g,children:f}){let y=Z.useContext(Bs);return y&&y.static&&y.staticContext&&(g.route.errorElement||g.route.ErrorBoundary)&&(y.staticContext._deepestRenderedBoundaryId=g.route.id),Z.createElement(Nr.Provider,{value:h},f)}function Jd(h,g=[],f=null,y=null,v=null){if(h==null){if(!f)return null;if(f.errors)h=f.matches;else if(g.length===0&&!f.initialized&&f.matches.length>0)h=f.matches;else return null}let w=h,O=f==null?void 0:f.errors;if(O!=null){let R=w.findIndex(b=>b.route.id&&(O==null?void 0:O[b.route.id])!==void 0);Ut(R>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(O).join(",")}`),w=w.slice(0,Math.min(w.length,R+1))}let k=!1,I=-1;if(f)for(let R=0;R<w.length;R++){let b=w[R];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(I=R),b.route.id){let{loaderData:F,errors:H}=f,ne=b.route.loader&&!F.hasOwnProperty(b.route.id)&&(!H||H[b.route.id]===void 0);if(b.route.lazy||ne){k=!0,I>=0?w=w.slice(0,I+1):w=[w[0]];break}}}let E=f&&y?(R,b)=>{var F,H;y(R,{location:f.location,params:((H=(F=f.matches)==null?void 0:F[0])==null?void 0:H.params)??{},unstable_pattern:kd(f.matches),errorInfo:b})}:void 0;return w.reduceRight((R,b,F)=>{let H,ne=!1,Y=null,ee=null;f&&(H=O&&b.route.id?O[b.route.id]:void 0,Y=b.route.errorElement||Qd,k&&(I<0&&F===0?(M0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ne=!0,ee=null):I===F&&(ne=!0,ee=b.route.hydrateFallbackElement||null)));let we=g.concat(w.slice(0,F+1)),le=()=>{let P;return H?P=Y:ne?P=ee:b.route.Component?P=Z.createElement(b.route.Component,null):b.route.element?P=b.route.element:P=R,Z.createElement(qd,{match:b,routeContext:{outlet:R,matches:we,isDataRoute:f!=null},children:P})};return f&&(b.route.ErrorBoundary||b.route.errorElement||F===0)?Z.createElement(D0,{location:f.location,revalidation:f.revalidation,component:Y,error:H,children:le(),routeContext:{outlet:null,matches:we,isDataRoute:!0},onError:E}):le()},null)}function Uu(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $d(h){let g=Z.useContext(Bs);return Ut(g,Uu(h)),g}function eh(h){let g=Z.useContext(Jl);return Ut(g,Uu(h)),g}function th(h){let g=Z.useContext(Nr);return Ut(g,Uu(h)),g}function ju(h){let g=th(h),f=g.matches[g.matches.length-1];return Ut(f.route.id,`${h} can only be used on routes that contain a unique "id"`),f.route.id}function nh(){return ju("useRouteId")}function rh(){var y;let h=Z.useContext(Fu),g=eh("useRouteError"),f=ju("useRouteError");return h!==void 0?h:(y=g.errors)==null?void 0:y[f]}function ih(){let{router:h}=$d("useNavigate"),g=ju("useNavigate"),f=Z.useRef(!1);return _0(()=>{f.current=!0}),Z.useCallback(async(v,w={})=>{Ir(f.current,T0),f.current&&(typeof v=="number"?await h.navigate(v):await h.navigate(v,{fromRouteId:g,...w}))},[h,g])}var J1={};function M0(h,g,f){!g&&!J1[h]&&(J1[h]=!0,Ir(!1,f))}Z.memo(sh);function sh({routes:h,future:g,state:f,onError:y}){return O0(h,void 0,f,y,g)}function oh(h){return Xd(h.context)}function Jr(h){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lh({basename:h="/",children:g=null,location:f,navigationType:y="POP",navigator:v,static:w=!1,unstable_useTransitions:O}){Ut(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let k=h.replace(/^\/*/,"/"),I=Z.useMemo(()=>({basename:k,navigator:v,static:w,unstable_useTransitions:O,future:{}}),[k,v,w,O]);typeof f=="string"&&(f=Ps(f));let{pathname:E="/",search:R="",hash:b="",state:F=null,key:H="default"}=f,ne=Z.useMemo(()=>{let Y=ti(E,k);return Y==null?null:{location:{pathname:Y,search:R,hash:b,state:F,key:H},navigationType:y}},[k,E,R,b,F,H,y]);return Ir(ne!=null,`<Router basename="${k}"> is not able to match the URL "${E}${R}${b}" because it does not start with the basename, so the <Router> won't render anything.`),ne==null?null:Z.createElement(pr.Provider,{value:I},Z.createElement(Oo.Provider,{children:g,value:ne}))}function ah({children:h,location:g}){return Yd(Mu(h),g)}function Mu(h,g=[]){let f=[];return Z.Children.forEach(h,(y,v)=>{if(!Z.isValidElement(y))return;let w=[...g,v];if(y.type===Z.Fragment){f.push.apply(f,Mu(y.props.children,w));return}Ut(y.type===Jr,`[${typeof y.type=="string"?y.type:y.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!y.props.index||!y.props.children,"An index route cannot have child routes.");let O={id:y.props.id||w.join("-"),caseSensitive:y.props.caseSensitive,element:y.props.element,Component:y.props.Component,index:y.props.index,path:y.props.path,middleware:y.props.middleware,loader:y.props.loader,action:y.props.action,hydrateFallbackElement:y.props.hydrateFallbackElement,HydrateFallback:y.props.HydrateFallback,errorElement:y.props.errorElement,ErrorBoundary:y.props.ErrorBoundary,hasErrorBoundary:y.props.hasErrorBoundary===!0||y.props.ErrorBoundary!=null||y.props.errorElement!=null,shouldRevalidate:y.props.shouldRevalidate,handle:y.props.handle,lazy:y.props.lazy};y.props.children&&(O.children=Mu(y.props.children,w)),f.push(O)}),f}var Hl="get",Gl="application/x-www-form-urlencoded";function ea(h){return typeof HTMLElement<"u"&&h instanceof HTMLElement}function uh(h){return ea(h)&&h.tagName.toLowerCase()==="button"}function ch(h){return ea(h)&&h.tagName.toLowerCase()==="form"}function fh(h){return ea(h)&&h.tagName.toLowerCase()==="input"}function dh(h){return!!(h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)}function hh(h,g){return h.button===0&&(!g||g==="_self")&&!dh(h)}var Vl=null;function gh(){if(Vl===null)try{new FormData(document.createElement("form"),0),Vl=!1}catch{Vl=!0}return Vl}var ph=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _u(h){return h!=null&&!ph.has(h)?(Ir(!1,`"${h}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gl}"`),null):h}function xh(h,g){let f,y,v,w,O;if(ch(h)){let k=h.getAttribute("action");y=k?ti(k,g):null,f=h.getAttribute("method")||Hl,v=_u(h.getAttribute("enctype"))||Gl,w=new FormData(h)}else if(uh(h)||fh(h)&&(h.type==="submit"||h.type==="image")){let k=h.form;if(k==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let I=h.getAttribute("formaction")||k.getAttribute("action");if(y=I?ti(I,g):null,f=h.getAttribute("formmethod")||k.getAttribute("method")||Hl,v=_u(h.getAttribute("formenctype"))||_u(k.getAttribute("enctype"))||Gl,w=new FormData(k,h),!gh()){let{name:E,type:R,value:b}=h;if(R==="image"){let F=E?`${E}.`:"";w.append(`${F}x`,"0"),w.append(`${F}y`,"0")}else E&&w.append(E,b)}}else{if(ea(h))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');f=Hl,y=null,v=Gl,O=h}return w&&v==="text/plain"&&(O=w,w=void 0),{action:y,method:f.toLowerCase(),encType:v,formData:w,body:O}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zu(h,g){if(h===!1||h===null||typeof h>"u")throw new Error(g)}function mh(h,g,f,y){let v=typeof h=="string"?new URL(h,typeof window>"u"?"server://singlefetch/":window.location.origin):h;return f?v.pathname.endsWith("/")?v.pathname=`${v.pathname}_.${y}`:v.pathname=`${v.pathname}.${y}`:v.pathname==="/"?v.pathname=`_root.${y}`:g&&ti(v.pathname,g)==="/"?v.pathname=`${g.replace(/\/$/,"")}/_root.${y}`:v.pathname=`${v.pathname.replace(/\/$/,"")}.${y}`,v}async function wh(h,g){if(h.id in g)return g[h.id];try{let f=await import(h.module);return g[h.id]=f,f}catch(f){return console.error(`Error loading route module \`${h.module}\`, reloading page...`),console.error(f),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yh(h){return h==null?!1:h.href==null?h.rel==="preload"&&typeof h.imageSrcSet=="string"&&typeof h.imageSizes=="string":typeof h.rel=="string"&&typeof h.href=="string"}async function Eh(h,g,f){let y=await Promise.all(h.map(async v=>{let w=g.routes[v.route.id];if(w){let O=await wh(w,f);return O.links?O.links():[]}return[]}));return Sh(y.flat(1).filter(yh).filter(v=>v.rel==="stylesheet"||v.rel==="preload").map(v=>v.rel==="stylesheet"?{...v,rel:"prefetch",as:"style"}:{...v,rel:"prefetch"}))}function $1(h,g,f,y,v,w){let O=(I,E)=>f[E]?I.route.id!==f[E].route.id:!0,k=(I,E)=>{var R;return f[E].pathname!==I.pathname||((R=f[E].route.path)==null?void 0:R.endsWith("*"))&&f[E].params["*"]!==I.params["*"]};return w==="assets"?g.filter((I,E)=>O(I,E)||k(I,E)):w==="data"?g.filter((I,E)=>{var b;let R=y.routes[I.route.id];if(!R||!R.hasLoader)return!1;if(O(I,E)||k(I,E))return!0;if(I.route.shouldRevalidate){let F=I.route.shouldRevalidate({currentUrl:new URL(v.pathname+v.search+v.hash,window.origin),currentParams:((b=f[0])==null?void 0:b.params)||{},nextUrl:new URL(h,window.origin),nextParams:I.params,defaultShouldRevalidate:!0});if(typeof F=="boolean")return F}return!0}):[]}function Ch(h,g,{includeHydrateFallback:f}={}){return vh(h.map(y=>{let v=g.routes[y.route.id];if(!v)return[];let w=[v.module];return v.clientActionModule&&(w=w.concat(v.clientActionModule)),v.clientLoaderModule&&(w=w.concat(v.clientLoaderModule)),f&&v.hydrateFallbackModule&&(w=w.concat(v.hydrateFallbackModule)),v.imports&&(w=w.concat(v.imports)),w}).flat(1))}function vh(h){return[...new Set(h)]}function Ah(h){let g={},f=Object.keys(h).sort();for(let y of f)g[y]=h[y];return g}function Sh(h,g){let f=new Set;return new Set(g),h.reduce((y,v)=>{let w=JSON.stringify(Ah(v));return f.has(w)||(f.add(w),y.push({key:w,link:v})),y},[])}function k0(){let h=Z.useContext(Bs);return zu(h,"You must render this element inside a <DataRouterContext.Provider> element"),h}function Ih(){let h=Z.useContext(Jl);return zu(h,"You must render this element inside a <DataRouterStateContext.Provider> element"),h}var Vu=Z.createContext(void 0);Vu.displayName="FrameworkContext";function P0(){let h=Z.useContext(Vu);return zu(h,"You must render this element inside a <HydratedRouter> element"),h}function Nh(h,g){let f=Z.useContext(Vu),[y,v]=Z.useState(!1),[w,O]=Z.useState(!1),{onFocus:k,onBlur:I,onMouseEnter:E,onMouseLeave:R,onTouchStart:b}=g,F=Z.useRef(null);Z.useEffect(()=>{if(h==="render"&&O(!0),h==="viewport"){let Y=we=>{we.forEach(le=>{O(le.isIntersecting)})},ee=new IntersectionObserver(Y,{threshold:.5});return F.current&&ee.observe(F.current),()=>{ee.disconnect()}}},[h]),Z.useEffect(()=>{if(y){let Y=setTimeout(()=>{O(!0)},100);return()=>{clearTimeout(Y)}}},[y]);let H=()=>{v(!0)},ne=()=>{v(!1),O(!1)};return f?h!=="intent"?[w,F,{}]:[w,F,{onFocus:Ro(k,H),onBlur:Ro(I,ne),onMouseEnter:Ro(E,H),onMouseLeave:Ro(R,ne),onTouchStart:Ro(b,H)}]:[!1,F,{}]}function Ro(h,g){return f=>{h&&h(f),f.defaultPrevented||g(f)}}function Rh({page:h,...g}){let{router:f}=k0(),y=Z.useMemo(()=>m0(f.routes,h,f.basename),[f.routes,h,f.basename]);return y?Z.createElement(_h,{page:h,matches:y,...g}):null}function Th(h){let{manifest:g,routeModules:f}=P0(),[y,v]=Z.useState([]);return Z.useEffect(()=>{let w=!1;return Eh(h,g,f).then(O=>{w||v(O)}),()=>{w=!0}},[h,g,f]),y}function _h({page:h,matches:g,...f}){let y=rs(),{future:v,manifest:w,routeModules:O}=P0(),{basename:k}=k0(),{loaderData:I,matches:E}=Ih(),R=Z.useMemo(()=>$1(h,g,E,w,y,"data"),[h,g,E,w,y]),b=Z.useMemo(()=>$1(h,g,E,w,y,"assets"),[h,g,E,w,y]),F=Z.useMemo(()=>{if(h===y.pathname+y.search+y.hash)return[];let Y=new Set,ee=!1;if(g.forEach(le=>{var se;let P=w.routes[le.route.id];!P||!P.hasLoader||(!R.some(Se=>Se.route.id===le.route.id)&&le.route.id in I&&((se=O[le.route.id])!=null&&se.shouldRevalidate)||P.hasClientLoader?ee=!0:Y.add(le.route.id))}),Y.size===0)return[];let we=mh(h,k,v.unstable_trailingSlashAwareDataRequests,"data");return ee&&Y.size>0&&we.searchParams.set("_routes",g.filter(le=>Y.has(le.route.id)).map(le=>le.route.id).join(",")),[we.pathname+we.search]},[k,v.unstable_trailingSlashAwareDataRequests,I,y,w,R,g,h,O]),H=Z.useMemo(()=>Ch(b,w),[b,w]),ne=Th(b);return Z.createElement(Z.Fragment,null,F.map(Y=>Z.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...f})),H.map(Y=>Z.createElement("link",{key:Y,rel:"modulepreload",href:Y,...f})),ne.map(({key:Y,link:ee})=>Z.createElement("link",{key:Y,nonce:f.nonce,...ee})))}function bh(...h){return g=>{h.forEach(f=>{typeof f=="function"?f(g):f!=null&&(f.current=g)})}}var Oh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Oh&&(window.__reactRouterVersion="7.12.0")}catch{}function Dh({basename:h,children:g,unstable_useTransitions:f,window:y}){let v=Z.useRef();v.current==null&&(v.current=ud({window:y,v5Compat:!0}));let w=v.current,[O,k]=Z.useState({action:w.action,location:w.location}),I=Z.useCallback(E=>{f===!1?k(E):Z.startTransition(()=>k(E))},[f]);return Z.useLayoutEffect(()=>w.listen(I),[w,I]),Z.createElement(lh,{basename:h,children:g,location:O.location,navigationType:O.action,navigator:w,unstable_useTransitions:f})}var B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=Z.forwardRef(function({onClick:g,discover:f="render",prefetch:y="none",relative:v,reloadDocument:w,replace:O,state:k,target:I,to:E,preventScrollReset:R,viewTransition:b,unstable_defaultShouldRevalidate:F,...H},ne){let{basename:Y,unstable_useTransitions:ee}=Z.useContext(pr),we=typeof E=="string"&&B0.test(E),le=S0(E,Y);E=le.to;let P=Wd(E,{relative:v}),[se,Se,Ee]=Nh(y,H),re=Bh(E,{replace:O,state:k,target:I,preventScrollReset:R,relative:v,viewTransition:b,unstable_defaultShouldRevalidate:F,unstable_useTransitions:ee});function Ce(Ze){g&&g(Ze),Ze.defaultPrevented||re(Ze)}let te=Z.createElement("a",{...H,...Ee,href:le.absoluteURL||P,onClick:le.isExternal||w?g:Ce,ref:bh(ne,Se),target:I,"data-discover":!we&&f==="render"?"true":void 0});return se&&!we?Z.createElement(Z.Fragment,null,te,Z.createElement(Rh,{page:P})):te});xn.displayName="Link";var Mh=Z.forwardRef(function({"aria-current":g="page",caseSensitive:f=!1,className:y="",end:v=!1,style:w,to:O,viewTransition:k,children:I,...E},R){let b=Mo(O,{relative:E.relative}),F=rs(),H=Z.useContext(Jl),{navigator:ne,basename:Y}=Z.useContext(pr),ee=H!=null&&zh(b)&&k===!0,we=ne.encodeLocation?ne.encodeLocation(b).pathname:b.pathname,le=F.pathname,P=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;f||(le=le.toLowerCase(),P=P?P.toLowerCase():null,we=we.toLowerCase()),P&&Y&&(P=ti(P,Y)||P);const se=we!=="/"&&we.endsWith("/")?we.length-1:we.length;let Se=le===we||!v&&le.startsWith(we)&&le.charAt(se)==="/",Ee=P!=null&&(P===we||!v&&P.startsWith(we)&&P.charAt(we.length)==="/"),re={isActive:Se,isPending:Ee,isTransitioning:ee},Ce=Se?g:void 0,te;typeof y=="function"?te=y(re):te=[y,Se?"active":null,Ee?"pending":null,ee?"transitioning":null].filter(Boolean).join(" ");let Ze=typeof w=="function"?w(re):w;return Z.createElement(xn,{...E,"aria-current":Ce,className:te,ref:R,style:Ze,to:O,viewTransition:k},typeof I=="function"?I(re):I)});Mh.displayName="NavLink";var kh=Z.forwardRef(({discover:h="render",fetcherKey:g,navigate:f,reloadDocument:y,replace:v,state:w,method:O=Hl,action:k,onSubmit:I,relative:E,preventScrollReset:R,viewTransition:b,unstable_defaultShouldRevalidate:F,...H},ne)=>{let{unstable_useTransitions:Y}=Z.useContext(pr),ee=Uh(),we=jh(k,{relative:E}),le=O.toLowerCase()==="get"?"get":"post",P=typeof k=="string"&&B0.test(k),se=Se=>{if(I&&I(Se),Se.defaultPrevented)return;Se.preventDefault();let Ee=Se.nativeEvent.submitter,re=(Ee==null?void 0:Ee.getAttribute("formmethod"))||O,Ce=()=>ee(Ee||Se.currentTarget,{fetcherKey:g,method:re,navigate:f,replace:v,state:w,relative:E,preventScrollReset:R,viewTransition:b,unstable_defaultShouldRevalidate:F});Y&&f!==!1?Z.startTransition(()=>Ce()):Ce()};return Z.createElement("form",{ref:ne,method:le,action:we,onSubmit:y?I:se,...H,"data-discover":!P&&h==="render"?"true":void 0})});kh.displayName="Form";function Ph(h){return`${h} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(h){let g=Z.useContext(Bs);return Ut(g,Ph(h)),g}function Bh(h,{target:g,replace:f,state:y,preventScrollReset:v,relative:w,viewTransition:O,unstable_defaultShouldRevalidate:k,unstable_useTransitions:I}={}){let E=$l(),R=rs(),b=Mo(h,{relative:w});return Z.useCallback(F=>{if(hh(F,g)){F.preventDefault();let H=f!==void 0?f:_o(R)===_o(b),ne=()=>E(h,{replace:H,state:y,preventScrollReset:v,relative:w,viewTransition:O,unstable_defaultShouldRevalidate:k});I?Z.startTransition(()=>ne()):ne()}},[R,E,b,f,y,g,h,v,w,O,k,I])}var Lh=0,Fh=()=>`__${String(++Lh)}__`;function Uh(){let{router:h}=L0("useSubmit"),{basename:g}=Z.useContext(pr),f=nh(),y=h.fetch,v=h.navigate;return Z.useCallback(async(w,O={})=>{let{action:k,method:I,encType:E,formData:R,body:b}=xh(w,g);if(O.navigate===!1){let F=O.fetcherKey||Fh();await y(F,f,O.action||k,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:R,body:b,formMethod:O.method||I,formEncType:O.encType||E,flushSync:O.flushSync})}else await v(O.action||k,{unstable_defaultShouldRevalidate:O.unstable_defaultShouldRevalidate,preventScrollReset:O.preventScrollReset,formData:R,body:b,formMethod:O.method||I,formEncType:O.encType||E,replace:O.replace,state:O.state,fromRouteId:f,flushSync:O.flushSync,viewTransition:O.viewTransition})},[y,v,g,f])}function jh(h,{relative:g}={}){let{basename:f}=Z.useContext(pr),y=Z.useContext(Nr);Ut(y,"useFormAction must be used inside a RouteContext");let[v]=y.matches.slice(-1),w={...Mo(h||".",{relative:g})},O=rs();if(h==null){w.search=O.search;let k=new URLSearchParams(w.search),I=k.getAll("index");if(I.some(R=>R==="")){k.delete("index"),I.filter(b=>b).forEach(b=>k.append("index",b));let R=k.toString();w.search=R?`?${R}`:""}}return(!h||h===".")&&v.route.index&&(w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index"),f!=="/"&&(w.pathname=w.pathname==="/"?f:ei([f,w.pathname])),_o(w)}function zh(h,{relative:g}={}){let f=Z.useContext(N0);Ut(f!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:y}=L0("useViewTransitionState"),v=Mo(h,{relative:g});if(!f.isTransitioning)return!1;let w=ti(f.currentLocation.pathname,y)||f.currentLocation.pathname,O=ti(f.nextLocation.pathname,y)||f.nextLocation.pathname;return Yl(v.pathname,O)!=null||Yl(v.pathname,w)!=null}/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=h=>h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F0=(...h)=>h.filter((g,f,y)=>!!g&&g.trim()!==""&&y.indexOf(g)===f).join(" ").trim();/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Z.forwardRef(({color:h="currentColor",size:g=24,strokeWidth:f=2,absoluteStrokeWidth:y,className:v="",children:w,iconNode:O,...k},I)=>Z.createElement("svg",{ref:I,...Wh,width:g,height:g,stroke:h,strokeWidth:y?Number(f)*24/Number(g):f,className:F0("lucide",v),...k},[...O.map(([E,R])=>Z.createElement(E,R)),...Array.isArray(w)?w:[w]]));/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(h,g)=>{const f=Z.forwardRef(({className:y,...v},w)=>Z.createElement(Hh,{ref:w,iconNode:g,className:F0(`lucide-${Vh(h)}`,y),...v}));return f.displayName=`${h}`,f};/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wu=dt("ArrowLeft",Gh);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yh=dt("ArrowRight",Xh);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qh=dt("Calendar",Zh);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xl=dt("Camera",Kh);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Jh=dt("ChartNoAxesColumn",qh);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],e2=dt("CircleCheckBig",$h);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],n2=dt("CircleX",t2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],i2=dt("Copy",r2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],U0=dt("Download",s2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Hu=dt("ExternalLink",o2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],e0=dt("FileText",l2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],t0=dt("Image",a2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],c2=dt("Link",u2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],d2=dt("Lock",f2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],g2=dt("Mail",h2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],x2=dt("MapPin",p2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],w2=dt("MessageSquare",m2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],E2=dt("Moon",y2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],v2=dt("Pen",C2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],j0=dt("Plus",A2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],I2=dt("Power",S2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],R2=dt("QrCode",N2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_2=dt("RefreshCw",T2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],z0=dt("Save",b2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],D2=dt("ScanLine",O2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k2=dt("ShieldCheck",M2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],B2=dt("SquareCheckBig",P2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],F2=dt("Sun",L2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],V0=dt("Trash2",U2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],z2=dt("User",j2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],W2=dt("Wifi",V2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],G2=dt("X",H2);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],W0=dt("Zap",X2);function Y2(){return _.jsxs("div",{className:"container",style:{maxWidth:"800px",textAlign:"center",padding:"4rem 1rem"},children:[_.jsxs("div",{style:{marginBottom:"3rem"},children:[_.jsx("h1",{style:{fontSize:"3rem",fontWeight:"800",letterSpacing:"-0.05em",lineHeight:"1.1",marginBottom:"1.5rem"},children:"QR, done differently."}),_.jsx("p",{style:{fontSize:"1.25rem",color:"var(--color-secondary)",marginBottom:"2rem",maxWidth:"600px",marginInline:"auto"},children:"Permanent QR codes with dynamic destinations. No tracking pixels, no broken links, no gimmicks."}),_.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[_.jsxs(xn,{to:"/create",className:"btn btn-primary",style:{padding:"0.75rem 1.5rem",fontSize:"1.1rem"},children:["Create a QR",_.jsx(Yh,{size:16,style:{marginLeft:"0.5rem"}})]}),_.jsx(xn,{to:"/dashboard",className:"btn btn-outline",style:{padding:"0.75rem 1.5rem",fontSize:"1.1rem"},children:"My QRs"}),_.jsx(xn,{to:"/scan",className:"btn btn-outline",style:{padding:"0.75rem 1.5rem",fontSize:"1.1rem"},children:"Scan QR"})]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem",marginTop:"4rem",textAlign:"left"},children:[_.jsx(bu,{icon:_.jsx(W0,{}),title:"Dynamic Routing",desc:"Change where your QR points to instantly. The image never changes."}),_.jsx(bu,{icon:_.jsx(k2,{}),title:"Privacy First",desc:"We count scans, but we don't track users. No cookies, no fingerprints."}),_.jsx(bu,{icon:_.jsx(d2,{}),title:"Permanent",desc:"Built on infrastructure that is designed to last. Your links are safe."})]})]})}function bu({icon:h,title:g,desc:f}){return _.jsxs("div",{style:{padding:"1.5rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius)"},children:[_.jsx("div",{style:{marginBottom:"1rem",color:"var(--color-primary)"},children:h}),_.jsx("h3",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:g}),_.jsx("p",{style:{fontSize:"0.9rem",color:"var(--color-secondary)",lineHeight:"1.6"},children:f})]})}var Z2=Object.defineProperty,Zl=Object.getOwnPropertySymbols,H0=Object.prototype.hasOwnProperty,G0=Object.prototype.propertyIsEnumerable,n0=(h,g,f)=>g in h?Z2(h,g,{enumerable:!0,configurable:!0,writable:!0,value:f}):h[g]=f,ku=(h,g)=>{for(var f in g||(g={}))H0.call(g,f)&&n0(h,f,g[f]);if(Zl)for(var f of Zl(g))G0.call(g,f)&&n0(h,f,g[f]);return h},Pu=(h,g)=>{var f={};for(var y in h)H0.call(h,y)&&g.indexOf(y)<0&&(f[y]=h[y]);if(h!=null&&Zl)for(var y of Zl(h))g.indexOf(y)<0&&G0.call(h,y)&&(f[y]=h[y]);return f};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ns;(h=>{const g=class it{constructor(I,E,R,b){if(this.version=I,this.errorCorrectionLevel=E,this.modules=[],this.isFunction=[],I<it.MIN_VERSION||I>it.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=I*4+17;let F=[];for(let ne=0;ne<this.size;ne++)F.push(!1);for(let ne=0;ne<this.size;ne++)this.modules.push(F.slice()),this.isFunction.push(F.slice());this.drawFunctionPatterns();const H=this.addEccAndInterleave(R);if(this.drawCodewords(H),b==-1){let ne=1e9;for(let Y=0;Y<8;Y++){this.applyMask(Y),this.drawFormatBits(Y);const ee=this.getPenaltyScore();ee<ne&&(b=Y,ne=ee),this.applyMask(Y)}}v(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(I,E){const R=h.QrSegment.makeSegments(I);return it.encodeSegments(R,E)}static encodeBinary(I,E){const R=h.QrSegment.makeBytes(I);return it.encodeSegments([R],E)}static encodeSegments(I,E,R=1,b=40,F=-1,H=!0){if(!(it.MIN_VERSION<=R&&R<=b&&b<=it.MAX_VERSION)||F<-1||F>7)throw new RangeError("Invalid value");let ne,Y;for(ne=R;;ne++){const P=it.getNumDataCodewords(ne,E)*8,se=O.getTotalBits(I,ne);if(se<=P){Y=se;break}if(ne>=b)throw new RangeError("Data too long")}for(const P of[it.Ecc.MEDIUM,it.Ecc.QUARTILE,it.Ecc.HIGH])H&&Y<=it.getNumDataCodewords(ne,P)*8&&(E=P);let ee=[];for(const P of I){f(P.mode.modeBits,4,ee),f(P.numChars,P.mode.numCharCountBits(ne),ee);for(const se of P.getData())ee.push(se)}v(ee.length==Y);const we=it.getNumDataCodewords(ne,E)*8;v(ee.length<=we),f(0,Math.min(4,we-ee.length),ee),f(0,(8-ee.length%8)%8,ee),v(ee.length%8==0);for(let P=236;ee.length<we;P^=253)f(P,8,ee);let le=[];for(;le.length*8<ee.length;)le.push(0);return ee.forEach((P,se)=>le[se>>>3]|=P<<7-(se&7)),new it(ne,E,le,F)}getModule(I,E){return 0<=I&&I<this.size&&0<=E&&E<this.size&&this.modules[E][I]}getModules(){return this.modules}drawFunctionPatterns(){for(let R=0;R<this.size;R++)this.setFunctionModule(6,R,R%2==0),this.setFunctionModule(R,6,R%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const I=this.getAlignmentPatternPositions(),E=I.length;for(let R=0;R<E;R++)for(let b=0;b<E;b++)R==0&&b==0||R==0&&b==E-1||R==E-1&&b==0||this.drawAlignmentPattern(I[R],I[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(I){const E=this.errorCorrectionLevel.formatBits<<3|I;let R=E;for(let F=0;F<10;F++)R=R<<1^(R>>>9)*1335;const b=(E<<10|R)^21522;v(b>>>15==0);for(let F=0;F<=5;F++)this.setFunctionModule(8,F,y(b,F));this.setFunctionModule(8,7,y(b,6)),this.setFunctionModule(8,8,y(b,7)),this.setFunctionModule(7,8,y(b,8));for(let F=9;F<15;F++)this.setFunctionModule(14-F,8,y(b,F));for(let F=0;F<8;F++)this.setFunctionModule(this.size-1-F,8,y(b,F));for(let F=8;F<15;F++)this.setFunctionModule(8,this.size-15+F,y(b,F));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let I=this.version;for(let R=0;R<12;R++)I=I<<1^(I>>>11)*7973;const E=this.version<<12|I;v(E>>>18==0);for(let R=0;R<18;R++){const b=y(E,R),F=this.size-11+R%3,H=Math.floor(R/3);this.setFunctionModule(F,H,b),this.setFunctionModule(H,F,b)}}drawFinderPattern(I,E){for(let R=-4;R<=4;R++)for(let b=-4;b<=4;b++){const F=Math.max(Math.abs(b),Math.abs(R)),H=I+b,ne=E+R;0<=H&&H<this.size&&0<=ne&&ne<this.size&&this.setFunctionModule(H,ne,F!=2&&F!=4)}}drawAlignmentPattern(I,E){for(let R=-2;R<=2;R++)for(let b=-2;b<=2;b++)this.setFunctionModule(I+b,E+R,Math.max(Math.abs(b),Math.abs(R))!=1)}setFunctionModule(I,E,R){this.modules[E][I]=R,this.isFunction[E][I]=!0}addEccAndInterleave(I){const E=this.version,R=this.errorCorrectionLevel;if(I.length!=it.getNumDataCodewords(E,R))throw new RangeError("Invalid argument");const b=it.NUM_ERROR_CORRECTION_BLOCKS[R.ordinal][E],F=it.ECC_CODEWORDS_PER_BLOCK[R.ordinal][E],H=Math.floor(it.getNumRawDataModules(E)/8),ne=b-H%b,Y=Math.floor(H/b);let ee=[];const we=it.reedSolomonComputeDivisor(F);for(let P=0,se=0;P<b;P++){let Se=I.slice(se,se+Y-F+(P<ne?0:1));se+=Se.length;const Ee=it.reedSolomonComputeRemainder(Se,we);P<ne&&Se.push(0),ee.push(Se.concat(Ee))}let le=[];for(let P=0;P<ee[0].length;P++)ee.forEach((se,Se)=>{(P!=Y-F||Se>=ne)&&le.push(se[P])});return v(le.length==H),le}drawCodewords(I){if(I.length!=Math.floor(it.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let E=0;for(let R=this.size-1;R>=1;R-=2){R==6&&(R=5);for(let b=0;b<this.size;b++)for(let F=0;F<2;F++){const H=R-F,Y=(R+1&2)==0?this.size-1-b:b;!this.isFunction[Y][H]&&E<I.length*8&&(this.modules[Y][H]=y(I[E>>>3],7-(E&7)),E++)}}v(E==I.length*8)}applyMask(I){if(I<0||I>7)throw new RangeError("Mask value out of range");for(let E=0;E<this.size;E++)for(let R=0;R<this.size;R++){let b;switch(I){case 0:b=(R+E)%2==0;break;case 1:b=E%2==0;break;case 2:b=R%3==0;break;case 3:b=(R+E)%3==0;break;case 4:b=(Math.floor(R/3)+Math.floor(E/2))%2==0;break;case 5:b=R*E%2+R*E%3==0;break;case 6:b=(R*E%2+R*E%3)%2==0;break;case 7:b=((R+E)%2+R*E%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[E][R]&&b&&(this.modules[E][R]=!this.modules[E][R])}}getPenaltyScore(){let I=0;for(let F=0;F<this.size;F++){let H=!1,ne=0,Y=[0,0,0,0,0,0,0];for(let ee=0;ee<this.size;ee++)this.modules[F][ee]==H?(ne++,ne==5?I+=it.PENALTY_N1:ne>5&&I++):(this.finderPenaltyAddHistory(ne,Y),H||(I+=this.finderPenaltyCountPatterns(Y)*it.PENALTY_N3),H=this.modules[F][ee],ne=1);I+=this.finderPenaltyTerminateAndCount(H,ne,Y)*it.PENALTY_N3}for(let F=0;F<this.size;F++){let H=!1,ne=0,Y=[0,0,0,0,0,0,0];for(let ee=0;ee<this.size;ee++)this.modules[ee][F]==H?(ne++,ne==5?I+=it.PENALTY_N1:ne>5&&I++):(this.finderPenaltyAddHistory(ne,Y),H||(I+=this.finderPenaltyCountPatterns(Y)*it.PENALTY_N3),H=this.modules[ee][F],ne=1);I+=this.finderPenaltyTerminateAndCount(H,ne,Y)*it.PENALTY_N3}for(let F=0;F<this.size-1;F++)for(let H=0;H<this.size-1;H++){const ne=this.modules[F][H];ne==this.modules[F][H+1]&&ne==this.modules[F+1][H]&&ne==this.modules[F+1][H+1]&&(I+=it.PENALTY_N2)}let E=0;for(const F of this.modules)E=F.reduce((H,ne)=>H+(ne?1:0),E);const R=this.size*this.size,b=Math.ceil(Math.abs(E*20-R*10)/R)-1;return v(0<=b&&b<=9),I+=b*it.PENALTY_N4,v(0<=I&&I<=2568888),I}getAlignmentPatternPositions(){if(this.version==1)return[];{const I=Math.floor(this.version/7)+2,E=this.version==32?26:Math.ceil((this.version*4+4)/(I*2-2))*2;let R=[6];for(let b=this.size-7;R.length<I;b-=E)R.splice(1,0,b);return R}}static getNumRawDataModules(I){if(I<it.MIN_VERSION||I>it.MAX_VERSION)throw new RangeError("Version number out of range");let E=(16*I+128)*I+64;if(I>=2){const R=Math.floor(I/7)+2;E-=(25*R-10)*R-55,I>=7&&(E-=36)}return v(208<=E&&E<=29648),E}static getNumDataCodewords(I,E){return Math.floor(it.getNumRawDataModules(I)/8)-it.ECC_CODEWORDS_PER_BLOCK[E.ordinal][I]*it.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][I]}static reedSolomonComputeDivisor(I){if(I<1||I>255)throw new RangeError("Degree out of range");let E=[];for(let b=0;b<I-1;b++)E.push(0);E.push(1);let R=1;for(let b=0;b<I;b++){for(let F=0;F<E.length;F++)E[F]=it.reedSolomonMultiply(E[F],R),F+1<E.length&&(E[F]^=E[F+1]);R=it.reedSolomonMultiply(R,2)}return E}static reedSolomonComputeRemainder(I,E){let R=E.map(b=>0);for(const b of I){const F=b^R.shift();R.push(0),E.forEach((H,ne)=>R[ne]^=it.reedSolomonMultiply(H,F))}return R}static reedSolomonMultiply(I,E){if(I>>>8||E>>>8)throw new RangeError("Byte out of range");let R=0;for(let b=7;b>=0;b--)R=R<<1^(R>>>7)*285,R^=(E>>>b&1)*I;return v(R>>>8==0),R}finderPenaltyCountPatterns(I){const E=I[1];v(E<=this.size*3);const R=E>0&&I[2]==E&&I[3]==E*3&&I[4]==E&&I[5]==E;return(R&&I[0]>=E*4&&I[6]>=E?1:0)+(R&&I[6]>=E*4&&I[0]>=E?1:0)}finderPenaltyTerminateAndCount(I,E,R){return I&&(this.finderPenaltyAddHistory(E,R),E=0),E+=this.size,this.finderPenaltyAddHistory(E,R),this.finderPenaltyCountPatterns(R)}finderPenaltyAddHistory(I,E){E[0]==0&&(I+=this.size),E.pop(),E.unshift(I)}};g.MIN_VERSION=1,g.MAX_VERSION=40,g.PENALTY_N1=3,g.PENALTY_N2=3,g.PENALTY_N3=40,g.PENALTY_N4=10,g.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],g.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],h.QrCode=g;function f(k,I,E){if(I<0||I>31||k>>>I)throw new RangeError("Value out of range");for(let R=I-1;R>=0;R--)E.push(k>>>R&1)}function y(k,I){return(k>>>I&1)!=0}function v(k){if(!k)throw new Error("Assertion error")}const w=class Wt{constructor(I,E,R){if(this.mode=I,this.numChars=E,this.bitData=R,E<0)throw new RangeError("Invalid argument");this.bitData=R.slice()}static makeBytes(I){let E=[];for(const R of I)f(R,8,E);return new Wt(Wt.Mode.BYTE,I.length,E)}static makeNumeric(I){if(!Wt.isNumeric(I))throw new RangeError("String contains non-numeric characters");let E=[];for(let R=0;R<I.length;){const b=Math.min(I.length-R,3);f(parseInt(I.substring(R,R+b),10),b*3+1,E),R+=b}return new Wt(Wt.Mode.NUMERIC,I.length,E)}static makeAlphanumeric(I){if(!Wt.isAlphanumeric(I))throw new RangeError("String contains unencodable characters in alphanumeric mode");let E=[],R;for(R=0;R+2<=I.length;R+=2){let b=Wt.ALPHANUMERIC_CHARSET.indexOf(I.charAt(R))*45;b+=Wt.ALPHANUMERIC_CHARSET.indexOf(I.charAt(R+1)),f(b,11,E)}return R<I.length&&f(Wt.ALPHANUMERIC_CHARSET.indexOf(I.charAt(R)),6,E),new Wt(Wt.Mode.ALPHANUMERIC,I.length,E)}static makeSegments(I){return I==""?[]:Wt.isNumeric(I)?[Wt.makeNumeric(I)]:Wt.isAlphanumeric(I)?[Wt.makeAlphanumeric(I)]:[Wt.makeBytes(Wt.toUtf8ByteArray(I))]}static makeEci(I){let E=[];if(I<0)throw new RangeError("ECI assignment value out of range");if(I<128)f(I,8,E);else if(I<16384)f(2,2,E),f(I,14,E);else if(I<1e6)f(6,3,E),f(I,21,E);else throw new RangeError("ECI assignment value out of range");return new Wt(Wt.Mode.ECI,0,E)}static isNumeric(I){return Wt.NUMERIC_REGEX.test(I)}static isAlphanumeric(I){return Wt.ALPHANUMERIC_REGEX.test(I)}getData(){return this.bitData.slice()}static getTotalBits(I,E){let R=0;for(const b of I){const F=b.mode.numCharCountBits(E);if(b.numChars>=1<<F)return 1/0;R+=4+F+b.bitData.length}return R}static toUtf8ByteArray(I){I=encodeURI(I);let E=[];for(let R=0;R<I.length;R++)I.charAt(R)!="%"?E.push(I.charCodeAt(R)):(E.push(parseInt(I.substring(R+1,R+3),16)),R+=2);return E}};w.NUMERIC_REGEX=/^[0-9]*$/,w.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,w.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let O=w;h.QrSegment=w})(ns||(ns={}));(h=>{(g=>{const f=class{constructor(v,w){this.ordinal=v,this.formatBits=w}};f.LOW=new f(0,1),f.MEDIUM=new f(1,0),f.QUARTILE=new f(2,3),f.HIGH=new f(3,2),g.Ecc=f})(h.QrCode||(h.QrCode={}))})(ns||(ns={}));(h=>{(g=>{const f=class{constructor(v,w){this.modeBits=v,this.numBitsCharCount=w}numCharCountBits(v){return this.numBitsCharCount[Math.floor((v+7)/17)]}};f.NUMERIC=new f(1,[10,12,14]),f.ALPHANUMERIC=new f(2,[9,11,13]),f.BYTE=new f(4,[8,16,16]),f.KANJI=new f(8,[8,10,12]),f.ECI=new f(7,[0,0,0]),g.Mode=f})(h.QrSegment||(h.QrSegment={}))})(ns||(ns={}));var Ms=ns;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Q2={L:Ms.QrCode.Ecc.LOW,M:Ms.QrCode.Ecc.MEDIUM,Q:Ms.QrCode.Ecc.QUARTILE,H:Ms.QrCode.Ecc.HIGH},X0=128,Y0="L",Z0="#FFFFFF",Q0="#000000",K0=!1,q0=1,K2=4,q2=0,J2=.1;function J0(h,g=0){const f=[];return h.forEach(function(y,v){let w=null;y.forEach(function(O,k){if(!O&&w!==null){f.push(`M${w+g} ${v+g}h${k-w}v1H${w+g}z`),w=null;return}if(k===y.length-1){if(!O)return;w===null?f.push(`M${k+g},${v+g} h1v1H${k+g}z`):f.push(`M${w+g},${v+g} h${k+1-w}v1H${w+g}z`);return}O&&w===null&&(w=k)})}),f.join("")}function $0(h,g){return h.slice().map((f,y)=>y<g.y||y>=g.y+g.h?f:f.map((v,w)=>w<g.x||w>=g.x+g.w?v:!1))}function $2(h,g,f,y){if(y==null)return null;const v=h.length+f*2,w=Math.floor(g*J2),O=v/g,k=(y.width||w)*O,I=(y.height||w)*O,E=y.x==null?h.length/2-k/2:y.x*O,R=y.y==null?h.length/2-I/2:y.y*O,b=y.opacity==null?1:y.opacity;let F=null;if(y.excavate){let ne=Math.floor(E),Y=Math.floor(R),ee=Math.ceil(k+E-ne),we=Math.ceil(I+R-Y);F={x:ne,y:Y,w:ee,h:we}}const H=y.crossOrigin;return{x:E,y:R,h:I,w:k,excavation:F,opacity:b,crossOrigin:H}}function eg(h,g){return g!=null?Math.max(Math.floor(g),0):h?K2:q2}function ef({value:h,level:g,minVersion:f,includeMargin:y,marginSize:v,imageSettings:w,size:O,boostLevel:k}){let I=un.useMemo(()=>{const ne=(Array.isArray(h)?h:[h]).reduce((Y,ee)=>(Y.push(...Ms.QrSegment.makeSegments(ee)),Y),[]);return Ms.QrCode.encodeSegments(ne,Q2[g],f,void 0,void 0,k)},[h,g,f,k]);const{cells:E,margin:R,numCells:b,calculatedImageSettings:F}=un.useMemo(()=>{let H=I.getModules();const ne=eg(y,v),Y=H.length+ne*2,ee=$2(H,O,ne,w);return{cells:H,margin:ne,numCells:Y,calculatedImageSettings:ee}},[I,O,w,y,v]);return{qrcode:I,margin:R,cells:E,numCells:b,calculatedImageSettings:F}}var tg=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),ng=un.forwardRef(function(g,f){const y=g,{value:v,size:w=X0,level:O=Y0,bgColor:k=Z0,fgColor:I=Q0,includeMargin:E=K0,minVersion:R=q0,boostLevel:b,marginSize:F,imageSettings:H}=y,Y=Pu(y,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:ee}=Y,we=Pu(Y,["style"]),le=H==null?void 0:H.src,P=un.useRef(null),se=un.useRef(null),Se=un.useCallback($e=>{P.current=$e,typeof f=="function"?f($e):f&&(f.current=$e)},[f]),[Ee,re]=un.useState(!1),{margin:Ce,cells:te,numCells:Ze,calculatedImageSettings:qe}=ef({value:v,level:O,minVersion:R,boostLevel:b,includeMargin:E,marginSize:F,imageSettings:H,size:w});un.useEffect(()=>{if(P.current!=null){const $e=P.current,$=$e.getContext("2d");if(!$)return;let st=te;const Ne=se.current,me=qe!=null&&Ne!==null&&Ne.complete&&Ne.naturalHeight!==0&&Ne.naturalWidth!==0;me&&qe.excavation!=null&&(st=$0(te,qe.excavation));const De=window.devicePixelRatio||1;$e.height=$e.width=w*De;const ye=w/Ze*De;$.scale(ye,ye),$.fillStyle=k,$.fillRect(0,0,Ze,Ze),$.fillStyle=I,tg?$.fill(new Path2D(J0(st,Ce))):te.forEach(function(W,ie){W.forEach(function(ze,Be){ze&&$.fillRect(Be+Ce,ie+Ce,1,1)})}),qe&&($.globalAlpha=qe.opacity),me&&$.drawImage(Ne,qe.x+Ce,qe.y+Ce,qe.w,qe.h)}}),un.useEffect(()=>{re(!1)},[le]);const ve=ku({height:w,width:w},ee);let Xe=null;return le!=null&&(Xe=un.createElement("img",{src:le,key:le,style:{display:"none"},onLoad:()=>{re(!0)},ref:se,crossOrigin:qe==null?void 0:qe.crossOrigin})),un.createElement(un.Fragment,null,un.createElement("canvas",ku({style:ve,height:w,width:w,ref:Se,role:"img"},we)),Xe)});ng.displayName="QRCodeCanvas";var bo=un.forwardRef(function(g,f){const y=g,{value:v,size:w=X0,level:O=Y0,bgColor:k=Z0,fgColor:I=Q0,includeMargin:E=K0,minVersion:R=q0,boostLevel:b,title:F,marginSize:H,imageSettings:ne}=y,Y=Pu(y,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:ee,cells:we,numCells:le,calculatedImageSettings:P}=ef({value:v,level:O,minVersion:R,boostLevel:b,includeMargin:E,marginSize:H,imageSettings:ne,size:w});let se=we,Se=null;ne!=null&&P!=null&&(P.excavation!=null&&(se=$0(we,P.excavation)),Se=un.createElement("image",{href:ne.src,height:P.h,width:P.w,x:P.x+ee,y:P.y+ee,preserveAspectRatio:"none",opacity:P.opacity,crossOrigin:P.crossOrigin}));const Ee=J0(se,ee);return un.createElement("svg",ku({height:w,width:w,viewBox:`0 0 ${le} ${le}`,ref:f,role:"img"},Y),!!F&&un.createElement("title",null,F),un.createElement("path",{fill:k,d:`M0,0 h${le}v${le}H0z`,shapeRendering:"crispEdges"}),un.createElement("path",{fill:I,d:Ee,shapeRendering:"crispEdges"}),Se)});bo.displayName="QRCodeSVG";function tf(h){const g=h.startsWith("/")?h:`/${h}`,f="/q-ryft/",y=window.location.origin,v=f.endsWith("/")?f.slice(0,-1):f;return`${y}${v}${g}`}function rg({qr:h,selectable:g,selected:f,onSelect:y}){const v=tf(`/q/${h.slug}`);return _.jsxs("div",{style:{border:f?"2px solid var(--color-primary)":"1px solid var(--color-border)",borderRadius:"var(--radius)",padding:"1.5rem",display:"flex",flexWrap:"wrap",gap:"1.5rem",backgroundColor:"var(--color-bg)",alignItems:"flex-start",position:"relative",transition:"all 0.2s"},children:[g&&_.jsx("div",{style:{marginRight:"-0.5rem"},children:_.jsx("input",{type:"checkbox",checked:f,onChange:y,style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"var(--color-primary)"}})}),_.jsx("div",{style:{padding:"0.5rem",background:"white",borderRadius:"0.5rem",border:"1px solid var(--color-border)",display:"flex",flexShrink:0},children:_.jsx(bo,{value:v,size:100,level:"M"})}),_.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[_.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem",flexWrap:"wrap",gap:"0.5rem"},children:_.jsxs("div",{children:[_.jsx("h3",{style:{fontWeight:"600",fontSize:"1.1rem",marginBottom:"0.25rem",wordBreak:"break-all"},children:h.name}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",color:"var(--color-secondary)",flexWrap:"wrap"},children:[_.jsxs("span",{style:{fontFamily:"monospace",background:"var(--color-border)",padding:"0.1rem 0.4rem",borderRadius:"0.25rem"},children:["/",h.slug]}),_.jsx("span",{children:""}),_.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[h.isActive?_.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#22c55e"}}):_.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#ef4444"}}),h.isActive?"Active":"Inactive"]})]})]})}),_.jsxs("div",{style:{marginBottom:"1rem",fontSize:"0.9rem"},children:[_.jsx("div",{style:{color:"var(--color-secondary)",marginBottom:"0.25rem"},children:"Destinations to:"}),_.jsxs("a",{href:h.destinationUrl,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"var(--color-accent)",textDecoration:"none",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},children:[_.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis"},children:h.destinationUrl}),_.jsx(Hu,{size:12,style:{flexShrink:0}})]})]}),_.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[_.jsxs(xn,{to:`/qr/${h.id}`,className:"btn btn-outline",style:{fontSize:"0.875rem",padding:"0.4rem 0.8rem",gap:"0.4rem"},children:[_.jsx(v2,{size:14}),"Manage"]}),_.jsxs("button",{className:"btn btn-outline",disabled:!0,style:{fontSize:"0.875rem",padding:"0.4rem 0.8rem",gap:"0.4rem",opacity:.5},children:[_.jsx(Jh,{size:14}),"Stats"]})]})]})]})}const nf="qryft.qr_links.v1";function Ls(){try{const h=localStorage.getItem(nf);return h?JSON.parse(h):[]}catch{return[]}}function Gu(h){localStorage.setItem(nf,JSON.stringify(h))}function ig(){return Ls()}function sg(h){return Ls().find(f=>f.id===h)||null}function og(h){return Ls().find(f=>f.slug===h)||null}function lg(h){const g=new Date().toISOString(),f={id:h.id,slug:h.slug,name:h.name,destinationUrl:h.destinationUrl,isActive:!0,createdAt:g,updatedAt:g},y=Ls();return y.push(f),Gu(y),f}function r0(h,g){const f=Ls(),y=f.findIndex(O=>O.id===h);if(y===-1)return null;const w={...f[y],...g,updatedAt:new Date().toISOString()};return f[y]=w,Gu(f),w}function rf(h){const g=Ls(),f=g.filter(y=>y.id!==h);return f.length===g.length?!1:(Gu(f),!0)}function ag(){const[h,g]=Z.useState([]),[f,y]=Z.useState(!0),[v,w]=Z.useState(!1),[O,k]=Z.useState(new Set);Z.useEffect(()=>{const b=ig();g(b),y(!1)},[]);const I=()=>{w(!v),k(new Set)},E=b=>{const F=new Set(O);F.has(b)?F.delete(b):F.add(b),k(F)},R=()=>{if(!confirm(`Are you sure you want to delete ${O.size} QR codes? This cannot be undone.`))return;let b=h;O.forEach(F=>{rf(F),b=b.filter(H=>H.id!==F)}),g(b),w(!1),k(new Set)};return f?_.jsx("div",{className:"container",style:{padding:"4rem 0",textAlign:"center"},children:"Loading..."}):_.jsxs("div",{className:"container",children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[_.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700"},children:"Dashboard"}),_.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.length>0&&_.jsxs("button",{onClick:I,className:"btn btn-outline",style:{gap:"0.5rem"},children:[v?_.jsx(G2,{size:18}):_.jsx(B2,{size:18}),v?"Cancel":"Select"]}),v&&O.size>0&&_.jsxs("button",{onClick:R,className:"btn",style:{gap:"0.5rem",background:"var(--color-error)",color:"white",borderColor:"var(--color-error)"},children:[_.jsx(V0,{size:18}),"Delete (",O.size,")"]}),!v&&_.jsxs(_.Fragment,{children:[_.jsxs(xn,{to:"/scan",className:"btn btn-outline",style:{gap:"0.5rem"},children:[_.jsx(Xl,{size:18}),"Scan"]}),_.jsxs(xn,{to:"/create",className:"btn btn-primary",style:{gap:"0.5rem"},children:[_.jsx(j0,{size:18}),"New QR"]})]})]})]}),h.length===0?_.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",border:"1px dashed var(--color-border)",borderRadius:"var(--radius)",color:"var(--color-secondary)"},children:[_.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.5rem",color:"var(--color-text)"},children:"No QR codes yet"}),_.jsx("p",{style:{marginBottom:"1.5rem"},children:"Create your first dynamic QR code to get started."}),_.jsx(xn,{to:"/create",className:"btn btn-primary",children:"Create QR"})]}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:h.map(b=>_.jsx(rg,{qr:b,selectable:v,selected:O.has(b.id),onSelect:()=>E(b.id)},b.id))})]})}const Wl="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Ou=6;function ug(){let h="";const g=window.crypto||window.msCrypto;if(!g||!g.getRandomValues){for(let y=0;y<Ou;y++)h+=Wl.charAt(Math.floor(Math.random()*Wl.length));return h}const f=new Uint8Array(Ou);g.getRandomValues(f);for(let y=0;y<Ou;y++)h+=Wl.charAt(f[y]%Wl.length);return h}const cg=(h,g,f="WPA",y=!1)=>{const v=O=>O.replace(/([\\;,":])/g,"\\$1");let w=`WIFI:T:${f};S:${v(h)};`;return f!=="nopass"&&g&&(w+=`P:${v(g)};`),y&&(w+="H:true;"),w+=";",w},fg=(h,g,f,y,v,w,O)=>{let k=`BEGIN:VCARD
VERSION:3.0
`;return k+=`N:${g};${h};;;
`,k+=`FN:${h} ${g}
`,v&&(k+=`ORG:${v}
`),O&&(k+=`TITLE:${O}
`),f&&(k+=`TEL;TYPE=CELL:${f}
`),y&&(k+=`EMAIL:${y}
`),w&&(k+=`URL:${w}
`),k+="END:VCARD",k},dg=(h,g,f)=>{let y=`mailto:${h}`;const v=[];return g&&v.push(`subject=${encodeURIComponent(g)}`),f&&v.push(`body=${encodeURIComponent(f)}`),v.length>0&&(y+=`?${v.join("&")}`),y},hg=(h,g)=>`SMSTO:${h}:${g||""}`,gg=(h,g,f,y,v)=>{const w=k=>k.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";let O=`BEGIN:VEVENT
`;return O+=`SUMMARY:${h}
`,O+=`DTSTART:${w(g)}
`,O+=`DTEND:${w(f)}
`,y&&(O+=`LOCATION:${y}
`),v&&(O+=`DESCRIPTION:${v}
`),O+="END:VEVENT",O},pg=(h,g)=>`geo:${h},${g}`;function xg(){const h=$l(),[g,f]=Z.useState("static"),[y,v]=Z.useState("url"),[w,O]=Z.useState({name:"",destinationUrl:""}),[k,I]=Z.useState(null),[E,R]=Z.useState({}),[b,F]=Z.useState(!1),[H,ne]=Z.useState("svg"),Y=()=>{switch(y){case"url":return E.url||"";case"text":return E.text||"";case"wifi":return cg(E.ssid||"",E.password,E.encryption,E.hidden);case"vcard":return fg(E.firstName||"",E.lastName||"",E.phone,E.email,E.org,E.website,E.title);case"email":return dg(E.to||"",E.subject,E.body);case"sms":return hg(E.phone||"",E.message);case"geo":return pg(E.lat||0,E.lng||0);case"event":return!E.start||!E.end?"":gg(E.title||"",new Date(E.start),new Date(E.end),E.location,E.description);default:return""}},ee=P=>{P.preventDefault(),F(!0);let se=w.destinationUrl.trim();if(!se)return;/^https?:\/\//i.test(se)||(se="https://"+se);const Se=crypto.randomUUID(),Ee=ug(),re=w.name.trim()||se,Ce={id:Se,slug:Ee,name:re,destinationUrl:se};lg(Ce),setTimeout(()=>{I(Ce),F(!1)},500)},we=()=>{const P=document.querySelector("#static-qr-preview svg");if(P)if(H==="svg"){const se=new XMLSerializer().serializeToString(P),Se=new Blob([se],{type:"image/svg+xml"}),Ee=URL.createObjectURL(Se),re=document.createElement("a");re.href=Ee,re.download=`qryft-static-${y}.svg`,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(Ee)}else{const se=document.createElement("canvas"),Se=se.getContext("2d"),Ee=new XMLSerializer().serializeToString(P),re=new Image,Ce=1e3;se.width=Ce,se.height=Ce;const te=new Blob([Ee],{type:"image/svg+xml;charset=utf-8"}),Ze=URL.createObjectURL(te);re.onload=()=>{if(!Se)return;H==="jpeg"&&(Se.fillStyle="#FFFFFF",Se.fillRect(0,0,Ce,Ce)),Se.drawImage(re,0,0,Ce,Ce);const qe=se.toDataURL(`image/${H}`),ve=document.createElement("a");ve.href=qe,ve.download=`qryft-static-${y}.${H}`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(Ze)},re.src=Ze}},le=({type:P,icon:se,label:Se})=>_.jsxs("button",{type:"button",onClick:()=>{v(P),R({})},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",padding:"1rem",borderRadius:"var(--radius)",border:"1px solid var(--color-border)",background:y===P?"var(--color-primary)":"var(--color-bg)",color:y===P?"var(--color-bg)":"var(--color-text)",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},children:[_.jsx(se,{size:24}),_.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:Se})]});return _.jsxs("div",{className:"container",style:{maxWidth:"800px",padding:"2rem 1rem"},children:[_.jsxs("button",{onClick:()=>h(-1),style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-secondary)",marginBottom:"2rem",padding:0,cursor:"pointer"},children:[_.jsx(Wu,{size:18}),"Back"]}),_.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"2rem"},children:"Create New QR"}),_.jsxs("div",{style:{display:"flex",background:"var(--color-bg)",border:"1px solid var(--color-border)",borderRadius:"var(--radius)",padding:"0.25rem",marginBottom:"2rem"},children:[_.jsxs("button",{onClick:()=>{f("dynamic"),I(null)},style:{flex:1,padding:"0.75rem",borderRadius:"calc(var(--radius) - 2px)",border:"none",background:g==="dynamic"?"var(--color-primary)":"transparent",color:g==="dynamic"?"var(--color-bg)":"var(--color-text)",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},children:[_.jsx(W0,{size:18}),"Dynamic QR (Trackable) (Beta)"]}),_.jsxs("button",{onClick:()=>{f("static"),I(null)},style:{flex:1,padding:"0.75rem",borderRadius:"calc(var(--radius) - 2px)",border:"none",background:g==="static"?"var(--color-primary)":"transparent",color:g==="static"?"var(--color-bg)":"var(--color-text)",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},children:[_.jsx(e0,{size:18}),"Static QR (Raw)"]})]}),g==="dynamic"?_.jsx(_.Fragment,{children:k?_.jsxs("div",{style:{textAlign:"center",padding:"3rem 1rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius)",background:"var(--color-bg)"},children:[_.jsx("div",{style:{display:"inline-flex",padding:"1rem",background:"#f0fdf4",borderRadius:"50%",color:"#16a34a",marginBottom:"1.5rem"},children:_.jsx(e2,{size:48})}),_.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem"},children:"QR Code Created Successfully!"}),_.jsx("p",{style:{color:"var(--color-secondary)",marginBottom:"2rem"},children:"Your dynamic link is ready. You can manage it from the dashboard."}),_.jsx("div",{style:{background:"white",padding:"1rem",border:"1px solid var(--color-border)",borderRadius:"0.5rem",display:"inline-block",marginBottom:"2rem"},children:_.jsx(bo,{value:`${window.location.origin}/q-ryft/q/${k.slug}`,size:150,level:"M"})}),_.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[_.jsx(xn,{to:"/dashboard",className:"btn btn-outline",children:"Go to Dashboard"}),_.jsx(xn,{to:`/qr/${k.id}`,className:"btn btn-primary",children:"Manage QR"})]})]}):_.jsxs("form",{onSubmit:ee,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Destination URL"}),_.jsx("input",{type:"url",required:!0,placeholder:"https://example.com",className:"input",value:w.destinationUrl,onChange:P=>O({...w,destinationUrl:P.target.value})}),_.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"var(--color-secondary)"},children:"Redirects via Qryft. Can be changed later."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Name (Optional)"}),_.jsx("input",{type:"text",placeholder:"e.g. Summer Campaign",className:"input",value:w.name,onChange:P=>O({...w,name:P.target.value})})]}),_.jsxs("button",{type:"submit",disabled:b,className:"btn btn-primary",style:{padding:"0.75rem",marginTop:"1rem"},children:[_.jsx(z0,{size:18,style:{marginRight:"0.5rem"}}),b?"Creating...":"Create Dynamic QR"]})]})}):_.jsxs("div",{className:"create-qr-layout",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"type-selector-grid",children:[_.jsx(le,{type:"url",icon:c2,label:"URL"}),_.jsx(le,{type:"text",icon:e0,label:"Text"}),_.jsx(le,{type:"wifi",icon:W2,label:"Wi-Fi"}),_.jsx(le,{type:"vcard",icon:z2,label:"vCard"}),_.jsx(le,{type:"email",icon:g2,label:"Email"}),_.jsx(le,{type:"sms",icon:w2,label:"SMS"}),_.jsx(le,{type:"event",icon:Qh,label:"Event"}),_.jsx(le,{type:"geo",icon:x2,label:"Location"})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[y==="url"&&_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Website URL"}),_.jsx("input",{type:"url",required:!0,className:"input",placeholder:"https://",onChange:P=>R({...E,url:P.target.value})})]}),y==="text"&&_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Plain Text"}),_.jsx("textarea",{className:"input",rows:4,placeholder:"Enter your text here...",onChange:P=>R({...E,text:P.target.value})})]}),y==="wifi"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Network Name (SSID)"}),_.jsx("input",{type:"text",className:"input",onChange:P=>R({...E,ssid:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Password"}),_.jsx("input",{type:"text",className:"input",onChange:P=>R({...E,password:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Encryption"}),_.jsxs("select",{className:"input",onChange:P=>R({...E,encryption:P.target.value}),children:[_.jsx("option",{value:"WPA",children:"WPA/WPA2"}),_.jsx("option",{value:"WEP",children:"WEP"}),_.jsx("option",{value:"nopass",children:"None"})]})]})]}),y==="vcard"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"First Name"}),_.jsx("input",{type:"text",className:"input",onChange:P=>R({...E,firstName:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Last Name"}),_.jsx("input",{type:"text",className:"input",onChange:P=>R({...E,lastName:P.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Phone"}),_.jsx("input",{type:"tel",className:"input",onChange:P=>R({...E,phone:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Email"}),_.jsx("input",{type:"email",className:"input",onChange:P=>R({...E,email:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Organization"}),_.jsx("input",{type:"text",className:"input",onChange:P=>R({...E,org:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Website"}),_.jsx("input",{type:"url",className:"input",onChange:P=>R({...E,website:P.target.value})})]})]}),y==="email"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"To Email"}),_.jsx("input",{type:"email",required:!0,className:"input",placeholder:"someone@example.com",onChange:P=>R({...E,to:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Subject"}),_.jsx("input",{type:"text",className:"input",placeholder:"Inquiry...",onChange:P=>R({...E,subject:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Body"}),_.jsx("textarea",{className:"input",rows:4,placeholder:"Hello...",onChange:P=>R({...E,body:P.target.value})})]})]}),y==="sms"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Phone Number"}),_.jsx("input",{type:"tel",required:!0,className:"input",placeholder:"+1234567890",onChange:P=>R({...E,phone:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Message"}),_.jsx("textarea",{className:"input",rows:4,placeholder:"I'm interested in...",onChange:P=>R({...E,message:P.target.value})})]})]}),y==="event"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Event Title"}),_.jsx("input",{type:"text",required:!0,className:"input",onChange:P=>R({...E,title:P.target.value})})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Start Time"}),_.jsx("input",{type:"datetime-local",className:"input",onChange:P=>R({...E,start:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"End Time"}),_.jsx("input",{type:"datetime-local",className:"input",onChange:P=>R({...E,end:P.target.value})})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Location"}),_.jsx("input",{type:"text",className:"input",placeholder:"123 Main St",onChange:P=>R({...E,location:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Description"}),_.jsx("textarea",{className:"input",rows:3,onChange:P=>R({...E,description:P.target.value})})]})]}),y==="geo"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Latitude"}),_.jsx("input",{type:"number",step:"any",className:"input",placeholder:"37.7749",onChange:P=>R({...E,lat:P.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"label",children:"Longitude"}),_.jsx("input",{type:"number",step:"any",className:"input",placeholder:"-122.4194",onChange:P=>R({...E,lng:P.target.value})})]})]}),_.jsx("p",{style:{fontSize:"0.8rem",color:"var(--color-secondary)",marginTop:"0.5rem"},children:"Tip: You can get these coordinates from Google Maps (right-click a location)."})]})]})]}),_.jsxs("div",{style:{background:"var(--color-bg)",padding:"1.5rem",borderRadius:"1rem",border:"1px solid var(--color-border)",textAlign:"center",position:"sticky",top:"2rem"},children:[_.jsx("h3",{style:{marginBottom:"1rem",fontWeight:"600"},children:"Live Preview"}),_.jsx("div",{id:"static-qr-preview",style:{background:"white",padding:"1rem",borderRadius:"0.5rem",display:"inline-block",marginBottom:"1rem"},children:_.jsx(bo,{value:Y(),size:200,level:"M"})}),_.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--color-secondary)",marginBottom:"1rem",wordBreak:"break-all"},children:[Y().slice(0,50),"..."]}),_.jsx("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"1rem"},children:["svg","png","jpeg"].map(P=>_.jsx("button",{onClick:()=>ne(P),style:{padding:"0.25rem 0.5rem",fontSize:"0.75rem",borderRadius:"0.25rem",border:"1px solid var(--color-border)",background:H===P?"var(--color-text)":"transparent",color:H===P?"var(--color-bg)":"var(--color-text)",textTransform:"uppercase"},children:P},P))}),_.jsxs("button",{onClick:we,className:"btn btn-primary",disabled:!Y(),style:{width:"100%",justifyContent:"center"},children:[_.jsx(U0,{size:18,style:{marginRight:"0.5rem"}})," Download ",H.toUpperCase()]})]})]})]})}var Te;(function(h){h[h.QR_CODE=0]="QR_CODE",h[h.AZTEC=1]="AZTEC",h[h.CODABAR=2]="CODABAR",h[h.CODE_39=3]="CODE_39",h[h.CODE_93=4]="CODE_93",h[h.CODE_128=5]="CODE_128",h[h.DATA_MATRIX=6]="DATA_MATRIX",h[h.MAXICODE=7]="MAXICODE",h[h.ITF=8]="ITF",h[h.EAN_13=9]="EAN_13",h[h.EAN_8=10]="EAN_8",h[h.PDF_417=11]="PDF_417",h[h.RSS_14=12]="RSS_14",h[h.RSS_EXPANDED=13]="RSS_EXPANDED",h[h.UPC_A=14]="UPC_A",h[h.UPC_E=15]="UPC_E",h[h.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var i0=new Map([[Te.QR_CODE,"QR_CODE"],[Te.AZTEC,"AZTEC"],[Te.CODABAR,"CODABAR"],[Te.CODE_39,"CODE_39"],[Te.CODE_93,"CODE_93"],[Te.CODE_128,"CODE_128"],[Te.DATA_MATRIX,"DATA_MATRIX"],[Te.MAXICODE,"MAXICODE"],[Te.ITF,"ITF"],[Te.EAN_13,"EAN_13"],[Te.EAN_8,"EAN_8"],[Te.PDF_417,"PDF_417"],[Te.RSS_14,"RSS_14"],[Te.RSS_EXPANDED,"RSS_EXPANDED"],[Te.UPC_A,"UPC_A"],[Te.UPC_E,"UPC_E"],[Te.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),s0;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.URL=1]="URL"})(s0||(s0={}));function mg(h){return Object.values(Te).includes(h)}var Ql;(function(h){h[h.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",h[h.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ql||(Ql={}));var wg=(function(){function h(){}return h.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",h.SCAN_DEFAULT_FPS=2,h.DEFAULT_DISABLE_FLIP=!1,h.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,h.DEFAULT_SUPPORTED_SCAN_TYPE=[Ql.SCAN_TYPE_CAMERA,Ql.SCAN_TYPE_FILE],h})(),sf=(function(){function h(g,f){this.format=g,this.formatName=f}return h.prototype.toString=function(){return this.formatName},h.create=function(g){if(!i0.has(g))throw"".concat(g," not in html5QrcodeSupportedFormatsTextMap");return new h(g,i0.get(g))},h})(),o0=(function(){function h(){}return h.createFromText=function(g){var f={text:g};return{decodedText:g,result:f}},h.createFromQrcodeResult=function(g){return{decodedText:g.text,result:g}},h})(),Bu;(function(h){h[h.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",h[h.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",h[h.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Bu||(Bu={}));var yg=(function(){function h(){}return h.createFrom=function(g){return{errorMessage:g,type:Bu.UNKWOWN_ERROR}},h})(),Eg=(function(){function h(g){this.verbose=g}return h.prototype.log=function(g){this.verbose&&console.log(g)},h.prototype.warn=function(g){this.verbose&&console.warn(g)},h.prototype.logError=function(g,f){(this.verbose||f===!0)&&console.error(g)},h.prototype.logErrors=function(g){if(g.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(g)},h})();function $r(h){return typeof h>"u"||h===null}var ks=(function(){function h(){}return h.codeParseError=function(g){return"QR code parse error, error = ".concat(g)},h.errorGettingUserMedia=function(g){return"Error getting userMedia, error = ".concat(g)},h.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},h.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},h.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},h.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},h.scannerPaused=function(){return"Scanner paused"},h})(),of=(function(){function h(){}return h.isMediaStreamConstraintsValid=function(g,f){if(typeof g!="object"){var y=typeof g;return f.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(y,"."),!0),!1}for(var v=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(v),O=Object.keys(g),k=0,I=O;k<I.length;k++){var E=I[k];if(w.has(E))return f.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},h})(),To={exports:{}},Cg=To.exports,l0;function vg(){return l0||(l0=1,(function(h,g){(function(f,y){y(g)})(Cg,(function(f){function y(A){return A==null}var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,e){A.__proto__=e}||function(A,e){for(var n in e)e.hasOwnProperty(n)&&(A[n]=e[n])};function w(A,e){v(A,e);function n(){this.constructor=A}A.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function O(A,e){var n=Object.setPrototypeOf;n?n(A,e):A.__proto__=e}function k(A,e){e===void 0&&(e=A.constructor);var n=Error.captureStackTrace;n&&n(A,e)}var I=(function(A){w(e,A);function e(n){var r=this.constructor,s=A.call(this,n)||this;return Object.defineProperty(s,"name",{value:r.name,enumerable:!1}),O(s,r.prototype),k(s),s}return e})(Error);class E extends I{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class R extends E{}R.kind="ArgumentException";class b extends E{}b.kind="IllegalArgumentException";class F{constructor(e){if(this.binarizer=e,e===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,r,s){const o=this.binarizer.getLuminanceSource().crop(e,n,r,s);return new F(this.binarizer.createBinarizer(o))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new F(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new F(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class H extends E{static getChecksumInstance(){return new H}}H.kind="ChecksumException";class ne{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Y{static arraycopy(e,n,r,s,o){for(;o--;)r[s++]=e[n++]}static currentTimeMillis(){return Date.now()}}class ee extends E{}ee.kind="IndexOutOfBoundsException";class we extends ee{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}we.kind="ArrayIndexOutOfBoundsException";class le{static fill(e,n){for(let r=0,s=e.length;r<s;r++)e[r]=n}static fillWithin(e,n,r,s){le.rangeCheck(e.length,n,r);for(let o=n;o<r;o++)e[o]=s}static rangeCheck(e,n,r){if(n>r)throw new b("fromIndex("+n+") > toIndex("+r+")");if(n<0)throw new we(n);if(r>e)throw new we(r)}static asList(...e){return e}static create(e,n,r){return Array.from({length:e}).map(o=>Array.from({length:n}).fill(r))}static createInt32Array(e,n,r){return Array.from({length:e}).map(o=>Int32Array.from({length:n}).fill(r))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let r=0,s=e.length;r<s;r++)if(e[r]!==n[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const r of e)n=31*n+r;return n}static fillUint8Array(e,n){for(let r=0;r!==e.length;r++)e[r]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const r=new Uint8Array(n);return r.set(e),r}return e.slice(0,n)}static copyOfRange(e,n,r){const s=r-n,o=new Int32Array(s);return Y.arraycopy(e,n,o,0,s),o}static binarySearch(e,n,r){r===void 0&&(r=le.numberComparator);let s=0,o=e.length-1;for(;s<=o;){const l=o+s>>1,u=r(n,e[l]);if(u>0)s=l+1;else if(u<0)o=l-1;else return l}return-s-1}static numberComparator(e,n){return e-n}}class P{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let r=31;return n=e<<16,n!==0&&(r-=16,e=n),n=e<<8,n!==0&&(r-=8,e=n),n=e<<4,n!==0&&(r-=4,e=n),n=e<<2,n!==0&&(r-=2,e=n),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=se.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=se.makeArray(e);Y.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return n;o=r[s]}const u=s*32+P.numberOfTrailingZeros(o);return u>n?n:u}getNextUnset(e){const n=this.size;if(e>=n)return n;const r=this.bits;let s=Math.floor(e/32),o=~r[s];o&=~((1<<(e&31))-1);const l=r.length;for(;o===0;){if(++s===l)return n;o=~r[s]}const u=s*32+P.numberOfTrailingZeros(o);return u>n?n:u}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new b;if(n===e)return;n--;const r=Math.floor(e/32),s=Math.floor(n/32),o=this.bits;for(let l=r;l<=s;l++){const u=l>r?0:e&31,p=(2<<(l<s?31:n&31))-(1<<u);o[l]|=p}}clear(){const e=this.bits.length,n=this.bits;for(let r=0;r<e;r++)n[r]=0}isRange(e,n,r){if(n<e||e<0||n>this.size)throw new b;if(n===e)return!0;n--;const s=Math.floor(e/32),o=Math.floor(n/32),l=this.bits;for(let u=s;u<=o;u++){const d=u>s?0:e&31,C=(2<<(u<o?31:n&31))-(1<<d)&4294967295;if((l[u]&C)!==(r?C:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let r=n;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let r=0;r<n;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new b("Sizes don't match");const n=this.bits;for(let r=0,s=n.length;r<s;r++)n[r]^=e.bits[r]}toBytes(e,n,r,s){for(let o=0;o<s;o++){let l=0;for(let u=0;u<8;u++)this.get(e)&&(l|=1<<7-u),e++;n[r+o]=l}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),r=n+1,s=this.bits;for(let o=0;o<r;o++){let l=s[o];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[n-o]=l}if(this.size!==r*32){const o=r*32-this.size;let l=e[0]>>>o;for(let u=1;u<r;u++){const d=e[u];l|=d<<32-o,e[u-1]=l,l=d>>>o}e[r-1]=l}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof se))return!1;const n=e;return this.size===n.size&&le.equals(this.bits,n.bits)}hashCode(){return 31*this.size+le.hashCode(this.bits)}toString(){let e="";for(let n=0,r=this.size;n<r;n++)(n&7)===0&&(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new se(this.size,this.bits.slice())}}var Se;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Se||(Se={}));var Ee=Se;class re extends E{static getFormatInstance(){return new re}}re.kind="FormatException";var Ce;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(Ce||(Ce={}));class te{constructor(e,n,r,...s){this.valueIdentifier=e,this.name=r,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=s,te.VALUE_IDENTIFIER_TO_ECI.set(e,this),te.NAME_TO_ECI.set(r,this);const o=this.values;for(let l=0,u=o.length;l!==u;l++){const d=o[l];te.VALUES_TO_ECI.set(d,this)}for(const l of s)te.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new re("incorect value");const n=te.VALUES_TO_ECI.get(e);if(n===void 0)throw new re("incorect value");return n}static getCharacterSetECIByName(e){const n=te.NAME_TO_ECI.get(e);if(n===void 0)throw new re("incorect value");return n}equals(e){if(!(e instanceof te))return!1;const n=e;return this.getName()===n.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(Ce.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(Ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(Ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(Ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(Ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(Ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(Ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(Ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(Ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(Ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(Ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(Ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(Ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(Ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(Ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(Ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(Ce.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(Ce.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(Ce.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(Ce.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(Ce.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(Ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(Ce.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(Ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(Ce.Big5,28,"Big5"),te.GB18030=new te(Ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(Ce.EUC_KR,30,"EUC_KR","EUC-KR");class Ze extends E{}Ze.kind="UnsupportedOperationException";class qe{static decode(e,n){const r=this.encodingName(n);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!qe.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const r=this.encodingName(n);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof te?e:te.getCharacterSetECIByName(e)}static decodeFallback(e,n){const r=this.encodingCharacterSet(n);if(qe.isDecodeFallbackSupported(r)){let s="";for(let o=0,l=e.length;o<l;o++){let u=e[o].toString(16);u.length<2&&(u="0"+u),s+="%"+u}return decodeURIComponent(s)}if(r.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Ze(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(te.UTF8)||e.equals(te.ISO8859_1)||e.equals(te.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),s=[];for(let o=0;o<r.length;o++)s.push(r[o].charCodeAt(0));return new Uint8Array(s)}}class ve{static castAsNonUtf8Char(e,n=null){const r=n?n.getName():this.ISO88591;return qe.decode(new Uint8Array([e]),r)}static guessEncoding(e,n){if(n!=null&&n.get(Ee.CHARACTER_SET)!==void 0)return n.get(Ee.CHARACTER_SET).toString();const r=e.length;let s=!0,o=!0,l=!0,u=0,d=0,p=0,C=0,S=0,T=0,M=0,L=0,j=0,V=0,K=0;const de=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let he=0;he<r&&(s||o||l);he++){const ue=e[he]&255;l&&(u>0?(ue&128)===0?l=!1:u--:(ue&128)!==0&&((ue&64)===0?l=!1:(u++,(ue&32)===0?d++:(u++,(ue&16)===0?p++:(u++,(ue&8)===0?C++:l=!1))))),s&&(ue>127&&ue<160?s=!1:ue>159&&(ue<192||ue===215||ue===247)&&K++),o&&(S>0?ue<64||ue===127||ue>252?o=!1:S--:ue===128||ue===160||ue>239?o=!1:ue>160&&ue<224?(T++,L=0,M++,M>j&&(j=M)):ue>127?(S++,M=0,L++,L>V&&(V=L)):(M=0,L=0))}return l&&u>0&&(l=!1),o&&S>0&&(o=!1),l&&(de||d+p+C>0)?ve.UTF8:o&&(ve.ASSUME_SHIFT_JIS||j>=3||V>=3)?ve.SHIFT_JIS:s&&o?j===2&&T===2||K*10>=r?ve.SHIFT_JIS:ve.ISO88591:s?ve.ISO88591:o?ve.SHIFT_JIS:l?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let r=-1;function s(l,u,d,p,C,S){if(l==="%%")return"%";if(n[++r]===void 0)return;l=p?parseInt(p.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,M;switch(S){case"s":M=n[r];break;case"c":M=n[r][0];break;case"f":M=parseFloat(n[r]).toFixed(l);break;case"p":M=parseFloat(n[r]).toPrecision(l);break;case"e":M=parseFloat(n[r]).toExponential(l);break;case"x":M=parseInt(n[r]).toString(T||16);break;case"d":M=parseFloat(parseInt(n[r],T||10).toPrecision(l)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(T);let L=parseInt(d),j=d&&d[0]+""=="0"?"0":" ";for(;M.length<L;)M=u!==void 0?M+j:j+M;return M}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}static getBytes(e,n){return qe.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}ve.SHIFT_JIS=te.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=te.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=te.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class Xe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,r){for(let s=n;n<n+r;s++)this.append(e[s]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class $e{constructor(e,n,r,s){if(this.width=e,this.height=n,this.rowSize=r,this.bits=s,n==null&&(n=e),this.height=n,e<1||n<1)throw new b("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,r=e[0].length,s=new $e(r,n);for(let o=0;o<n;o++){const l=e[o];for(let u=0;u<r;u++)l[u]&&s.set(u,o)}return s}static parseFromString(e,n,r){if(e===null)throw new b("stringRepresentation cannot be null");const s=new Array(e.length);let o=0,l=0,u=-1,d=0,p=0;for(;p<e.length;)if(e.charAt(p)===`
`||e.charAt(p)==="\r"){if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new b("row lengths do not match");l=o,d++}p++}else if(e.substring(p,p+n.length)===n)p+=n.length,s[o]=!0,o++;else if(e.substring(p,p+r.length)===r)p+=r.length,s[o]=!1,o++;else throw new b("illegal character encountered: "+e.substring(p));if(o>l){if(u===-1)u=o-l;else if(o-l!==u)throw new b("row lengths do not match");d++}const C=new $e(u,d);for(let S=0;S<o;S++)s[S]&&C.set(Math.floor(S%u),Math.floor(S/u));return C}get(e,n){const r=n*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,n){const r=n*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new b("input matrix dimensions do not match");const n=new se(Math.floor(this.width/32)+1),r=this.rowSize,s=this.bits;for(let o=0,l=this.height;o<l;o++){const u=o*r,d=e.getRow(o,n).getBitArray();for(let p=0;p<r;p++)s[u+p]^=d[p]}}clear(){const e=this.bits,n=e.length;for(let r=0;r<n;r++)e[r]=0}setRegion(e,n,r,s){if(n<0||e<0)throw new b("Left and top must be nonnegative");if(s<1||r<1)throw new b("Height and width must be at least 1");const o=e+r,l=n+s;if(l>this.height||o>this.width)throw new b("The region must fit inside the matrix");const u=this.rowSize,d=this.bits;for(let p=n;p<l;p++){const C=p*u;for(let S=e;S<o;S++)d[C+Math.floor(S/32)]|=1<<(S&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new se(this.width):n.clear();const r=this.rowSize,s=this.bits,o=e*r;for(let l=0;l<r;l++)n.setBulk(l*32,s[o+l]);return n}setRow(e,n){Y.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let r=new se(e),s=new se(e);for(let o=0,l=Math.floor((n+1)/2);o<l;o++)r=this.getRow(o,r),s=this.getRow(n-1-o,s),r.reverse(),s.reverse(),this.setRow(o,s),this.setRow(n-1-o,r)}getEnclosingRectangle(){const e=this.width,n=this.height,r=this.rowSize,s=this.bits;let o=e,l=n,u=-1,d=-1;for(let p=0;p<n;p++)for(let C=0;C<r;C++){const S=s[p*r+C];if(S!==0){if(p<l&&(l=p),p>d&&(d=p),C*32<o){let T=0;for(;(S<<31-T&4294967295)===0;)T++;C*32+T<o&&(o=C*32+T)}if(C*32+31>u){let T=31;for(;!(S>>>T);)T--;C*32+T>u&&(u=C*32+T)}}}return u<o||d<l?null:Int32Array.from([o,l,u-o+1,d-l+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let r=0;for(;r<n.length&&n[r]===0;)r++;if(r===n.length)return null;const s=r/e;let o=r%e*32;const l=n[r];let u=0;for(;(l<<31-u&4294967295)===0;)u++;return o+=u,Int32Array.from([o,s])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let r=n.length-1;for(;r>=0&&n[r]===0;)r--;if(r<0)return null;const s=Math.floor(r/e);let o=Math.floor(r%e)*32;const l=n[r];let u=31;for(;!(l>>>u);)u--;return o+=u,Int32Array.from([o,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof $e))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&le.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+le.hashCode(this.bits),e}toString(e="X ",n="  ",r=`
`){return this.buildToString(e,n,r)}buildToString(e,n,r){let s=new Xe;for(let o=0,l=this.height;o<l;o++){for(let u=0,d=this.width;u<d;u++)s.append(this.get(u,o)?e:n);s.append(r)}return s.toString()}clone(){return new $e(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends E{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class st extends ne{constructor(e){super(e),this.luminances=st.EMPTY,this.buckets=new Int32Array(st.LUMINANCE_BUCKETS)}getBlackRow(e,n){const r=this.getLuminanceSource(),s=r.getWidth();n==null||n.getSize()<s?n=new se(s):n.clear(),this.initArrays(s);const o=r.getRow(e,this.luminances),l=this.buckets;for(let d=0;d<s;d++)l[(o[d]&255)>>st.LUMINANCE_SHIFT]++;const u=st.estimateBlackPoint(l);if(s<3)for(let d=0;d<s;d++)(o[d]&255)<u&&n.set(d);else{let d=o[0]&255,p=o[1]&255;for(let C=1;C<s-1;C++){const S=o[C+1]&255;(p*4-d-S)/2<u&&n.set(C),d=p,p=S}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight(),s=new $e(n,r);this.initArrays(n);const o=this.buckets;for(let d=1;d<5;d++){const p=Math.floor(r*d/5),C=e.getRow(p,this.luminances),S=Math.floor(n*4/5);for(let T=Math.floor(n/5);T<S;T++){const M=C[T]&255;o[M>>st.LUMINANCE_SHIFT]++}}const l=st.estimateBlackPoint(o),u=e.getMatrix();for(let d=0;d<r;d++){const p=d*n;for(let C=0;C<n;C++)(u[p+C]&255)<l&&s.set(C,d)}return s}createBinarizer(e){return new st(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let r=0;r<st.LUMINANCE_BUCKETS;r++)n[r]=0}static estimateBlackPoint(e){const n=e.length;let r=0,s=0,o=0;for(let C=0;C<n;C++)e[C]>o&&(s=C,o=e[C]),e[C]>r&&(r=e[C]);let l=0,u=0;for(let C=0;C<n;C++){const S=C-s,T=e[C]*S*S;T>u&&(l=C,u=T)}if(s>l){const C=s;s=l,l=C}if(l-s<=n/16)throw new $;let d=l-1,p=-1;for(let C=l-1;C>s;C--){const S=C-s,T=S*S*(l-C)*(r-e[C]);T>p&&(d=C,p=T)}return d<<st.LUMINANCE_SHIFT}}st.LUMINANCE_BITS=5,st.LUMINANCE_SHIFT=8-st.LUMINANCE_BITS,st.LUMINANCE_BUCKETS=1<<st.LUMINANCE_BITS,st.EMPTY=Uint8ClampedArray.from([0]);class Ne extends st{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),r=e.getHeight();if(n>=Ne.MINIMUM_DIMENSION&&r>=Ne.MINIMUM_DIMENSION){const s=e.getMatrix();let o=n>>Ne.BLOCK_SIZE_POWER;(n&Ne.BLOCK_SIZE_MASK)!==0&&o++;let l=r>>Ne.BLOCK_SIZE_POWER;(r&Ne.BLOCK_SIZE_MASK)!==0&&l++;const u=Ne.calculateBlackPoints(s,o,l,n,r),d=new $e(n,r);Ne.calculateThresholdForBlock(s,o,l,n,r,u,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Ne(e)}static calculateThresholdForBlock(e,n,r,s,o,l,u){const d=o-Ne.BLOCK_SIZE,p=s-Ne.BLOCK_SIZE;for(let C=0;C<r;C++){let S=C<<Ne.BLOCK_SIZE_POWER;S>d&&(S=d);const T=Ne.cap(C,2,r-3);for(let M=0;M<n;M++){let L=M<<Ne.BLOCK_SIZE_POWER;L>p&&(L=p);const j=Ne.cap(M,2,n-3);let V=0;for(let de=-2;de<=2;de++){const he=l[T+de];V+=he[j-2]+he[j-1]+he[j]+he[j+1]+he[j+2]}const K=V/25;Ne.thresholdBlock(e,L,S,K,s,u)}}}static cap(e,n,r){return e<n?n:e>r?r:e}static thresholdBlock(e,n,r,s,o,l){for(let u=0,d=r*o+n;u<Ne.BLOCK_SIZE;u++,d+=o)for(let p=0;p<Ne.BLOCK_SIZE;p++)(e[d+p]&255)<=s&&l.set(n+p,r+u)}static calculateBlackPoints(e,n,r,s,o){const l=o-Ne.BLOCK_SIZE,u=s-Ne.BLOCK_SIZE,d=new Array(r);for(let p=0;p<r;p++){d[p]=new Int32Array(n);let C=p<<Ne.BLOCK_SIZE_POWER;C>l&&(C=l);for(let S=0;S<n;S++){let T=S<<Ne.BLOCK_SIZE_POWER;T>u&&(T=u);let M=0,L=255,j=0;for(let K=0,de=C*s+T;K<Ne.BLOCK_SIZE;K++,de+=s){for(let he=0;he<Ne.BLOCK_SIZE;he++){const ue=e[de+he]&255;M+=ue,ue<L&&(L=ue),ue>j&&(j=ue)}if(j-L>Ne.MIN_DYNAMIC_RANGE)for(K++,de+=s;K<Ne.BLOCK_SIZE;K++,de+=s)for(let he=0;he<Ne.BLOCK_SIZE;he++)M+=e[de+he]&255}let V=M>>Ne.BLOCK_SIZE_POWER*2;if(j-L<=Ne.MIN_DYNAMIC_RANGE&&(V=L/2,p>0&&S>0)){const K=(d[p-1][S]+2*d[p][S-1]+d[p-1][S-1])/4;L<K&&(V=K)}d[p][S]=V}}return d}}Ne.BLOCK_SIZE_POWER=3,Ne.BLOCK_SIZE=1<<Ne.BLOCK_SIZE_POWER,Ne.BLOCK_SIZE_MASK=Ne.BLOCK_SIZE-1,Ne.MINIMUM_DIMENSION=Ne.BLOCK_SIZE*5,Ne.MIN_DYNAMIC_RANGE=24;class me{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,r,s){throw new Ze("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ze("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ze("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Xe;for(let r=0;r<this.height;r++){const s=this.getRow(r,e);for(let o=0;o<this.width;o++){const l=s[o]&255;let u;l<64?u="#":l<128?u="+":l<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()}}class De extends me{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const r=this.delegate.getRow(e,n),s=this.getWidth();for(let o=0;o<s;o++)r[o]=255-(r[o]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(n);for(let s=0;s<n;s++)r[s]=255-(e[s]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,r,s){return new De(this.delegate.crop(e,n,r,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new De(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new De(this.delegate.rotateCounterClockwise45())}}class ye extends me{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=ye.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return ye.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,r){const s=new Uint8ClampedArray(n*r);for(let o=0,l=0,u=e.length;o<u;o+=4,l++){let d;if(e[o+3]===0)d=255;else{const C=e[o],S=e[o+1],T=e[o+2];d=306*C+601*S+117*T+512>>10}s[l]=d}return s}getRow(e,n){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth(),s=e*r;return n===null?n=this.buffer.slice(s,s+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(s,s+r))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,r,s){return super.crop(e,n,r,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),r=n.getContext("2d"),s=e*ye.DEGREE_TO_RADIANS,o=this.canvas.width,l=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*l),d=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*l);return n.width=u,n.height=d,r.translate(u/2,d/2),r.rotate(s),r.drawImage(this.canvas,o/-2,l/-2),this.buffer=ye.makeBufferFromCanvasImageData(n),this}invert(){return new De(this)}}ye.DEGREE_TO_RADIANS=Math.PI/180;class W{constructor(e,n,r){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ie=(globalThis||jl||self||window||void 0)&&(globalThis||jl||self||window||void 0).__awaiter||function(A,e,n,r){function s(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(C){try{p(r.next(C))}catch(S){l(S)}}function d(C){try{p(r.throw(C))}catch(S){l(S)}}function p(C){C.done?o(C.value):s(C.value).then(u,d)}p((r=r.apply(A,e||[])).next())})};class ze{constructor(e,n=500,r){this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const r of e){const s=r.kind==="video"?"videoinput":r.kind;if(s!=="videoinput")continue;const o=r.deviceId||r.id,l=r.label||`Video device ${n.length+1}`,u=r.groupId,d={deviceId:o,label:l,kind:s,groupId:u};n.push(d)}return n})}getVideoInputDevices(){return ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new W(n.deviceId,n.label))})}findDeviceById(e){return ie(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return ie(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const s={video:r};return yield this.decodeOnceFromConstraints(s,n)})}decodeOnceFromConstraints(e,n){return ie(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,n)})}decodeOnceFromStream(e,n){return ie(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,n,r){return ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,r)})}decodeFromVideoDevice(e,n,r){return ie(this,void 0,void 0,function*(){let s;e?s={deviceId:{exact:e}}:s={facingMode:"environment"};const o={video:s};return yield this.decodeFromConstraints(o,n,r)})}decodeFromConstraints(e,n,r){return ie(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(s,n,r)})}decodeFromStream(e,n,r){return ie(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(s,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return ie(this,void 0,void 0,function*(){const r=this.prepareVideoElement(n);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((n,r)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const r=document.getElementById(e);if(!r)throw new R(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==n.toLowerCase())throw new R(`element with id '${e}' must be an ${n} element`);return r}decodeFromImage(e,n){if(!e&&!n)throw new R("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new R("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,r){if(e===void 0&&n===void 0)throw new R("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new R("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let r;return this.isImageLoaded(n)?r=this.decodeOnce(n,!1,!0):r=this._decodeOnLoadImage(n),r}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,n)}_decodeFromVideoElementSetup(e){if(!e)throw new R("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new R("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const r=this._decodeOnLoadImage(n);return n.src=e,r}decodeFromVideoUrl(e){if(!e)throw new R("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElement(n);return n.src=e,r}decodeFromVideoUrlContinuously(e,n){if(!e)throw new R("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(r,n);return r.src=e,s}_decodeOnLoadImage(e){return new Promise((n,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,r=!0){this._stopAsyncDecode=!1;const s=(o,l)=>{if(this._stopAsyncDecode){l(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(e);o(u)}catch(u){const d=n&&u instanceof $,C=(u instanceof H||u instanceof re)&&r;if(d||C)return setTimeout(s,this._timeBetweenDecodingAttempts,o,l);l(u)}};return new Promise((o,l)=>s(o,l))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(e);n(s,null),setTimeout(r,this.timeBetweenScansMillis)}catch(s){n(null,s);const o=s instanceof H||s instanceof re,l=s instanceof $;(o||l)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,r){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,r=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),r=new ye(n),s=new Ne(r);return new F(s)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let r,s;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,s=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,s=e.naturalHeight||e.height)),n.style.width=r+"px",n.style.height=s+"px",n.width=r,n.height=s,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(e,n,r=n==null?0:8*n.length,s,o,l=Y.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=s,this.format=o,this.timestamp=l,this.text=e,this.rawBytes=n,r==null?this.numBits=n==null?0:8*n.length:this.numBits=r,this.resultPoints=s,this.format=o,this.resultMetadata=null,l==null?this.timestamp=Y.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(n.length+e.length);Y.arraycopy(n,0,r,0,n.length),Y.arraycopy(e,0,r,n.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ot;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ot||(ot={}));var pe=ot,xt;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(xt||(xt={}));var Ve=xt;class mt{constructor(e,n,r,s,o=-1,l=-1){this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=s,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $t{exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class en{constructor(e,n){if(n.length===0)throw new b;this.field=e;const r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-s),Y.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let r;if(e===1){r=0;for(let l=0,u=n.length;l!==u;l++){const d=n[l];r=$t.addOrSubtract(r,d)}return r}r=n[0];const s=n.length,o=this.field;for(let l=1;l<s;l++)r=$t.addOrSubtract(o.multiply(e,r),n[l]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){const l=n;n=r,r=l}let s=new Int32Array(r.length);const o=r.length-n.length;Y.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=$t.addOrSubtract(n[l-o],r[l]);return new en(this.field,s)}multiply(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1),u=this.field;for(let d=0;d<r;d++){const p=n[d];for(let C=0;C<o;C++)l[d+C]=$t.addOrSubtract(l[d+C],u.multiply(p,s[C]))}return new en(u,l)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,r=this.field,s=new Int32Array(n),o=this.coefficients;for(let l=0;l<n;l++)s[l]=r.multiply(o[l],e);return new en(r,s)}multiplyByMonomial(e,n){if(e<0)throw new b;if(n===0)return this.field.getZero();const r=this.coefficients,s=r.length,o=new Int32Array(s+e),l=this.field;for(let u=0;u<s;u++)o[u]=l.multiply(r[u],n);return new en(l,o)}divide(e){if(!this.field.equals(e.field))throw new b("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new b("Divide by 0");const n=this.field;let r=n.getZero(),s=this;const o=e.getCoefficient(e.getDegree()),l=n.inverse(o);for(;s.getDegree()>=e.getDegree()&&!s.isZero();){const u=s.getDegree()-e.getDegree(),d=n.multiply(s.getCoefficient(s.getDegree()),l),p=e.multiplyByMonomial(u,d),C=n.buildMonomial(u,d);r=r.addOrSubtract(C),s=s.addOrSubtract(p)}return[r,s]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),n===0||r!==1){const s=this.field.log(r);s===0?e+="1":s===1?e+="a":(e+="a^",e+=s)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class bi extends E{}bi.kind="ArithmeticException";class lt extends $t{constructor(e,n,r){super(),this.primitive=e,this.size=n,this.generatorBase=r;const s=new Int32Array(n);let o=1;for(let u=0;u<n;u++)s[u]=o,o*=2,o>=n&&(o^=e,o&=n-1);this.expTable=s;const l=new Int32Array(n);for(let u=0;u<n-1;u++)l[s[u]]=u;this.logTable=l,this.zero=new en(this,Int32Array.from([0])),this.one=new en(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new b;if(n===0)return this.zero;const r=new Int32Array(e+1);return r[0]=n,new en(this,r)}inverse(e){if(e===0)throw new bi;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class Rr extends E{}Rr.kind="ReedSolomonException";class Hn extends E{}Hn.kind="IllegalStateException";class ni{constructor(e){this.field=e}decode(e,n){const r=this.field,s=new en(r,e),o=new Int32Array(n);let l=!0;for(let M=0;M<n;M++){const L=s.evaluateAt(r.exp(M+r.getGeneratorBase()));o[o.length-1-M]=L,L!==0&&(l=!1)}if(l)return;const u=new en(r,o),d=this.runEuclideanAlgorithm(r.buildMonomial(n,1),u,n),p=d[0],C=d[1],S=this.findErrorLocations(p),T=this.findErrorMagnitudes(C,S);for(let M=0;M<S.length;M++){const L=e.length-1-r.log(S[M]);if(L<0)throw new Rr("Bad error location");e[L]=lt.addOrSubtract(e[L],T[M])}}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){const M=e;e=n,n=M}const s=this.field;let o=e,l=n,u=s.getZero(),d=s.getOne();for(;l.getDegree()>=(r/2|0);){let M=o,L=u;if(o=l,u=d,o.isZero())throw new Rr("r_{i-1} was zero");l=M;let j=s.getZero();const V=o.getCoefficient(o.getDegree()),K=s.inverse(V);for(;l.getDegree()>=o.getDegree()&&!l.isZero();){const de=l.getDegree()-o.getDegree(),he=s.multiply(l.getCoefficient(l.getDegree()),K);j=j.addOrSubtract(s.buildMonomial(de,he)),l=l.addOrSubtract(o.multiplyByMonomial(de,he))}if(d=j.multiply(u).addOrSubtract(L),l.getDegree()>=o.getDegree())throw new Hn("Division algorithm failed to reduce polynomial?")}const p=d.getCoefficient(0);if(p===0)throw new Rr("sigmaTilde(0) was zero");const C=s.inverse(p),S=d.multiplyScalar(C),T=l.multiplyScalar(C);return[S,T]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(n);let s=0;const o=this.field;for(let l=1;l<o.getSize()&&s<n;l++)e.evaluateAt(l)===0&&(r[s]=o.inverse(l),s++);if(s!==n)throw new Rr("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,n){const r=n.length,s=new Int32Array(r),o=this.field;for(let l=0;l<r;l++){const u=o.inverse(n[l]);let d=1;for(let p=0;p<r;p++)if(l!==p){const C=o.multiply(n[p],u),S=(C&1)===0?C|1:C&-2;d=o.multiply(d,S)}s[l]=o.multiply(e.evaluateAt(u),o.inverse(d)),o.getGeneratorBase()!==0&&(s[l]=o.multiply(s[l],u))}return s}}var Gt;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(Gt||(Gt={}));class Et{decode(e){this.ddata=e;let n=e.getBits(),r=this.extractBits(n),s=this.correctBits(r),o=Et.convertBoolArrayToByteArray(s),l=Et.getEncodedData(s),u=new mt(o,l,null,null);return u.setNumBits(s.length),u}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,r=Gt.UPPER,s=Gt.UPPER,o="",l=0;for(;l<n;)if(s===Gt.BINARY){if(n-l<5)break;let u=Et.readCode(e,l,5);if(l+=5,u===0){if(n-l<11)break;u=Et.readCode(e,l,11)+31,l+=11}for(let d=0;d<u;d++){if(n-l<8){l=n;break}const p=Et.readCode(e,l,8);o+=ve.castAsNonUtf8Char(p),l+=8}s=r}else{let u=s===Gt.DIGIT?4:5;if(n-l<u)break;let d=Et.readCode(e,l,u);l+=u;let p=Et.getCharacter(s,d);p.startsWith("CTRL_")?(r=s,s=Et.getTable(p.charAt(5)),p.charAt(6)==="L"&&(r=s)):(o+=p,s=r)}return o}static getTable(e){switch(e){case"L":return Gt.LOWER;case"P":return Gt.PUNCT;case"M":return Gt.MIXED;case"D":return Gt.DIGIT;case"B":return Gt.BINARY;case"U":default:return Gt.UPPER}}static getCharacter(e,n){switch(e){case Gt.UPPER:return Et.UPPER_TABLE[n];case Gt.LOWER:return Et.LOWER_TABLE[n];case Gt.MIXED:return Et.MIXED_TABLE[n];case Gt.PUNCT:return Et.PUNCT_TABLE[n];case Gt.DIGIT:return Et.DIGIT_TABLE[n];default:throw new Hn("Bad table")}}correctBits(e){let n,r;this.ddata.getNbLayers()<=2?(r=6,n=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=lt.AZTEC_DATA_10):(r=12,n=lt.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),o=e.length/r;if(o<s)throw new re;let l=e.length%r,u=new Int32Array(o);for(let T=0;T<o;T++,l+=r)u[T]=Et.readCode(e,l,r);try{new ni(n).decode(u,o-s)}catch(T){throw new re(T)}let d=(1<<r)-1,p=0;for(let T=0;T<s;T++){let M=u[T];if(M===0||M===d)throw new re;(M===1||M===d-1)&&p++}let C=new Array(s*r-p),S=0;for(let T=0;T<s;T++){let M=u[T];if(M===1||M===d-1)C.fill(M>1,S,S+r-1),S+=r-1;else for(let L=r-1;L>=0;--L)C[S++]=(M&1<<L)!==0}return C}extractBits(e){let n=this.ddata.isCompact(),r=this.ddata.getNbLayers(),s=(n?11:14)+r*4,o=new Int32Array(s),l=new Array(this.totalBitsInLayer(r,n));if(n)for(let u=0;u<o.length;u++)o[u]=u;else{let u=s+1+2*P.truncDivision(P.truncDivision(s,2)-1,15),d=s/2,p=P.truncDivision(u,2);for(let C=0;C<d;C++){let S=C+P.truncDivision(C,15);o[d-C-1]=p-S-1,o[d+C]=p+S+1}}for(let u=0,d=0;u<r;u++){let p=(r-u)*4+(n?9:12),C=u*2,S=s-1-C;for(let T=0;T<p;T++){let M=T*2;for(let L=0;L<2;L++)l[d+M+L]=e.get(o[C+L],o[C+T]),l[d+2*p+M+L]=e.get(o[C+T],o[S-L]),l[d+4*p+M+L]=e.get(o[S-L],o[S-T]),l[d+6*p+M+L]=e.get(o[S-T],o[C+L])}d+=p*8}return l}static readCode(e,n,r){let s=0;for(let o=n;o<n+r;o++)s<<=1,e[o]&&(s|=1);return s}static readByte(e,n){let r=e.length-n;return r>=8?Et.readCode(e,n,8):Et.readCode(e,n,r)<<8-r}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let r=0;r<n.length;r++)n[r]=Et.readByte(e,8*r);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class nt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,r,s){const o=e-r,l=n-s;return Math.sqrt(o*o+l*l)}static sum(e){let n=0;for(let r=0,s=e.length;r!==s;r++){const o=e[r];n+=o}return n}}class Tr{static floatToIntBits(e){return e}}Tr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Re{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Re){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Tr.floatToIntBits(this.x)+Tr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),s=this.distance(e[0],e[2]);let o,l,u;if(r>=n&&r>=s?(l=e[0],o=e[1],u=e[2]):s>=r&&s>=n?(l=e[1],o=e[0],u=e[2]):(l=e[2],o=e[0],u=e[1]),this.crossProductZ(o,l,u)<0){const d=o;o=u,u=d}e[0]=o,e[1]=l,e[2]=u}static distance(e,n){return nt.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,r){const s=n.x,o=n.y;return(r.x-s)*(e.y-o)-(r.y-o)*(e.x-s)}}class ri{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Fs extends ri{constructor(e,n,r,s,o){super(e,n),this.compact=r,this.nbDatablocks=s,this.nbLayers=o}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class rr{constructor(e,n,r,s){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=rr.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),s==null&&(s=e.getHeight()/2|0);const o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=s-o,this.downInit=s+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let e=this.leftInit,n=this.rightInit,r=this.upInit,s=this.downInit,o=!1,l=!0,u=!1,d=!1,p=!1,C=!1,S=!1;const T=this.width,M=this.height;for(;l;){l=!1;let L=!0;for(;(L||!d)&&n<T;)L=this.containsBlackPoint(r,s,n,!1),L?(n++,l=!0,d=!0):d||n++;if(n>=T){o=!0;break}let j=!0;for(;(j||!p)&&s<M;)j=this.containsBlackPoint(e,n,s,!0),j?(s++,l=!0,p=!0):p||s++;if(s>=M){o=!0;break}let V=!0;for(;(V||!C)&&e>=0;)V=this.containsBlackPoint(r,s,e,!1),V?(e--,l=!0,C=!0):C||e--;if(e<0){o=!0;break}let K=!0;for(;(K||!S)&&r>=0;)K=this.containsBlackPoint(e,n,r,!0),K?(r--,l=!0,S=!0):S||r--;if(r<0){o=!0;break}l&&(u=!0)}if(!o&&u){const L=n-e;let j=null;for(let he=1;j===null&&he<L;he++)j=this.getBlackPointOnSegment(e,s-he,e+he,s);if(j==null)throw new $;let V=null;for(let he=1;V===null&&he<L;he++)V=this.getBlackPointOnSegment(e,r+he,e+he,r);if(V==null)throw new $;let K=null;for(let he=1;K===null&&he<L;he++)K=this.getBlackPointOnSegment(n,r+he,n-he,r);if(K==null)throw new $;let de=null;for(let he=1;de===null&&he<L;he++)de=this.getBlackPointOnSegment(n,s-he,n-he,s);if(de==null)throw new $;return this.centerEdges(de,j,K,V)}else throw new $}getBlackPointOnSegment(e,n,r,s){const o=nt.round(nt.distance(e,n,r,s)),l=(r-e)/o,u=(s-n)/o,d=this.image;for(let p=0;p<o;p++){const C=nt.round(e+p*l),S=nt.round(n+p*u);if(d.get(C,S))return new Re(C,S)}return null}centerEdges(e,n,r,s){const o=e.getX(),l=e.getY(),u=n.getX(),d=n.getY(),p=r.getX(),C=r.getY(),S=s.getX(),T=s.getY(),M=rr.CORR;return o<this.width/2?[new Re(S-M,T+M),new Re(u+M,d+M),new Re(p-M,C-M),new Re(o+M,l-M)]:[new Re(S+M,T+M),new Re(u+M,d-M),new Re(p-M,C+M),new Re(o-M,l-M)]}containsBlackPoint(e,n,r,s){const o=this.image;if(s){for(let l=e;l<=n;l++)if(o.get(l,r))return!0}else for(let l=e;l<=n;l++)if(o.get(r,l))return!0;return!1}}rr.INIT_SIZE=10,rr.CORR=1;class is{static checkAndNudgePoints(e,n){const r=e.getWidth(),s=e.getHeight();let o=!0;for(let l=0;l<n.length&&o;l+=2){const u=Math.floor(n[l]),d=Math.floor(n[l+1]);if(u<-1||u>r||d<-1||d>s)throw new $;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),d===-1?(n[l+1]=0,o=!0):d===s&&(n[l+1]=s-1,o=!0)}o=!0;for(let l=n.length-2;l>=0&&o;l-=2){const u=Math.floor(n[l]),d=Math.floor(n[l+1]);if(u<-1||u>r||d<-1||d>s)throw new $;o=!1,u===-1?(n[l]=0,o=!0):u===r&&(n[l]=r-1,o=!0),d===-1?(n[l+1]=0,o=!0):d===s&&(n[l+1]=s-1,o=!0)}}}class kn{constructor(e,n,r,s,o,l,u,d,p){this.a11=e,this.a21=n,this.a31=r,this.a12=s,this.a22=o,this.a32=l,this.a13=u,this.a23=d,this.a33=p}static quadrilateralToQuadrilateral(e,n,r,s,o,l,u,d,p,C,S,T,M,L,j,V){const K=kn.quadrilateralToSquare(e,n,r,s,o,l,u,d);return kn.squareToQuadrilateral(p,C,S,T,M,L,j,V).times(K)}transformPoints(e){const n=e.length,r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,d=this.a23,p=this.a31,C=this.a32,S=this.a33;for(let T=0;T<n;T+=2){const M=e[T],L=e[T+1],j=o*M+d*L+S;e[T]=(r*M+l*L+p)/j,e[T+1]=(s*M+u*L+C)/j}}transformPointsWithValues(e,n){const r=this.a11,s=this.a12,o=this.a13,l=this.a21,u=this.a22,d=this.a23,p=this.a31,C=this.a32,S=this.a33,T=e.length;for(let M=0;M<T;M++){const L=e[M],j=n[M],V=o*L+d*j+S;e[M]=(r*L+l*j+p)/V,n[M]=(s*L+u*j+C)/V}}static squareToQuadrilateral(e,n,r,s,o,l,u,d){const p=e-r+o-u,C=n-s+l-d;if(p===0&&C===0)return new kn(r-e,o-r,e,s-n,l-s,n,0,0,1);{const S=r-o,T=u-o,M=s-l,L=d-l,j=S*L-T*M,V=(p*L-T*C)/j,K=(S*C-p*M)/j;return new kn(r-e+V*r,u-e+K*u,e,s-n+V*s,d-n+K*d,n,V,K,1)}}static quadrilateralToSquare(e,n,r,s,o,l,u,d){return kn.squareToQuadrilateral(e,n,r,s,o,l,u,d).buildAdjoint()}buildAdjoint(){return new kn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new kn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class ss extends is{sampleGrid(e,n,r,s,o,l,u,d,p,C,S,T,M,L,j,V,K,de,he){const ue=kn.quadrilateralToQuadrilateral(s,o,l,u,d,p,C,S,T,M,L,j,V,K,de,he);return this.sampleGridWithTransform(e,n,r,ue)}sampleGridWithTransform(e,n,r,s){if(n<=0||r<=0)throw new $;const o=new $e(n,r),l=new Float32Array(2*n);for(let u=0;u<r;u++){const d=l.length,p=u+.5;for(let C=0;C<d;C+=2)l[C]=C/2+.5,l[C+1]=p;s.transformPoints(l),is.checkAndNudgePoints(e,l);try{for(let C=0;C<d;C+=2)e.get(Math.floor(l[C]),Math.floor(l[C+1]))&&o.set(C/2,u)}catch{throw new $}}return o}}class Gn{static setGridSampler(e){Gn.gridSampler=e}static getInstance(){return Gn.gridSampler}}Gn.gridSampler=new ss;class cn{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Re(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ii{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),r=this.getBullsEyeCorners(n);if(e){let l=r[0];r[0]=r[2],r[2]=l}this.extractParameters(r);let s=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),o=this.getMatrixCornerPoints(r);return new Fs(s,o,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new $;let n=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(r,n);let s=0;for(let l=0;l<4;l++){let u=r[(this.shift+l)%4];this.compact?(s<<=7,s+=u>>1&127):(s<<=10,s+=(u>>2&992)+(u>>1&31))}let o=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(o>>6)+1,this.nbDataBlocks=(o&63)+1):(this.nbLayers=(o>>11)+1,this.nbDataBlocks=(o&2047)+1)}getRotation(e,n){let r=0;e.forEach((s,o,l)=>{let u=(s>>n-2<<1)+(s&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let s=0;s<4;s++)if(P.bitCount(r^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new $}getCorrectedParameterData(e,n){let r,s;n?(r=7,s=2):(r=10,s=4);let o=r-s,l=new Int32Array(r);for(let d=r-1;d>=0;--d)l[d]=e&15,e>>=4;try{new ni(lt.AZTEC_PARAM).decode(l,o)}catch{throw new $}let u=0;for(let d=0;d<s;d++)u=(u<<4)+l[d];return u}getBullsEyeCorners(e){let n=e,r=e,s=e,o=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let S=this.getFirstDifferent(n,l,1,-1),T=this.getFirstDifferent(r,l,1,1),M=this.getFirstDifferent(s,l,-1,1),L=this.getFirstDifferent(o,l,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(L,S)*this.nbCenterLayers/(this.distancePoint(o,n)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(S,T,M,L))break}n=S,r=T,s=M,o=L,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let u=new Re(n.getX()+.5,n.getY()-.5),d=new Re(r.getX()+.5,r.getY()+.5),p=new Re(s.getX()-.5,s.getY()+.5),C=new Re(o.getX()-.5,o.getY()-.5);return this.expandSquare([u,d,p,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,r,s;try{let u=new rr(this.image).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{let d=this.image.getWidth()/2,p=this.image.getHeight()/2;e=this.getFirstDifferent(new cn(d+7,p-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new cn(d+7,p+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new cn(d-7,p+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new cn(d-7,p-7),!1,-1,-1).toResultPoint()}let o=nt.round((e.getX()+s.getX()+n.getX()+r.getX())/4),l=nt.round((e.getY()+s.getY()+n.getY()+r.getY())/4);try{let u=new rr(this.image,15,o,l).detect();e=u[0],n=u[1],r=u[2],s=u[3]}catch{e=this.getFirstDifferent(new cn(o+7,l-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new cn(o+7,l+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new cn(o-7,l+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new cn(o-7,l-7),!1,-1,-1).toResultPoint()}return o=nt.round((e.getX()+s.getX()+n.getX()+r.getX())/4),l=nt.round((e.getY()+s.getY()+n.getY()+r.getY())/4),new cn(o,l)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,r,s,o){let l=Gn.getInstance(),u=this.getDimension(),d=u/2-this.nbCenterLayers,p=u/2+this.nbCenterLayers;return l.sampleGrid(e,u,u,d,d,p,d,p,p,d,p,n.getX(),n.getY(),r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY())}sampleLine(e,n,r){let s=0,o=this.distanceResultPoint(e,n),l=o/r,u=e.getX(),d=e.getY(),p=l*(n.getX()-e.getX())/o,C=l*(n.getY()-e.getY())/o;for(let S=0;S<r;S++)this.image.get(nt.round(u+S*p),nt.round(d+S*C))&&(s|=1<<r-S-1);return s}isWhiteOrBlackRectangle(e,n,r,s){let o=3;e=new cn(e.getX()-o,e.getY()+o),n=new cn(n.getX()-o,n.getY()-o),r=new cn(r.getX()+o,r.getY()-o),s=new cn(s.getX()+o,s.getY()+o);let l=this.getColor(s,e);if(l===0)return!1;let u=this.getColor(e,n);return u!==l||(u=this.getColor(n,r),u!==l)?!1:(u=this.getColor(r,s),u===l)}getColor(e,n){let r=this.distancePoint(e,n),s=(n.getX()-e.getX())/r,o=(n.getY()-e.getY())/r,l=0,u=e.getX(),d=e.getY(),p=this.image.get(e.getX(),e.getY()),C=Math.ceil(r);for(let T=0;T<C;T++)u+=s,d+=o,this.image.get(nt.round(u),nt.round(d))!==p&&l++;let S=l/r;return S>.1&&S<.9?0:S<=.1===p?1:-1}getFirstDifferent(e,n,r,s){let o=e.getX()+r,l=e.getY()+s;for(;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r,l+=s;for(o-=r,l-=s;this.isValid(o,l)&&this.image.get(o,l)===n;)o+=r;for(o-=r;this.isValid(o,l)&&this.image.get(o,l)===n;)l+=s;return l-=s,new cn(o,l)}expandSquare(e,n,r){let s=r/(2*n),o=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),u=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,p=new Re(u+s*o,d+s*l),C=new Re(u-s*o,d-s*l);o=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),u=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let S=new Re(u+s*o,d+s*l),T=new Re(u-s*o,d-s*l);return[p,S,C,T]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=nt.round(e.getX()),r=nt.round(e.getY());return this.isValid(n,r)}distancePoint(e,n){return nt.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return nt.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class _r{decode(e,n=null){let r=null,s=new ii(e.getBlackMatrix()),o=null,l=null;try{let C=s.detectMirror(!1);o=C.getPoints(),this.reportFoundResultPoints(n,o),l=new Et().decode(C)}catch(C){r=C}if(l==null)try{let C=s.detectMirror(!0);o=C.getPoints(),this.reportFoundResultPoints(n,o),l=new Et().decode(C)}catch(C){throw r??C}let u=new Be(l.getText(),l.getRawBytes(),l.getNumBits(),o,pe.AZTEC,Y.currentTimeMillis()),d=l.getByteSegments();d!=null&&u.putMetadata(Ve.BYTE_SEGMENTS,d);let p=l.getECLevel();return p!=null&&u.putMetadata(Ve.ERROR_CORRECTION_LEVEL,p),u}reportFoundResultPoints(e,n){if(e!=null){let r=e.get(Ee.NEED_RESULT_POINT_CALLBACK);r!=null&&n.forEach((s,o,l)=>{r.foundPossibleResultPoint(s)})}}reset(){}}class ta extends ze{constructor(e=500){super(new _r,e)}}class Pt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(Ee.TRY_HARDER)===!0&&e.isRotateSupported()){const o=e.rotateCounterClockwise(),l=this.doDecode(o,n),u=l.getResultMetadata();let d=270;u!==null&&u.get(Ve.ORIENTATION)===!0&&(d=d+u.get(Ve.ORIENTATION)%360),l.putMetadata(Ve.ORIENTATION,d);const p=l.getResultPoints();if(p!==null){const C=o.getHeight();for(let S=0;S<p.length;S++)p[S]=new Re(C-p[S].getY()-1,p[S].getX())}return l}else throw new $}}reset(){}doDecode(e,n){const r=e.getWidth(),s=e.getHeight();let o=new se(r);const l=n&&n.get(Ee.TRY_HARDER)===!0,u=Math.max(1,s>>(l?8:5));let d;l?d=s:d=15;const p=Math.trunc(s/2);for(let C=0;C<d;C++){const S=Math.trunc((C+1)/2),T=(C&1)===0,M=p+u*(T?S:-S);if(M<0||M>=s)break;try{o=e.getBlackRow(M,o)}catch{continue}for(let L=0;L<2;L++){if(L===1&&(o.reverse(),n&&n.get(Ee.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;n.forEach((V,K)=>j.set(K,V)),j.delete(Ee.NEED_RESULT_POINT_CALLBACK),n=j}try{const j=this.decodeRow(M,o,n);if(L===1){j.putMetadata(Ve.ORIENTATION,180);const V=j.getResultPoints();V!==null&&(V[0]=new Re(r-V[0].getX()-1,V[0].getY()),V[1]=new Re(r-V[1].getX()-1,V[1].getY()))}return j}catch{}}}throw new $}static recordPattern(e,n,r){const s=r.length;for(let p=0;p<s;p++)r[p]=0;const o=e.getSize();if(n>=o)throw new $;let l=!e.get(n),u=0,d=n;for(;d<o;){if(e.get(d)!==l)r[u]++;else{if(++u===s)break;r[u]=1,l=!l}d++}if(!(u===s||u===s-1&&d===o))throw new $}static recordPatternInReverse(e,n,r){let s=r.length,o=e.get(n);for(;n>0&&s>=0;)e.get(--n)!==o&&(s--,o=!o);if(s>=0)throw new $;Pt.recordPattern(e,n+1,r)}static patternMatchVariance(e,n,r){const s=e.length;let o=0,l=0;for(let p=0;p<s;p++)o+=e[p],l+=n[p];if(o<l)return Number.POSITIVE_INFINITY;const u=o/l;r*=u;let d=0;for(let p=0;p<s;p++){const C=e[p],S=n[p]*u,T=C>S?C-S:S-C;if(T>r)return Number.POSITIVE_INFINITY;d+=T}return d/o}}class xe extends Pt{static findStartPattern(e){const n=e.getSize(),r=e.getNextSet(0);let s=0,o=Int32Array.from([0,0,0,0,0,0]),l=r,u=!1;const d=6;for(let p=r;p<n;p++)if(e.get(p)!==u)o[s]++;else{if(s===d-1){let C=xe.MAX_AVG_VARIANCE,S=-1;for(let T=xe.CODE_START_A;T<=xe.CODE_START_C;T++){const M=Pt.patternMatchVariance(o,xe.CODE_PATTERNS[T],xe.MAX_INDIVIDUAL_VARIANCE);M<C&&(C=M,S=T)}if(S>=0&&e.isRange(Math.max(0,l-(p-l)/2),l,!1))return Int32Array.from([l,p,S]);l+=o[0]+o[1],o=o.slice(2,o.length-1),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,u=!u}throw new $}static decodeCode(e,n,r){Pt.recordPattern(e,r,n);let s=xe.MAX_AVG_VARIANCE,o=-1;for(let l=0;l<xe.CODE_PATTERNS.length;l++){const u=xe.CODE_PATTERNS[l],d=this.patternMatchVariance(n,u,xe.MAX_INDIVIDUAL_VARIANCE);d<s&&(s=d,o=l)}if(o>=0)return o;throw new $}decodeRow(e,n,r){const s=r&&r.get(Ee.ASSUME_GS1)===!0,o=xe.findStartPattern(n),l=o[2];let u=0;const d=new Uint8Array(20);d[u++]=l;let p;switch(l){case xe.CODE_START_A:p=xe.CODE_CODE_A;break;case xe.CODE_START_B:p=xe.CODE_CODE_B;break;case xe.CODE_START_C:p=xe.CODE_CODE_C;break;default:throw new re}let C=!1,S=!1,T="",M=o[0],L=o[1];const j=Int32Array.from([0,0,0,0,0,0]);let V=0,K=0,de=l,he=0,ue=!0,Je=!1,Ge=!1;for(;!C;){const yr=S;switch(S=!1,V=K,K=xe.decodeCode(n,j,L),d[u++]=K,K!==xe.CODE_STOP&&(ue=!0),K!==xe.CODE_STOP&&(he++,de+=he*K),M=L,L+=j.reduce((pi,so)=>pi+so,0),K){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new re}switch(p){case xe.CODE_CODE_A:if(K<64)Ge===Je?T+=String.fromCharCode(32+K):T+=String.fromCharCode(32+K+128),Ge=!1;else if(K<96)Ge===Je?T+=String.fromCharCode(K-64):T+=String.fromCharCode(K+64),Ge=!1;else switch(K!==xe.CODE_STOP&&(ue=!1),K){case xe.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!Je&&Ge?(Je=!0,Ge=!1):Je&&Ge?(Je=!1,Ge=!1):Ge=!0;break;case xe.CODE_SHIFT:S=!0,p=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:p=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:p=xe.CODE_CODE_C;break;case xe.CODE_STOP:C=!0;break}break;case xe.CODE_CODE_B:if(K<96)Ge===Je?T+=String.fromCharCode(32+K):T+=String.fromCharCode(32+K+128),Ge=!1;else switch(K!==xe.CODE_STOP&&(ue=!1),K){case xe.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!Je&&Ge?(Je=!0,Ge=!1):Je&&Ge?(Je=!1,Ge=!1):Ge=!0;break;case xe.CODE_SHIFT:S=!0,p=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:p=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:p=xe.CODE_CODE_C;break;case xe.CODE_STOP:C=!0;break}break;case xe.CODE_CODE_C:if(K<100)K<10&&(T+="0"),T+=K;else switch(K!==xe.CODE_STOP&&(ue=!1),K){case xe.CODE_FNC_1:s&&(T.length===0?T+="]C1":T+="");break;case xe.CODE_CODE_A:p=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:p=xe.CODE_CODE_B;break;case xe.CODE_STOP:C=!0;break}break}yr&&(p=p===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const Nn=L-M;if(L=n.getNextUnset(L),!n.isRange(L,Math.min(n.getSize(),L+(L-M)/2),!1))throw new $;if(de-=he*V,de%103!==V)throw new H;const Jn=T.length;if(Jn===0)throw new $;Jn>0&&ue&&(p===xe.CODE_CODE_C?T=T.substring(0,Jn-2):T=T.substring(0,Jn-1));const Qt=(o[1]+o[0])/2,pt=M+Nn/2,Bt=d.length,En=new Uint8Array(Bt);for(let yr=0;yr<Bt;yr++)En[yr]=d[yr];const Wr=[new Re(Qt,e),new Re(pt,e)];return new Be(T,En,0,Wr,pe.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class Xt extends Pt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,r){let s=this.counters;s.fill(0),this.decodeRowResult="";let o=Xt.findAsteriskPattern(n,s),l=n.getNextSet(o[1]),u=n.getSize(),d,p;do{Xt.recordPattern(n,l,s);let j=Xt.toNarrowWidePattern(s);if(j<0)throw new $;d=Xt.patternToChar(j),this.decodeRowResult+=d,p=l;for(let V of s)l+=V;l=n.getNextSet(l)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let j of s)C+=j;let S=l-p-C;if(l!==u&&S*2<C)throw new $;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,V=0;for(let K=0;K<j;K++)V+=Xt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(j)!==Xt.ALPHABET_STRING.charAt(V%43))throw new H;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new $;let T;this.extendedMode?T=Xt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let M=(o[1]+o[0])/2,L=p+C/2;return new Be(T,null,0,[new Re(M,e),new Re(L,e)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let r=e.getSize(),s=e.getNextSet(0),o=0,l=s,u=!1,d=n.length;for(let p=s;p<r;p++)if(e.get(p)!==u)n[o]++;else{if(o===d-1){if(this.toNarrowWidePattern(n)===Xt.ASTERISK_ENCODING&&e.isRange(Math.max(0,l-Math.floor((p-l)/2)),l,!1))return[l,p];l+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new $}static toNarrowWidePattern(e){let n=e.length,r=0,s;do{let o=2147483647;for(let d of e)d<o&&d>r&&(o=d);r=o,s=0;let l=0,u=0;for(let d=0;d<n;d++){let p=e[d];p>r&&(u|=1<<n-1-d,s++,l+=p)}if(s===3){for(let d=0;d<n&&s>0;d++){let p=e[d];if(p>r&&(s--,p*2>=l))return-1}return u}}while(s>3);return-1}static patternToChar(e){for(let n=0;n<Xt.CHARACTER_ENCODINGS.length;n++)if(Xt.CHARACTER_ENCODINGS[n]===e)return Xt.ALPHABET_STRING.charAt(n);if(e===Xt.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(e){let n=e.length,r="";for(let s=0;s<n;s++){let o=e.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){let l=e.charAt(s+1),u="\0";switch(o){case"+":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)+32);else throw new re;break;case"$":if(l>="A"&&l<="Z")u=String.fromCharCode(l.charCodeAt(0)-64);else throw new re;break;case"%":if(l>="A"&&l<="E")u=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")u=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")u=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")u="\0";else if(l==="V")u="@";else if(l==="W")u="`";else if(l==="X"||l==="Y"||l==="Z")u="";else throw new re;break;case"/":if(l>="A"&&l<="O")u=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")u=":";else throw new re;break}r+=u,s++}else r+=o}return r}}Xt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Xt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Xt.ASTERISK_ENCODING=148;class gt extends Pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,r){let s=this.decodeStart(n),o=this.decodeEnd(n),l=new Xe;gt.decodeMiddle(n,s[1],o[0],l);let u=l.toString(),d=null;r!=null&&(d=r.get(Ee.ALLOWED_LENGTHS)),d==null&&(d=gt.DEFAULT_ALLOWED_LENGTHS);let p=u.length,C=!1,S=0;for(let L of d){if(p===L){C=!0;break}L>S&&(S=L)}if(!C&&p>S&&(C=!0),!C)throw new re;const T=[new Re(s[1],e),new Re(o[0],e)];return new Be(u,null,0,T,pe.ITF,new Date().getTime())}static decodeMiddle(e,n,r,s){let o=new Int32Array(10),l=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),l.fill(0),u.fill(0);n<r;){Pt.recordPattern(e,n,o);for(let p=0;p<5;p++){let C=2*p;l[p]=o[C],u[p]=o[C+1]}let d=gt.decodeDigit(l);s.append(d.toString()),d=this.decodeDigit(u),s.append(d.toString()),o.forEach(function(p){n+=p})}}decodeStart(e){let n=gt.skipWhiteSpace(e),r=gt.findGuardPattern(e,n,gt.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,n){let r=this.narrowLineWidth*10;r=r<n?r:n;for(let s=n-1;r>0&&s>=0&&!e.get(s);s--)r--;if(r!==0)throw new $}static skipWhiteSpace(e){const n=e.getSize(),r=e.getNextSet(0);if(r===n)throw new $;return r}decodeEnd(e){e.reverse();try{let n=gt.skipWhiteSpace(e),r;try{r=gt.findGuardPattern(e,n,gt.END_PATTERN_REVERSED[0])}catch(o){o instanceof $&&(r=gt.findGuardPattern(e,n,gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let s=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-s,r}finally{e.reverse()}}static findGuardPattern(e,n,r){let s=r.length,o=new Int32Array(s),l=e.getSize(),u=!1,d=0,p=n;o.fill(0);for(let C=n;C<l;C++)if(e.get(C)!==u)o[d]++;else{if(d===s-1){if(Pt.patternMatchVariance(o,r,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return[p,C];p+=o[0]+o[1],Y.arraycopy(o,2,o,0,d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,u=!u}throw new $}static decodeDigit(e){let n=gt.MAX_AVG_VARIANCE,r=-1,s=gt.PATTERNS.length;for(let o=0;o<s;o++){let l=gt.PATTERNS[o],u=Pt.patternMatchVariance(e,l,gt.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,r=o):u===n&&(r=-1)}if(r>=0)return r%10;throw new $}}gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gt.MAX_AVG_VARIANCE=.38,gt.MAX_INDIVIDUAL_VARIANCE=.5,gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gt.START_PATTERN=Int32Array.from([1,1,1,1]),gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class It extends Pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,r,s=0,o=Int32Array.from([0,0,0]);for(;!n;){o=Int32Array.from([0,0,0]),r=It.findGuardPattern(e,s,!1,this.START_END_PATTERN,o);let l=r[0];s=r[1];let u=l-(s-l);u>=0&&(n=e.isRange(u,l,!1))}return r}static checkChecksum(e){return It.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return It.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new re;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new re;r+=o}return(1e3-r)%10}static decodeEnd(e,n){return It.findGuardPattern(e,n,!1,It.START_END_PATTERN,new Int32Array(It.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,r,s){return this.findGuardPattern(e,n,r,s,new Int32Array(s.length))}static findGuardPattern(e,n,r,s,o){let l=e.getSize();n=r?e.getNextUnset(n):e.getNextSet(n);let u=0,d=n,p=s.length,C=r;for(let S=n;S<l;S++)if(e.get(S)!==C)o[u]++;else{if(u===p-1){if(Pt.patternMatchVariance(o,s,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return Int32Array.from([d,S]);d+=o[0]+o[1];let T=o.slice(2,o.length-1);for(let M=0;M<u-1;M++)o[M]=T[M];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,C=!C}throw new $}static decodeDigit(e,n,r,s){this.recordPattern(e,r,n);let o=this.MAX_AVG_VARIANCE,l=-1,u=s.length;for(let d=0;d<u;d++){let p=s[d],C=Pt.patternMatchVariance(n,p,It.MAX_INDIVIDUAL_VARIANCE);C<o&&(o=C,l=d)}if(l>=0)return l;throw new $}}It.MAX_AVG_VARIANCE=.48,It.MAX_INDIVIDUAL_VARIANCE=.7,It.START_END_PATTERN=Int32Array.from([1,1,1]),It.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),It.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),It.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Fr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),l=s.toString(),u=Fr.parseExtensionString(l),d=[new Re((r[0]+r[1])/2,e),new Re(o,e)],p=new Be(l,null,0,d,pe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let p=0;p<5&&l<o;p++){let C=It.decodeDigit(e,s,l,It.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let S of s)l+=S;C>=10&&(u|=1<<4-p),p!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==5)throw new $;let d=this.determineCheckDigit(u);if(Fr.extensionChecksum(r.toString())!==d)throw new $;return l}static extensionChecksum(e){let n=e.length,r=0;for(let s=n-2;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;r*=3;for(let s=n-1;s>=0;s-=2)r+=e.charAt(s).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new $}static parseExtensionString(e){if(e.length!==5)return null;let n=Fr.parseExtension5String(e);return n==null?null:new Map([[Ve.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let r=parseInt(e.substring(1)),s=(r/100).toString(),o=r%100,l=o<10?"0"+o:o.toString();return n+s+"."+l}}class Oi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,r){let s=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,s),l=s.toString(),u=Oi.parseExtensionString(l),d=[new Re((r[0]+r[1])/2,e),new Re(o,e)],p=new Be(l,null,0,d,pe.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let d=0;d<2&&l<o;d++){let p=It.decodeDigit(e,s,l,It.L_AND_G_PATTERNS);r+=String.fromCharCode(48+p%10);for(let C of s)l+=C;p>=10&&(u|=1<<1-d),d!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(r.length!==2)throw new $;if(parseInt(r.toString())%4!==u)throw new $;return l}static parseExtensionString(e){return e.length!==2?null:new Map([[Ve.ISSUE_NUMBER,parseInt(e)]])}}class os{static decodeRow(e,n,r){let s=It.findGuardPattern(n,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Fr().decodeRow(e,n,s)}catch{return new Oi().decodeRow(e,n,s)}}}os.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class et extends It{constructor(){super(),this.decodeRowStringBuffer="",et.L_AND_G_PATTERNS=et.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=et.L_PATTERNS[e-10],r=new Int32Array(n.length);for(let s=0;s<n.length;s++)r[s]=n[n.length-s-1];et.L_AND_G_PATTERNS[e]=r}}decodeRow(e,n,r){let s=et.findStartGuardPattern(n),o=r==null?null:r.get(Ee.NEED_RESULT_POINT_CALLBACK);if(o!=null){const ue=new Re((s[0]+s[1])/2,e);o.foundPossibleResultPoint(ue)}let l=this.decodeMiddle(n,s,this.decodeRowStringBuffer),u=l.rowOffset,d=l.resultString;if(o!=null){const ue=new Re(u,e);o.foundPossibleResultPoint(ue)}let p=this.decodeEnd(n,u);if(o!=null){const ue=new Re((p[0]+p[1])/2,e);o.foundPossibleResultPoint(ue)}let C=p[1],S=C+(C-p[0]);if(S>=n.getSize()||!n.isRange(C,S,!1))throw new $;let T=d.toString();if(T.length<8)throw new re;if(!et.checkChecksum(T))throw new H;let M=(s[1]+s[0])/2,L=(p[1]+p[0])/2,j=this.getBarcodeFormat(),V=[new Re(M,e),new Re(L,e)],K=new Be(T,null,0,V,j,new Date().getTime()),de=0;try{let ue=os.decodeRow(e,n,p[1]);K.putMetadata(Ve.UPC_EAN_EXTENSION,ue.getText()),K.putAllMetadata(ue.getResultMetadata()),K.addResultPoints(ue.getResultPoints()),de=ue.getText().length}catch{}let he=r==null?null:r.get(Ee.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ue=!1;for(let Je in he)if(de.toString()===Je){ue=!0;break}if(!ue)throw new $}return K}decodeEnd(e,n){return et.findGuardPattern(e,n,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return et.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let r=parseInt(e.charAt(n-1),10);return et.getStandardUPCEANChecksum(e.substring(0,n-1))===r}static getStandardUPCEANChecksum(e){let n=e.length,r=0;for(let s=n-1;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new re;r+=o}r*=3;for(let s=n-2;s>=0;s-=2){let o=e.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new re;r+=o}return(1e3-r)%10}}class Pn extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1],u=0;for(let p=0;p<6&&l<o;p++){let C=et.decodeDigit(e,s,l,et.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let S of s)l+=S;C>=10&&(u|=1<<5-p)}r=Pn.determineFirstDigit(r,u),l=et.findGuardPattern(e,l,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&l<o;p++){let C=et.decodeDigit(e,s,l,et.L_PATTERNS);r+=String.fromCharCode(48+C);for(let S of s)l+=S}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(e,n){for(let r=0;r<10;r++)if(n===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new $}}Pn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Us extends et{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l=n[1];for(let d=0;d<4&&l<o;d++){let p=et.decodeDigit(e,s,l,et.L_PATTERNS);r+=String.fromCharCode(48+p);for(let C of s)l+=C}l=et.findGuardPattern(e,l,!0,et.MIDDLE_PATTERN,new Int32Array(et.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&l<o;d++){let p=et.decodeDigit(e,s,l,et.L_PATTERNS);r+=String.fromCharCode(48+p);for(let C of s)l+=C}return{rowOffset:l,resultString:r}}getBarcodeFormat(){return pe.EAN_8}}class js extends et{constructor(){super(...arguments),this.ean13Reader=new Pn}getBarcodeFormat(){return pe.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,r))}decodeMiddle(e,n,r){return this.ean13Reader.decodeMiddle(e,n,r)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let r=new Be(n.substring(1),null,null,e.getResultPoints(),pe.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new $}reset(){this.ean13Reader.reset()}}class Bn extends et{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,r){const s=this.decodeMiddleCounters.map(p=>p);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const o=e.getSize();let l=n[1],u=0;for(let p=0;p<6&&l<o;p++){const C=Bn.decodeDigit(e,s,l,Bn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let S of s)l+=S;C>=10&&(u|=1<<5-p)}let d=Bn.determineNumSysAndCheckDigit(r,u);return{rowOffset:l,resultString:d}}decodeEnd(e,n){return Bn.findGuardPatternWithoutCounters(e,n,!0,Bn.MIDDLE_END_PATTERN)}checkChecksum(e){return et.checkChecksum(Bn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let r=0;r<=1;r++)for(let s=0;s<10;s++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][s]){let o=String.fromCharCode(48+r),l=String.fromCharCode(48+s);return o+e+l}throw $.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(o=>o.charCodeAt(0)),r=new Xe;r.append(e.charAt(0));let s=n[5];switch(s){case 0:case 1:case 2:r.appendChars(n,0,2),r.append(s),r.append("0000"),r.appendChars(n,2,3);break;case 3:r.appendChars(n,0,3),r.append("00000"),r.appendChars(n,3,2);break;case 4:r.appendChars(n,0,4),r.append("00000"),r.append(n[4]);break;default:r.appendChars(n,0,5),r.append("0000"),r.append(s);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Bn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ls extends Pt{constructor(e){super();let n=e==null?null:e.get(Ee.POSSIBLE_FORMATS),r=[];y(n)?(r.push(new Pn),r.push(new js),r.push(new Us),r.push(new Bn)):(n.indexOf(pe.EAN_13)>-1&&r.push(new Pn),n.indexOf(pe.UPC_A)>-1&&r.push(new js),n.indexOf(pe.EAN_8)>-1&&r.push(new Us),n.indexOf(pe.UPC_E)>-1&&r.push(new Bn)),this.readers=r}decodeRow(e,n,r){for(let s of this.readers)try{const o=s.decodeRow(e,n,r),l=o.getBarcodeFormat()===pe.EAN_13&&o.getText().charAt(0)==="0",u=r==null?null:r.get(Ee.POSSIBLE_FORMATS),d=u==null||u.includes(pe.UPC_A);if(l&&d){const p=o.getRawBytes(),C=new Be(o.getText().substring(1),p,p?p.length:null,o.getResultPoints(),pe.UPC_A);return C.putAllMetadata(o.getResultMetadata()),C}return o}catch{}throw new $}reset(){for(let e of this.readers)e.reset()}}class tn extends Pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let r=0;r<n.length;r++)if(Pt.patternMatchVariance(e,n[r],tn.MAX_INDIVIDUAL_VARIANCE)<tn.MAX_AVG_VARIANCE)return r;throw new $}static count(e){return nt.sum(new Int32Array(e))}static increment(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]>s&&(s=n[o],r=o);e[r]++}static decrement(e,n){let r=0,s=n[0];for(let o=1;o<e.length;o++)n[o]<s&&(s=n[o],r=o);e[r]--}static isFinderPattern(e){let n=e[0]+e[1],r=n+e[2]+e[3],s=n/r;if(s>=tn.MIN_FINDER_PATTERN_RATIO&&s<=tn.MAX_FINDER_PATTERN_RATIO){let o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let u of e)u>l&&(l=u),u<o&&(o=u);return l<10*o}return!1}}tn.MAX_AVG_VARIANCE=.2,tn.MAX_INDIVIDUAL_VARIANCE=.45,tn.MIN_FINDER_PATTERN_RATIO=9.5/12,tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class br{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof br))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Di{constructor(e,n,r,s,o){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Re(r,o)),this.resultPoints.push(new Re(s,o))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Di))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class An{constructor(){}static getRSSvalue(e,n,r){let s=0;for(let d of e)s+=d;let o=0,l=0,u=e.length;for(let d=0;d<u-1;d++){let p;for(p=1,l|=1<<d;p<e[d];p++,l&=~(1<<d)){let C=An.combins(s-p-1,u-d-2);if(r&&l===0&&s-p-(u-d-1)>=u-d-1&&(C-=An.combins(s-p-(u-d),u-d-2)),u-d-1>1){let S=0;for(let T=s-p-(u-d-2);T>n;T--)S+=An.combins(s-p-T-1,u-d-3);C-=S*(u-1-d)}else s-p>n&&C--;o+=C}s-=p}return o}static combins(e,n){let r,s;e-n>n?(s=n,r=e-n):(s=e-n,r=n);let o=1,l=1;for(let u=e;u>r;u--)o*=u,l<=s&&(o/=l,l++);for(;l<=s;)o/=l,l++;return o}}class zs{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let r=12*n,s=new se(r),o=0,u=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)(u&1<<d)!=0&&s.set(o),o++;for(let d=1;d<e.length;++d){let p=e[d],C=p.getLeftChar().getValue();for(let S=11;S>=0;--S)(C&1<<S)!=0&&s.set(o),o++;if(p.getRightChar()!=null){let S=p.getRightChar().getValue();for(let T=11;T>=0;--T)(S&1<<T)!=0&&s.set(o),o++}}return s}}class Xn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Vs{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class qt extends Vs{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===qt.FNC1}}qt.FNC1="$";class ir extends Vs{constructor(e,n,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mn extends Vs{constructor(e,n,r){if(super(e),n<0||n>10||r<0||r>10)throw new re;this.firstDigit=n,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===mn.FNC1}isAnyFNC1(){return this.firstDigit===mn.FNC1||this.secondDigit===mn.FNC1}}mn.FNC1=10;class Ae{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new $;let n=e.substring(0,2);for(let o of Ae.TWO_DIGIT_DATA_LENGTH)if(o[0]===n)return o[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(2,o[2],e):Ae.processFixedAI(2,o[1],e);if(e.length<3)throw new $;let r=e.substring(0,3);for(let o of Ae.THREE_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(3,o[2],e):Ae.processFixedAI(3,o[1],e);for(let o of Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(o[0]===r)return o[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,o[2],e):Ae.processFixedAI(4,o[1],e);if(e.length<4)throw new $;let s=e.substring(0,4);for(let o of Ae.FOUR_DIGIT_DATA_LENGTH)if(o[0]===s)return o[1]===Ae.VARIABLE_LENGTH?Ae.processVariableAI(4,o[2],e):Ae.processFixedAI(4,o[1],e);throw new $}static processFixedAI(e,n,r){if(r.length<e)throw new $;let s=r.substring(0,e);if(r.length<e+n)throw new $;let o=r.substring(e,e+n),l=r.substring(e+n),u="("+s+")"+o,d=Ae.parseFieldsInGeneralPurpose(l);return d==null?u:u+d}static processVariableAI(e,n,r){let s=r.substring(0,e),o;r.length<e+n?o=r.length:o=e+n;let l=r.substring(e,o),u=r.substring(o),d="("+s+")"+l,p=Ae.parseFieldsInGeneralPurpose(u);return p==null?d:d+p}}Ae.VARIABLE_LENGTH=[],Ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ae.VARIABLE_LENGTH,20],["22",Ae.VARIABLE_LENGTH,29],["30",Ae.VARIABLE_LENGTH,8],["37",Ae.VARIABLE_LENGTH,8],["90",Ae.VARIABLE_LENGTH,30],["91",Ae.VARIABLE_LENGTH,30],["92",Ae.VARIABLE_LENGTH,30],["93",Ae.VARIABLE_LENGTH,30],["94",Ae.VARIABLE_LENGTH,30],["95",Ae.VARIABLE_LENGTH,30],["96",Ae.VARIABLE_LENGTH,30],["97",Ae.VARIABLE_LENGTH,3],["98",Ae.VARIABLE_LENGTH,30],["99",Ae.VARIABLE_LENGTH,30]],Ae.THREE_DIGIT_DATA_LENGTH=[["240",Ae.VARIABLE_LENGTH,30],["241",Ae.VARIABLE_LENGTH,30],["242",Ae.VARIABLE_LENGTH,6],["250",Ae.VARIABLE_LENGTH,30],["251",Ae.VARIABLE_LENGTH,30],["253",Ae.VARIABLE_LENGTH,17],["254",Ae.VARIABLE_LENGTH,20],["400",Ae.VARIABLE_LENGTH,30],["401",Ae.VARIABLE_LENGTH,30],["402",17],["403",Ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ae.VARIABLE_LENGTH,20],["421",Ae.VARIABLE_LENGTH,15],["422",3],["423",Ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ae.VARIABLE_LENGTH,15],["391",Ae.VARIABLE_LENGTH,18],["392",Ae.VARIABLE_LENGTH,15],["393",Ae.VARIABLE_LENGTH,18],["703",Ae.VARIABLE_LENGTH,30]],Ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ae.VARIABLE_LENGTH,20],["8003",Ae.VARIABLE_LENGTH,30],["8004",Ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ae.VARIABLE_LENGTH,30],["8008",Ae.VARIABLE_LENGTH,12],["8018",18],["8020",Ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ae.VARIABLE_LENGTH,70],["8200",Ae.VARIABLE_LENGTH,70]];class si{constructor(e){this.buffer=new Xe,this.information=e}decodeAllCodes(e,n){let r=n,s=null;do{let o=this.decodeGeneralPurposeField(r,s),l=Ae.parseFieldsInGeneralPurpose(o.getNewString());if(l!=null&&e.append(l),o.isRemaining()?s=""+o.getRemainingValue():s=null,r===o.getNewPosition())break;r=o.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let o=this.extractNumericValueFromBitArray(e,4);return o===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),o-1,mn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),r=(n-8)/11,s=(n-8)%11;return new mn(e+7,r,s)}extractNumericValueFromBitArray(e,n){return si.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,r){let s=0;for(let o=0;o<r;++o)e.get(n+o)&&(s|=1<<r-o-1);return s}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new ir(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ir(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let r=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new ir(this.current.getPosition(),this.buffer.toString()):n=new ir(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Xn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new Xn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new Xn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new Xn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(e,8);return s>=232&&s<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new qt(e+5,qt.FNC1);if(n>=5&&n<15)return new qt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new qt(e+7,""+(r+1));if(r>=90&&r<116)return new qt(e+7,""+(r+7));let s=this.extractNumericValueFromBitArray(e,8),o;switch(s){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new re}return new qt(e+8,o)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new qt(e+5,qt.FNC1);if(n>=5&&n<15)return new qt(e+5,"0"+(n-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new qt(e+6,""+(r+33));let s;switch(r){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new Hn("Decoding invalid alphanumeric value: "+r)}return new qt(e+6,s)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Ws{constructor(e){this.information=e,this.generalDecoder=new si(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Sn extends Ws{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,r)}encodeCompressedGtinWithoutAI(e,n,r){for(let s=0;s<4;++s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*s,10);o/100===0&&e.append("0"),o/10===0&&e.append("0"),e.append(o)}Sn.appendCheckDigit(e,r)}static appendCheckDigit(e,n){let r=0;for(let s=0;s<13;s++){let o=e.charAt(s+n).charCodeAt(0)-48;r+=(s&1)===0?3*o:o}r=10-r%10,r===10&&(r=0),e.append(r)}}Sn.GTIN_SIZE=40;class Ln extends Sn{constructor(e){super(e)}parseInformation(){let e=new Xe;e.append("(01)");let n=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ln.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,Ln.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Ln.HEADER_SIZE+44)}}Ln.HEADER_SIZE=4;class Mi extends Ws{constructor(e){super(e)}parseInformation(){let e=new Xe;return this.getGeneralDecoder().decodeAllCodes(e,Mi.HEADER_SIZE)}}Mi.HEADER_SIZE=5;class ki extends Sn{constructor(e){super(e)}encodeCompressedWeight(e,n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(n,r);this.addWeightCode(e,s);let o=this.checkWeight(s),l=1e5;for(let u=0;u<5;++u)o/l===0&&e.append("0"),l/=10;e.append(o)}}class sr extends ki{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=sr.HEADER_SIZE+ki.GTIN_SIZE+sr.WEIGHT_SIZE)throw new $;let e=new Xe;return this.encodeCompressedGtin(e,sr.HEADER_SIZE),this.encodeCompressedWeight(e,sr.HEADER_SIZE+ki.GTIN_SIZE,sr.WEIGHT_SIZE),e.toString()}}sr.HEADER_SIZE=5,sr.WEIGHT_SIZE=15;class ko extends sr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Po extends sr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Yn extends Sn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Yn.HEADER_SIZE+Sn.GTIN_SIZE)throw new $;let e=new Xe;this.encodeCompressedGtin(e,Yn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Yn.HEADER_SIZE+Sn.GTIN_SIZE,Yn.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Yn.HEADER_SIZE+Sn.GTIN_SIZE+Yn.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Yn.HEADER_SIZE=8,Yn.LAST_DIGIT_SIZE=2;class fn extends Sn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<fn.HEADER_SIZE+Sn.GTIN_SIZE)throw new $;let e=new Xe;this.encodeCompressedGtin(e,fn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+Sn.GTIN_SIZE,fn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(fn.HEADER_SIZE+Sn.GTIN_SIZE+fn.LAST_DIGIT_SIZE,fn.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let s=this.getGeneralDecoder().decodeGeneralPurposeField(fn.HEADER_SIZE+Sn.GTIN_SIZE+fn.LAST_DIGIT_SIZE+fn.FIRST_THREE_DIGITS_SIZE,null);return e.append(s.getNewString()),e.toString()}}fn.HEADER_SIZE=8,fn.LAST_DIGIT_SIZE=2,fn.FIRST_THREE_DIGITS_SIZE=10;class Nt extends ki{constructor(e,n,r){super(e),this.dateCode=r,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE+Nt.DATE_SIZE)throw new $;let e=new Xe;return this.encodeCompressedGtin(e,Nt.HEADER_SIZE),this.encodeCompressedWeight(e,Nt.HEADER_SIZE+Nt.GTIN_SIZE,Nt.WEIGHT_SIZE),this.encodeCompressedDate(e,Nt.HEADER_SIZE+Nt.GTIN_SIZE+Nt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,Nt.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let s=r%32;r/=32;let o=r%12+1;r/=12;let l=r;l/10==0&&e.append("0"),e.append(l),o/10==0&&e.append("0"),e.append(o),s/10==0&&e.append("0"),e.append(s)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}Nt.HEADER_SIZE=8,Nt.WEIGHT_SIZE=20,Nt.DATE_SIZE=16;function Bo(A){try{if(A.get(1))return new Ln(A);if(!A.get(2))return new Mi(A);switch(si.extractNumericValueFromBitArray(A,1,4)){case 4:return new ko(A);case 5:return new Po(A)}switch(si.extractNumericValueFromBitArray(A,1,5)){case 12:return new Yn(A);case 13:return new fn(A)}switch(si.extractNumericValueFromBitArray(A,1,7)){case 56:return new Nt(A,"310","11");case 57:return new Nt(A,"320","11");case 58:return new Nt(A,"310","13");case 59:return new Nt(A,"320","13");case 60:return new Nt(A,"310","15");case 61:return new Nt(A,"320","15");case 62:return new Nt(A,"310","17");case 63:return new Nt(A,"320","17")}}catch(e){throw console.log(e),new Hn("unknown decoder: "+A)}}class wt{constructor(e,n,r,s){this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof wt?wt.equalsOrNull(e.leftchar,n.leftchar)&&wt.equalsOrNull(e.rightchar,n.rightchar)&&wt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:wt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Hs{constructor(e,n,r){this.pairs=e,this.rowNumber=n,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Hs?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let r;return e.forEach((s,o)=>{n.forEach(l=>{s.getLeftChar().getValue()===l.getLeftChar().getValue()&&s.getRightChar().getValue()===l.getRightChar().getValue()&&s.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(r=!0)})}),r}}class oe extends tn{constructor(e){super(...arguments),this.pairs=new Array(oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,r){this.pairs.length=0,this.startFromEven=!1;try{return oe.constructResult(this.decodeRow2pairs(e,n))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,oe.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(o){if(o instanceof $){if(!this.pairs.length)throw new $;r=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(e,!1),s){let o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new $}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let r=n;r<this.rows.length;r++){let s=this.rows[r];this.pairs.length=0;for(let l of e)this.pairs.push(l.getPairs());if(this.pairs.push(s.getPairs()),!oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let o=new Array(e);o.push(s);try{return this.checkRows(o,r+1)}catch(l){this.verbose&&console.log(l)}}throw new $}static isValidSequence(e){for(let n of oe.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let r=!0;for(let s=0;s<e.length;s++)if(e[s].getFinderPattern().getValue()!=n[s]){r=!1;break}if(r)return!0}return!1}storeRow(e,n){let r=0,s=!1,o=!1;for(;r<this.rows.length;){let l=this.rows[r];if(l.getRowNumber()>e){o=l.isEquivalent(this.pairs);break}s=l.isEquivalent(this.pairs),r++}o||s||oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Hs(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let r of n)if(r.getPairs().length!==e.length){for(let s of r.getPairs())for(let o of e)if(wt.equals(s,o))break}}static isPartialRow(e,n){for(let r of n){let s=!0;for(let o of e){let l=!1;for(let u of r.getPairs())if(o.equals(u)){l=!0;break}if(!l){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=zs.buildBitArray(e),s=Bo(n).parseInformation(),o=e[0].getFinderPattern().getResultPoints(),l=e[e.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],l[0],l[1]];return new Be(s,null,null,u,pe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let s=r.getChecksumPortion(),o=2;for(let u=1;u<this.pairs.size();++u){let d=this.pairs.get(u);s+=d.getLeftChar().getChecksumPortion(),o++;let p=d.getRightChar();p!=null&&(s+=p.getChecksumPortion(),o++)}return s%=211,211*(o-4)+s==n.getValue()}static getNextSecondBar(e,n){let r;return e.get(n)?(r=e.getNextUnset(n),r=e.getNextSet(r)):(r=e.getNextSet(n),r=e.getNextUnset(r)),r}retrieveNextPair(e,n,r){let s=n.length%2==0;this.startFromEven&&(s=!s);let o,l=!0,u=-1;do this.findNextPair(e,n,u),o=this.parseFoundFinderPattern(e,r,s),o==null?u=oe.getNextSecondBar(e,this.startEnd[0]):l=!1;while(l);let d=this.decodeDataCharacter(e,o,s,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new $;let p;try{p=this.decodeDataCharacter(e,o,s,!1)}catch(C){p=null,this.verbose&&console.log(C)}return new wt(d,p,o,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let o=e.getSize(),l;r>=0?l=r:this.isEmptyPair(n)?l=0:l=n[n.length-1].getFinderPattern().getStartEnd()[1];let u=n.length%2!=0;this.startFromEven&&(u=!u);let d=!1;for(;l<o&&(d=!e.get(l),!!d);)l++;let p=0,C=l;for(let S=l;S<o;S++)if(e.get(S)!=d)s[p]++;else{if(p==3){if(u&&oe.reverseCounters(s),oe.isFinderPattern(s)){this.startEnd[0]=C,this.startEnd[1]=S;return}u&&oe.reverseCounters(s),C+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,p--}else p++;s[p]=1,d=!d}throw new $}static reverseCounters(e){let n=e.length;for(let r=0;r<n/2;++r){let s=e[r];e[r]=e[n-r-1],e[n-r-1]=s}}parseFoundFinderPattern(e,n,r){let s,o,l;if(r){let p=this.startEnd[0]-1;for(;p>=0&&!e.get(p);)p--;p++,s=this.startEnd[0]-p,o=p,l=this.startEnd[1]}else o=this.startEnd[0],l=e.getNextUnset(this.startEnd[1]+1),s=l-this.startEnd[1];let u=this.getDecodeFinderCounters();Y.arraycopy(u,0,u,1,u.length-1),u[0]=s;let d;try{d=this.parseFinderValue(u,oe.FINDER_PATTERNS)}catch{return null}return new Di(d,[o,l],o,l,n)}decodeDataCharacter(e,n,r,s){let o=this.getDataCharacterCounters();for(let pt=0;pt<o.length;pt++)o[pt]=0;if(s)oe.recordPatternInReverse(e,n.getStartEnd()[0],o);else{oe.recordPattern(e,n.getStartEnd()[1],o);for(let pt=0,Bt=o.length-1;pt<Bt;pt++,Bt--){let En=o[pt];o[pt]=o[Bt],o[Bt]=En}}let l=17,u=nt.sum(new Int32Array(o))/l,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(u-d)/d>.3)throw new $;let p=this.getOddCounts(),C=this.getEvenCounts(),S=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let pt=0;pt<o.length;pt++){let Bt=1*o[pt]/u,En=Bt+.5;if(En<1){if(Bt<.3)throw new $;En=1}else if(En>8){if(Bt>8.7)throw new $;En=8}let Wr=pt/2;(pt&1)==0?(p[Wr]=En,S[Wr]=Bt-En):(C[Wr]=En,T[Wr]=Bt-En)}this.adjustOddEvenCounts(l);let M=4*n.getValue()+(r?0:2)+(s?0:1)-1,L=0,j=0;for(let pt=p.length-1;pt>=0;pt--){if(oe.isNotA1left(n,r,s)){let Bt=oe.WEIGHTS[M][2*pt];j+=p[pt]*Bt}L+=p[pt]}let V=0;for(let pt=C.length-1;pt>=0;pt--)if(oe.isNotA1left(n,r,s)){let Bt=oe.WEIGHTS[M][2*pt+1];V+=C[pt]*Bt}let K=j+V;if((L&1)!=0||L>13||L<4)throw new $;let de=(13-L)/2,he=oe.SYMBOL_WIDEST[de],ue=9-he,Je=An.getRSSvalue(p,he,!0),Ge=An.getRSSvalue(C,ue,!1),Nn=oe.EVEN_TOTAL_SUBSET[de],Jn=oe.GSUM[de],Qt=Je*Nn+Ge+Jn;return new br(Qt,K)}static isNotA1left(e,n,r){return!(e.getValue()==0&&n&&r)}adjustOddEvenCounts(e){let n=nt.sum(new Int32Array(this.getOddCounts())),r=nt.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;n>13?o=!0:n<4&&(s=!0);let l=!1,u=!1;r>13?u=!0:r<4&&(l=!0);let d=n+r-e,p=(n&1)==1,C=(r&1)==0;if(d==1)if(p){if(C)throw new $;o=!0}else{if(!C)throw new $;u=!0}else if(d==-1)if(p){if(C)throw new $;s=!0}else{if(!C)throw new $;l=!0}else if(d==0){if(p){if(!C)throw new $;n<r?(s=!0,u=!0):(o=!0,l=!0)}else if(C)throw new $}else throw new $;if(s){if(o)throw new $;oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new $;oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}oe.SYMBOL_WIDEST=[7,5,4,3,1],oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],oe.GSUM=[0,348,1388,2948,3988],oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],oe.FINDER_PAT_A=0,oe.FINDER_PAT_B=1,oe.FINDER_PAT_C=2,oe.FINDER_PAT_D=3,oe.FINDER_PAT_E=4,oe.FINDER_PAT_F=5,oe.FINDER_PATTERN_SEQUENCES=[[oe.FINDER_PAT_A,oe.FINDER_PAT_A],[oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B],[oe.FINDER_PAT_A,oe.FINDER_PAT_C,oe.FINDER_PAT_B,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_C],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_E,oe.FINDER_PAT_B,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F],[oe.FINDER_PAT_A,oe.FINDER_PAT_A,oe.FINDER_PAT_B,oe.FINDER_PAT_B,oe.FINDER_PAT_C,oe.FINDER_PAT_D,oe.FINDER_PAT_D,oe.FINDER_PAT_E,oe.FINDER_PAT_E,oe.FINDER_PAT_F,oe.FINDER_PAT_F]],oe.MAX_PAIRS=11;class Lo extends br{constructor(e,n,r){super(e,n),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class At extends tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,r){const s=this.decodePair(n,!1,e,r);At.addOrTally(this.possibleLeftPairs,s),n.reverse();let o=this.decodePair(n,!0,e,r);At.addOrTally(this.possibleRightPairs,o),n.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&At.checkChecksum(l,u))return At.constructResult(l,u)}throw new $}static addOrTally(e,n){if(n==null)return;let r=!1;for(let s of e)if(s.getValue()===n.getValue()){s.incrementCount(),r=!0;break}r||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let r=4537077*e.getValue()+n.getValue(),s=new String(r).toString(),o=new Xe;for(let p=13-s.length;p>0;p--)o.append("0");o.append(s);let l=0;for(let p=0;p<13;p++){let C=o.charAt(p).charCodeAt(0)-48;l+=(p&1)===0?3*C:C}l=10-l%10,l===10&&(l=0),o.append(l.toString());let u=e.getFinderPattern().getResultPoints(),d=n.getFinderPattern().getResultPoints();return new Be(o.toString(),null,0,[u[0],u[1],d[0],d[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(e,n){let r=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,s=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,r===s}decodePair(e,n,r,s){try{let o=this.findFinderPattern(e,n),l=this.parseFoundFinderPattern(e,r,n,o),u=s==null?null:s.get(Ee.NEED_RESULT_POINT_CALLBACK);if(u!=null){let C=(o[0]+o[1])/2;n&&(C=e.getSize()-1-C),u.foundPossibleResultPoint(new Re(C,r))}let d=this.decodeDataCharacter(e,l,!0),p=this.decodeDataCharacter(e,l,!1);return new Lo(1597*d.getValue()+p.getValue(),d.getChecksumPortion()+4*p.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(e,n,r){let s=this.getDataCharacterCounters();for(let V=0;V<s.length;V++)s[V]=0;if(r)Pt.recordPatternInReverse(e,n.getStartEnd()[0],s);else{Pt.recordPattern(e,n.getStartEnd()[1]+1,s);for(let V=0,K=s.length-1;V<K;V++,K--){let de=s[V];s[V]=s[K],s[K]=de}}let o=r?16:15,l=nt.sum(new Int32Array(s))/o,u=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let V=0;V<s.length;V++){let K=s[V]/l,de=Math.floor(K+.5);de<1?de=1:de>8&&(de=8);let he=Math.floor(V/2);(V&1)===0?(u[he]=de,p[he]=K-de):(d[he]=de,C[he]=K-de)}this.adjustOddEvenCounts(r,o);let S=0,T=0;for(let V=u.length-1;V>=0;V--)T*=9,T+=u[V],S+=u[V];let M=0,L=0;for(let V=d.length-1;V>=0;V--)M*=9,M+=d[V],L+=d[V];let j=T+3*M;if(r){if((S&1)!==0||S>12||S<4)throw new $;let V=(12-S)/2,K=At.OUTSIDE_ODD_WIDEST[V],de=9-K,he=An.getRSSvalue(u,K,!1),ue=An.getRSSvalue(d,de,!0),Je=At.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ge=At.OUTSIDE_GSUM[V];return new br(he*Je+ue+Ge,j)}else{if((L&1)!==0||L>10||L<4)throw new $;let V=(10-L)/2,K=At.INSIDE_ODD_WIDEST[V],de=9-K,he=An.getRSSvalue(u,K,!0),ue=An.getRSSvalue(d,de,!1),Je=At.INSIDE_ODD_TOTAL_SUBSET[V],Ge=At.INSIDE_GSUM[V];return new br(ue*Je+he+Ge,j)}}findFinderPattern(e,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let s=e.getSize(),o=!1,l=0;for(;l<s&&(o=!e.get(l),n!==o);)l++;let u=0,d=l;for(let p=l;p<s;p++)if(e.get(p)!==o)r[u]++;else{if(u===3){if(tn.isFinderPattern(r))return[d,p];d+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,o=!o}throw new $}parseFoundFinderPattern(e,n,r,s){let o=e.get(s[0]),l=s[0]-1;for(;l>=0&&o!==e.get(l);)l--;l++;const u=s[0]-l,d=this.getDecodeFinderCounters(),p=new Int32Array(d.length);Y.arraycopy(d,0,p,1,d.length-1),p[0]=u;const C=this.parseFinderValue(p,At.FINDER_PATTERNS);let S=l,T=s[1];return r&&(S=e.getSize()-1-S,T=e.getSize()-1-T),new Di(C,[l,s[1]],S,T,n)}adjustOddEvenCounts(e,n){let r=nt.sum(new Int32Array(this.getOddCounts())),s=nt.sum(new Int32Array(this.getEvenCounts())),o=!1,l=!1,u=!1,d=!1;e?(r>12?l=!0:r<4&&(o=!0),s>12?d=!0:s<4&&(u=!0)):(r>11?l=!0:r<5&&(o=!0),s>10?d=!0:s<4&&(u=!0));let p=r+s-n,C=(r&1)===(e?1:0),S=(s&1)===1;if(p===1)if(C){if(S)throw new $;l=!0}else{if(!S)throw new $;d=!0}else if(p===-1)if(C){if(S)throw new $;o=!0}else{if(!S)throw new $;u=!0}else if(p===0){if(C){if(!S)throw new $;r<s?(o=!0,d=!0):(l=!0,u=!0)}else if(S)throw new $}else throw new $;if(o){if(l)throw new $;tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(d)throw new $;tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}At.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],At.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],At.OUTSIDE_GSUM=[0,161,961,2015,2715],At.INSIDE_GSUM=[0,336,1036,1516],At.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],At.INSIDE_ODD_WIDEST=[2,4,6,8],At.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class oi extends Pt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const r=e?e.get(Ee.POSSIBLE_FORMATS):null,s=e&&e.get(Ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(pe.EAN_13)||r.includes(pe.UPC_A)||r.includes(pe.EAN_8)||r.includes(pe.UPC_E))&&this.readers.push(new ls(e)),r.includes(pe.CODE_39)&&this.readers.push(new Xt(s)),r.includes(pe.CODE_128)&&this.readers.push(new xe),r.includes(pe.ITF)&&this.readers.push(new gt),r.includes(pe.RSS_14)&&this.readers.push(new At),r.includes(pe.RSS_EXPANDED)&&this.readers.push(new oe(this.verbose))):(this.readers.push(new ls(e)),this.readers.push(new Xt),this.readers.push(new ls(e)),this.readers.push(new xe),this.readers.push(new gt),this.readers.push(new At),this.readers.push(new oe(this.verbose)))}decodeRow(e,n,r){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(e,n,r)}catch{}throw new $}reset(){this.readers.forEach(e=>e.reset())}}class Fo extends ze{constructor(e=500,n){super(new oi(n),e,n)}}class ut{constructor(e,n,r){this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Qe{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class rt{constructor(e,n,r,s,o,l){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=o,this.ecBlocks=l;let u=0;const d=l.getECCodewords(),p=l.getECBlocks();for(let C of p)u+=C.getCount()*(C.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if((e&1)!==0||(n&1)!==0)throw new re;for(let r of rt.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===n)return r;throw new re}toString(){return""+this.versionNumber}static buildVersions(){return[new rt(1,10,10,8,8,new ut(5,new Qe(1,3))),new rt(2,12,12,10,10,new ut(7,new Qe(1,5))),new rt(3,14,14,12,12,new ut(10,new Qe(1,8))),new rt(4,16,16,14,14,new ut(12,new Qe(1,12))),new rt(5,18,18,16,16,new ut(14,new Qe(1,18))),new rt(6,20,20,18,18,new ut(18,new Qe(1,22))),new rt(7,22,22,20,20,new ut(20,new Qe(1,30))),new rt(8,24,24,22,22,new ut(24,new Qe(1,36))),new rt(9,26,26,24,24,new ut(28,new Qe(1,44))),new rt(10,32,32,14,14,new ut(36,new Qe(1,62))),new rt(11,36,36,16,16,new ut(42,new Qe(1,86))),new rt(12,40,40,18,18,new ut(48,new Qe(1,114))),new rt(13,44,44,20,20,new ut(56,new Qe(1,144))),new rt(14,48,48,22,22,new ut(68,new Qe(1,174))),new rt(15,52,52,24,24,new ut(42,new Qe(2,102))),new rt(16,64,64,14,14,new ut(56,new Qe(2,140))),new rt(17,72,72,16,16,new ut(36,new Qe(4,92))),new rt(18,80,80,18,18,new ut(48,new Qe(4,114))),new rt(19,88,88,20,20,new ut(56,new Qe(4,144))),new rt(20,96,96,22,22,new ut(68,new Qe(4,174))),new rt(21,104,104,24,24,new ut(56,new Qe(6,136))),new rt(22,120,120,18,18,new ut(68,new Qe(6,175))),new rt(23,132,132,20,20,new ut(62,new Qe(8,163))),new rt(24,144,144,22,22,new ut(62,new Qe(8,156),new Qe(2,155))),new rt(25,8,18,6,16,new ut(7,new Qe(1,5))),new rt(26,8,32,6,14,new ut(11,new Qe(1,10))),new rt(27,12,26,10,24,new ut(14,new Qe(1,16))),new rt(28,12,36,10,16,new ut(18,new Qe(1,22))),new rt(29,16,36,14,16,new ut(24,new Qe(1,32))),new rt(30,16,48,14,22,new ut(28,new Qe(1,49)))]}}rt.VERSIONS=rt.buildVersions();class On{constructor(e){const n=e.getHeight();if(n<8||n>144||(n&1)!==0)throw new re;this.version=On.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new $e(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),r=e.getWidth();return rt.getVersionForDimensions(n,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,r=4,s=0;const o=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let u=!1,d=!1,p=!1,C=!1;do if(r===o&&s===0&&!u)e[n++]=this.readCorner1(o,l)&255,r-=2,s+=2,u=!0;else if(r===o-2&&s===0&&(l&3)!==0&&!d)e[n++]=this.readCorner2(o,l)&255,r-=2,s+=2,d=!0;else if(r===o+4&&s===2&&(l&7)===0&&!p)e[n++]=this.readCorner3(o,l)&255,r-=2,s+=2,p=!0;else if(r===o-2&&s===0&&(l&7)===4&&!C)e[n++]=this.readCorner4(o,l)&255,r-=2,s+=2,C=!0;else{do r<o&&s>=0&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,l)&255),r-=2,s+=2;while(r>=0&&s<l);r+=1,s+=3;do r>=0&&s<l&&!this.readMappingMatrix.get(s,r)&&(e[n++]=this.readUtah(r,s,o,l)&255),r+=2,s-=2;while(r<o&&s>=0);r+=3,s+=1}while(r<o||s<l);if(n!==this.version.getTotalCodewords())throw new re;return e}readModule(e,n,r,s){return e<0&&(e+=r,n+=4-(r+4&7)),n<0&&(n+=s,e+=4-(s+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,r,s){let o=0;return this.readModule(e-2,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-2,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e-1,n,r,s)&&(o|=1),o<<=1,this.readModule(e,n-2,r,s)&&(o|=1),o<<=1,this.readModule(e,n-1,r,s)&&(o|=1),o<<=1,this.readModule(e,n,r,s)&&(o|=1),o}readCorner1(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,1,e,n)&&(r|=1),r<<=1,this.readModule(e-1,2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}readCorner2(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-4,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner3(e,n){let r=0;return this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(0,n-3,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-3,e,n)&&(r|=1),r<<=1,this.readModule(1,n-2,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r}readCorner4(e,n){let r=0;return this.readModule(e-3,0,e,n)&&(r|=1),r<<=1,this.readModule(e-2,0,e,n)&&(r|=1),r<<=1,this.readModule(e-1,0,e,n)&&(r|=1),r<<=1,this.readModule(0,n-2,e,n)&&(r|=1),r<<=1,this.readModule(0,n-1,e,n)&&(r|=1),r<<=1,this.readModule(1,n-1,e,n)&&(r|=1),r<<=1,this.readModule(2,n-1,e,n)&&(r|=1),r<<=1,this.readModule(3,n-1,e,n)&&(r|=1),r}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new b("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),l=n/s|0,u=r/o|0,d=l*s,p=u*o,C=new $e(p,d);for(let S=0;S<l;++S){const T=S*s;for(let M=0;M<u;++M){const L=M*o;for(let j=0;j<s;++j){const V=S*(s+2)+1+j,K=T+j;for(let de=0;de<o;++de){const he=M*(o+2)+1+de;if(e.get(he,V)){const ue=L+de;C.set(ue,K)}}}}}return C}}class Gs{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const r=n.getECBlocks();let s=0;const o=r.getECBlocks();for(let j of o)s+=j.getCount();const l=new Array(s);let u=0;for(let j of o)for(let V=0;V<j.getCount();V++){const K=j.getDataCodewords(),de=r.getECCodewords()+K;l[u++]=new Gs(K,new Uint8Array(de))}const p=l[0].codewords.length-r.getECCodewords(),C=p-1;let S=0;for(let j=0;j<C;j++)for(let V=0;V<u;V++)l[V].codewords[j]=e[S++];const T=n.getVersionNumber()===24,M=T?8:u;for(let j=0;j<M;j++)l[j].codewords[p-1]=e[S++];const L=l[0].codewords.length;for(let j=p;j<L;j++)for(let V=0;V<u;V++){const K=T?(V+8)%u:V,de=T&&K>7?j-1:j;l[K].codewords[de]=e[S++]}if(S!==e.length)throw new b;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xs{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new b(""+e);let n=0,r=this.bitOffset,s=this.byteOffset;const o=this.bytes;if(r>0){const l=8-r,u=e<l?e:l,d=l-u,p=255>>8-u<<d;n=(o[s]&p)>>d,e-=u,r+=u,r===8&&(r=0,s++)}if(e>0){for(;e>=8;)n=n<<8|o[s]&255,s++,e-=8;if(e>0){const l=8-e,u=255>>l<<l;n=n<<e|(o[s]&u)>>l,r+=e}}return this.bitOffset=r,this.byteOffset=s,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Yt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Yt||(Yt={}));class Zn{static decode(e){const n=new Xs(e),r=new Xe,s=new Xe,o=new Array;let l=Yt.ASCII_ENCODE;do if(l===Yt.ASCII_ENCODE)l=this.decodeAsciiSegment(n,r,s);else{switch(l){case Yt.C40_ENCODE:this.decodeC40Segment(n,r);break;case Yt.TEXT_ENCODE:this.decodeTextSegment(n,r);break;case Yt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,r);break;case Yt.EDIFACT_ENCODE:this.decodeEdifactSegment(n,r);break;case Yt.BASE256_ENCODE:this.decodeBase256Segment(n,r,o);break;default:throw new re}l=Yt.ASCII_ENCODE}while(l!==Yt.PAD_ENCODE&&n.available()>0);return s.length()>0&&r.append(s.toString()),new mt(e,r.toString(),o.length===0?null:o,null)}static decodeAsciiSegment(e,n,r){let s=!1;do{let o=e.readBits(8);if(o===0)throw new re;if(o<=128)return s&&(o+=128),n.append(String.fromCharCode(o-1)),Yt.ASCII_ENCODE;if(o===129)return Yt.PAD_ENCODE;if(o<=229){const l=o-130;l<10&&n.append("0"),n.append(""+l)}else switch(o){case 230:return Yt.C40_ENCODE;case 231:return Yt.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:n.append("[)>05"),r.insert(0,"");break;case 237:n.append("[)>06"),r.insert(0,"");break;case 238:return Yt.ANSIX12_ENCODE;case 239:return Yt.TEXT_ENCODE;case 240:return Yt.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new re;break}}while(e.available()>0);return Yt.ASCII_ENCODE}static decodeC40Segment(e,n){let r=!1;const s=[];let o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const d=s[u];switch(o){case 0:if(d<3)o=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else throw new re;break;case 1:r?(n.append(String.fromCharCode(d+128)),r=!1):n.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else switch(d){case 27:n.append("");break;case 30:r=!0;break;default:throw new re}o=0;break;case 3:r?(n.append(String.fromCharCode(d+224)),r=!1):n.append(String.fromCharCode(d+96)),o=0;break;default:throw new re}}}while(e.available()>0)}static decodeTextSegment(e,n){let r=!1,s=[],o=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),s);for(let u=0;u<3;u++){const d=s[u];switch(o){case 0:if(d<3)o=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else throw new re;break;case 1:r?(n.append(String.fromCharCode(d+128)),r=!1):n.append(String.fromCharCode(d)),o=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p)}else switch(d){case 27:n.append("");break;case 30:r=!0;break;default:throw new re}o=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[d];r?(n.append(String.fromCharCode(p.charCodeAt(0)+128)),r=!1):n.append(p),o=0}else throw new re;break;default:throw new re}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const r=[];do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),r);for(let o=0;o<3;o++){const l=r[o];switch(l){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(l<14)n.append(String.fromCharCode(l+44));else if(l<40)n.append(String.fromCharCode(l+51));else throw new re;break}}}while(e.available()>0)}static parseTwoBytes(e,n,r){let s=(e<<8)+n-1,o=Math.floor(s/1600);r[0]=o,s-=o*1600,o=Math.floor(s/40),r[1]=o,r[2]=s-o*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let s=e.readBits(6);if(s===31){const o=8-e.getBitOffset();o!==8&&e.readBits(o);return}(s&32)===0&&(s|=64),n.append(String.fromCharCode(s))}}while(e.available()>0)}static decodeBase256Segment(e,n,r){let s=1+e.getByteOffset();const o=this.unrandomize255State(e.readBits(8),s++);let l;if(o===0?l=e.available()/8|0:o<250?l=o:l=250*(o-249)+this.unrandomize255State(e.readBits(8),s++),l<0)throw new re;const u=new Uint8Array(l);for(let d=0;d<l;d++){if(e.available()<8)throw new re;u[d]=this.unrandomize255State(e.readBits(8),s++)}r.push(u);try{n.append(qe.decode(u,ve.ISO88591))}catch(d){throw new Hn("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,n){const r=149*n%255+1,s=e-r;return s>=0?s:s+256}}Zn.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Zn.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Zn.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Zn.TEXT_SHIFT2_SET_CHARS=Zn.C40_SHIFT2_SET_CHARS,Zn.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class as{constructor(){this.rsDecoder=new ni(lt.DATA_MATRIX_FIELD_256)}decode(e){const n=new On(e),r=n.getVersion(),s=n.readCodewords(),o=Gs.getDataBlocks(s,r);let l=0;for(let p of o)l+=p.getNumDataCodewords();const u=new Uint8Array(l),d=o.length;for(let p=0;p<d;p++){const C=o[p],S=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(S,T);for(let M=0;M<T;M++)u[M*d+p]=S[M]}return Zn.decode(u)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new H}for(let s=0;s<n;s++)e[s]=r[s]}}class St{constructor(e){this.image=e,this.rectangleDetector=new rr(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new $;n=this.shiftToModuleCenter(n);const r=n[0],s=n[1],o=n[2],l=n[3];let u=this.transitionsBetween(r,l)+1,d=this.transitionsBetween(o,l)+1;(u&1)===1&&(u+=1),(d&1)===1&&(d+=1),4*u<7*d&&4*d<7*u&&(u=d=Math.max(u,d));let p=St.sampleGrid(this.image,r,s,o,l,u,d);return new ri(p,[r,s,o,l])}static shiftPoint(e,n,r){let s=(n.getX()-e.getX())/(r+1),o=(n.getY()-e.getY())/(r+1);return new Re(e.getX()+s,e.getY()+o)}static moveAway(e,n,r){let s=e.getX(),o=e.getY();return s<n?s-=1:s+=1,o<r?o-=1:o+=1,new Re(s,o)}detectSolid1(e){let n=e[0],r=e[1],s=e[3],o=e[2],l=this.transitionsBetween(n,r),u=this.transitionsBetween(r,s),d=this.transitionsBetween(s,o),p=this.transitionsBetween(o,n),C=l,S=[o,n,r,s];return C>u&&(C=u,S[0]=n,S[1]=r,S[2]=s,S[3]=o),C>d&&(C=d,S[0]=r,S[1]=s,S[2]=o,S[3]=n),C>p&&(S[0]=s,S[1]=o,S[2]=n,S[3]=r),S}detectSolid2(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o),u=St.shiftPoint(r,s,(l+1)*4),d=St.shiftPoint(s,r,(l+1)*4),p=this.transitionsBetween(u,n),C=this.transitionsBetween(d,o);return p<C?(e[0]=n,e[1]=r,e[2]=s,e[3]=o):(e[0]=r,e[1]=s,e[2]=o,e[3]=n),e}correctTopRight(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o),u=this.transitionsBetween(r,o),d=St.shiftPoint(n,r,(u+1)*4),p=St.shiftPoint(s,r,(l+1)*4);l=this.transitionsBetween(d,o),u=this.transitionsBetween(p,o);let C=new Re(o.getX()+(s.getX()-r.getX())/(l+1),o.getY()+(s.getY()-r.getY())/(l+1)),S=new Re(o.getX()+(n.getX()-r.getX())/(u+1),o.getY()+(n.getY()-r.getY())/(u+1));if(!this.isValid(C))return this.isValid(S)?S:null;if(!this.isValid(S))return C;let T=this.transitionsBetween(d,C)+this.transitionsBetween(p,C),M=this.transitionsBetween(d,S)+this.transitionsBetween(p,S);return T>M?C:S}shiftToModuleCenter(e){let n=e[0],r=e[1],s=e[2],o=e[3],l=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(s,o)+1,d=St.shiftPoint(n,r,u*4),p=St.shiftPoint(s,r,l*4);l=this.transitionsBetween(d,o)+1,u=this.transitionsBetween(p,o)+1,(l&1)===1&&(l+=1),(u&1)===1&&(u+=1);let C=(n.getX()+r.getX()+s.getX()+o.getX())/4,S=(n.getY()+r.getY()+s.getY()+o.getY())/4;n=St.moveAway(n,C,S),r=St.moveAway(r,C,S),s=St.moveAway(s,C,S),o=St.moveAway(o,C,S);let T,M;return d=St.shiftPoint(n,r,u*4),d=St.shiftPoint(d,o,l*4),T=St.shiftPoint(r,n,u*4),T=St.shiftPoint(T,s,l*4),p=St.shiftPoint(s,o,u*4),p=St.shiftPoint(p,r,l*4),M=St.shiftPoint(o,s,u*4),M=St.shiftPoint(M,n,l*4),[d,T,p,M]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,r,s,o,l,u){return Gn.getInstance().sampleGrid(e,l,u,.5,.5,l-.5,.5,l-.5,u-.5,.5,u-.5,n.getX(),n.getY(),o.getX(),o.getY(),s.getX(),s.getY(),r.getX(),r.getY())}transitionsBetween(e,n){let r=Math.trunc(e.getX()),s=Math.trunc(e.getY()),o=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.abs(l-s)>Math.abs(o-r);if(u){let j=r;r=s,s=j,j=o,o=l,l=j}let d=Math.abs(o-r),p=Math.abs(l-s),C=-d/2,S=s<l?1:-1,T=r<o?1:-1,M=0,L=this.image.get(u?s:r,u?r:s);for(let j=r,V=s;j!==o;j+=T){let K=this.image.get(u?V:j,u?j:V);if(K!==L&&(M++,L=K),C+=p,C>0){if(V===l)break;V+=S,C-=d}}return M}}class Qn{constructor(){this.decoder=new as}decode(e,n=null){let r,s;if(n!=null&&n.has(Ee.PURE_BARCODE)){const p=Qn.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(p),s=Qn.NO_POINTS}else{const p=new St(e.getBlackMatrix()).detect();r=this.decoder.decode(p.getBits()),s=p.getPoints()}const o=r.getRawBytes(),l=new Be(r.getText(),o,8*o.length,s,pe.DATA_MATRIX,Y.currentTimeMillis()),u=r.getByteSegments();u!=null&&l.putMetadata(Ve.BYTE_SEGMENTS,u);const d=r.getECLevel();return d!=null&&l.putMetadata(Ve.ERROR_CORRECTION_LEVEL,d),l}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n==null||r==null)throw new $;const s=this.moduleSize(n,e);let o=n[1];const l=r[1];let u=n[0];const p=(r[0]-u+1)/s,C=(l-o+1)/s;if(p<=0||C<=0)throw new $;const S=s/2;o+=S,u+=S;const T=new $e(p,C);for(let M=0;M<C;M++){const L=o+M*s;for(let j=0;j<p;j++)e.get(u+j*s,L)&&T.set(j,M)}return T}static moduleSize(e,n){const r=n.getWidth();let s=e[0];const o=e[1];for(;s<r&&n.get(s,o);)s++;if(s===r)throw new $;const l=s-e[0];if(l===0)throw new $;return l}}Qn.NO_POINTS=[];class na extends ze{constructor(e=500){super(new Qn,e)}}var li;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(li||(li={}));class yt{constructor(e,n,r){this.value=e,this.stringValue=n,this.bits=r,yt.FOR_BITS.set(r,this),yt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return yt.L;case"M":return yt.M;case"Q":return yt.Q;case"H":return yt.H;default:throw new R(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof yt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=yt.FOR_BITS.size)throw new b;return yt.FOR_BITS.get(e)}}yt.FOR_BITS=new Map,yt.FOR_VALUE=new Map,yt.L=new yt(li.L,"L",1),yt.M=new yt(li.M,"M",0),yt.Q=new yt(li.Q,"Q",3),yt.H=new yt(li.H,"H",2);class nn{constructor(e){this.errorCorrectionLevel=yt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return P.bitCount(e^n)}static decodeFormatInformation(e,n){const r=nn.doDecodeFormatInformation(e,n);return r!==null?r:nn.doDecodeFormatInformation(e^nn.FORMAT_INFO_MASK_QR,n^nn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let r=Number.MAX_SAFE_INTEGER,s=0;for(const o of nn.FORMAT_INFO_DECODE_LOOKUP){const l=o[0];if(l===e||l===n)return new nn(o[1]);let u=nn.numBitsDiffering(e,l);u<r&&(s=o[1],r=u),e!==n&&(u=nn.numBitsDiffering(n,l),u<r&&(s=o[1],r=u))}return r<=3?new nn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof nn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}nn.FORMAT_INFO_MASK_QR=21522,nn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class G{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const r of n)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ke{constructor(e,n,...r){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=r;let s=0;const o=r[0].getECCodewordsPerBlock(),l=r[0].getECBlocks();for(const u of l)s+=u.getCount()*(u.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new re;try{return this.getVersionForNumber((e-17)/4)}catch{throw new re}}static getVersionForNumber(e){if(e<1||e>40)throw new b;return ke.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,r=0;for(let s=0;s<ke.VERSION_DECODE_INFO.length;s++){const o=ke.VERSION_DECODE_INFO[s];if(o===e)return ke.getVersionForNumber(s+7);const l=nn.numBitsDiffering(e,o);l<n&&(r=s+7,n=l)}return n<=3?ke.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new $e(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let s=0;s<r;s++){const o=this.alignmentPatternCenters[s]-2;for(let l=0;l<r;l++)s===0&&(l===0||l===r-1)||s===r-1&&l===0||n.setRegion(this.alignmentPatternCenters[l]-2,o,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ke.VERSIONS=[new ke(1,new Int32Array(0),new G(7,new D(1,19)),new G(10,new D(1,16)),new G(13,new D(1,13)),new G(17,new D(1,9))),new ke(2,Int32Array.from([6,18]),new G(10,new D(1,34)),new G(16,new D(1,28)),new G(22,new D(1,22)),new G(28,new D(1,16))),new ke(3,Int32Array.from([6,22]),new G(15,new D(1,55)),new G(26,new D(1,44)),new G(18,new D(2,17)),new G(22,new D(2,13))),new ke(4,Int32Array.from([6,26]),new G(20,new D(1,80)),new G(18,new D(2,32)),new G(26,new D(2,24)),new G(16,new D(4,9))),new ke(5,Int32Array.from([6,30]),new G(26,new D(1,108)),new G(24,new D(2,43)),new G(18,new D(2,15),new D(2,16)),new G(22,new D(2,11),new D(2,12))),new ke(6,Int32Array.from([6,34]),new G(18,new D(2,68)),new G(16,new D(4,27)),new G(24,new D(4,19)),new G(28,new D(4,15))),new ke(7,Int32Array.from([6,22,38]),new G(20,new D(2,78)),new G(18,new D(4,31)),new G(18,new D(2,14),new D(4,15)),new G(26,new D(4,13),new D(1,14))),new ke(8,Int32Array.from([6,24,42]),new G(24,new D(2,97)),new G(22,new D(2,38),new D(2,39)),new G(22,new D(4,18),new D(2,19)),new G(26,new D(4,14),new D(2,15))),new ke(9,Int32Array.from([6,26,46]),new G(30,new D(2,116)),new G(22,new D(3,36),new D(2,37)),new G(20,new D(4,16),new D(4,17)),new G(24,new D(4,12),new D(4,13))),new ke(10,Int32Array.from([6,28,50]),new G(18,new D(2,68),new D(2,69)),new G(26,new D(4,43),new D(1,44)),new G(24,new D(6,19),new D(2,20)),new G(28,new D(6,15),new D(2,16))),new ke(11,Int32Array.from([6,30,54]),new G(20,new D(4,81)),new G(30,new D(1,50),new D(4,51)),new G(28,new D(4,22),new D(4,23)),new G(24,new D(3,12),new D(8,13))),new ke(12,Int32Array.from([6,32,58]),new G(24,new D(2,92),new D(2,93)),new G(22,new D(6,36),new D(2,37)),new G(26,new D(4,20),new D(6,21)),new G(28,new D(7,14),new D(4,15))),new ke(13,Int32Array.from([6,34,62]),new G(26,new D(4,107)),new G(22,new D(8,37),new D(1,38)),new G(24,new D(8,20),new D(4,21)),new G(22,new D(12,11),new D(4,12))),new ke(14,Int32Array.from([6,26,46,66]),new G(30,new D(3,115),new D(1,116)),new G(24,new D(4,40),new D(5,41)),new G(20,new D(11,16),new D(5,17)),new G(24,new D(11,12),new D(5,13))),new ke(15,Int32Array.from([6,26,48,70]),new G(22,new D(5,87),new D(1,88)),new G(24,new D(5,41),new D(5,42)),new G(30,new D(5,24),new D(7,25)),new G(24,new D(11,12),new D(7,13))),new ke(16,Int32Array.from([6,26,50,74]),new G(24,new D(5,98),new D(1,99)),new G(28,new D(7,45),new D(3,46)),new G(24,new D(15,19),new D(2,20)),new G(30,new D(3,15),new D(13,16))),new ke(17,Int32Array.from([6,30,54,78]),new G(28,new D(1,107),new D(5,108)),new G(28,new D(10,46),new D(1,47)),new G(28,new D(1,22),new D(15,23)),new G(28,new D(2,14),new D(17,15))),new ke(18,Int32Array.from([6,30,56,82]),new G(30,new D(5,120),new D(1,121)),new G(26,new D(9,43),new D(4,44)),new G(28,new D(17,22),new D(1,23)),new G(28,new D(2,14),new D(19,15))),new ke(19,Int32Array.from([6,30,58,86]),new G(28,new D(3,113),new D(4,114)),new G(26,new D(3,44),new D(11,45)),new G(26,new D(17,21),new D(4,22)),new G(26,new D(9,13),new D(16,14))),new ke(20,Int32Array.from([6,34,62,90]),new G(28,new D(3,107),new D(5,108)),new G(26,new D(3,41),new D(13,42)),new G(30,new D(15,24),new D(5,25)),new G(28,new D(15,15),new D(10,16))),new ke(21,Int32Array.from([6,28,50,72,94]),new G(28,new D(4,116),new D(4,117)),new G(26,new D(17,42)),new G(28,new D(17,22),new D(6,23)),new G(30,new D(19,16),new D(6,17))),new ke(22,Int32Array.from([6,26,50,74,98]),new G(28,new D(2,111),new D(7,112)),new G(28,new D(17,46)),new G(30,new D(7,24),new D(16,25)),new G(24,new D(34,13))),new ke(23,Int32Array.from([6,30,54,78,102]),new G(30,new D(4,121),new D(5,122)),new G(28,new D(4,47),new D(14,48)),new G(30,new D(11,24),new D(14,25)),new G(30,new D(16,15),new D(14,16))),new ke(24,Int32Array.from([6,28,54,80,106]),new G(30,new D(6,117),new D(4,118)),new G(28,new D(6,45),new D(14,46)),new G(30,new D(11,24),new D(16,25)),new G(30,new D(30,16),new D(2,17))),new ke(25,Int32Array.from([6,32,58,84,110]),new G(26,new D(8,106),new D(4,107)),new G(28,new D(8,47),new D(13,48)),new G(30,new D(7,24),new D(22,25)),new G(30,new D(22,15),new D(13,16))),new ke(26,Int32Array.from([6,30,58,86,114]),new G(28,new D(10,114),new D(2,115)),new G(28,new D(19,46),new D(4,47)),new G(28,new D(28,22),new D(6,23)),new G(30,new D(33,16),new D(4,17))),new ke(27,Int32Array.from([6,34,62,90,118]),new G(30,new D(8,122),new D(4,123)),new G(28,new D(22,45),new D(3,46)),new G(30,new D(8,23),new D(26,24)),new G(30,new D(12,15),new D(28,16))),new ke(28,Int32Array.from([6,26,50,74,98,122]),new G(30,new D(3,117),new D(10,118)),new G(28,new D(3,45),new D(23,46)),new G(30,new D(4,24),new D(31,25)),new G(30,new D(11,15),new D(31,16))),new ke(29,Int32Array.from([6,30,54,78,102,126]),new G(30,new D(7,116),new D(7,117)),new G(28,new D(21,45),new D(7,46)),new G(30,new D(1,23),new D(37,24)),new G(30,new D(19,15),new D(26,16))),new ke(30,Int32Array.from([6,26,52,78,104,130]),new G(30,new D(5,115),new D(10,116)),new G(28,new D(19,47),new D(10,48)),new G(30,new D(15,24),new D(25,25)),new G(30,new D(23,15),new D(25,16))),new ke(31,Int32Array.from([6,30,56,82,108,134]),new G(30,new D(13,115),new D(3,116)),new G(28,new D(2,46),new D(29,47)),new G(30,new D(42,24),new D(1,25)),new G(30,new D(23,15),new D(28,16))),new ke(32,Int32Array.from([6,34,60,86,112,138]),new G(30,new D(17,115)),new G(28,new D(10,46),new D(23,47)),new G(30,new D(10,24),new D(35,25)),new G(30,new D(19,15),new D(35,16))),new ke(33,Int32Array.from([6,30,58,86,114,142]),new G(30,new D(17,115),new D(1,116)),new G(28,new D(14,46),new D(21,47)),new G(30,new D(29,24),new D(19,25)),new G(30,new D(11,15),new D(46,16))),new ke(34,Int32Array.from([6,34,62,90,118,146]),new G(30,new D(13,115),new D(6,116)),new G(28,new D(14,46),new D(23,47)),new G(30,new D(44,24),new D(7,25)),new G(30,new D(59,16),new D(1,17))),new ke(35,Int32Array.from([6,30,54,78,102,126,150]),new G(30,new D(12,121),new D(7,122)),new G(28,new D(12,47),new D(26,48)),new G(30,new D(39,24),new D(14,25)),new G(30,new D(22,15),new D(41,16))),new ke(36,Int32Array.from([6,24,50,76,102,128,154]),new G(30,new D(6,121),new D(14,122)),new G(28,new D(6,47),new D(34,48)),new G(30,new D(46,24),new D(10,25)),new G(30,new D(2,15),new D(64,16))),new ke(37,Int32Array.from([6,28,54,80,106,132,158]),new G(30,new D(17,122),new D(4,123)),new G(28,new D(29,46),new D(14,47)),new G(30,new D(49,24),new D(10,25)),new G(30,new D(24,15),new D(46,16))),new ke(38,Int32Array.from([6,32,58,84,110,136,162]),new G(30,new D(4,122),new D(18,123)),new G(28,new D(13,46),new D(32,47)),new G(30,new D(48,24),new D(14,25)),new G(30,new D(42,15),new D(32,16))),new ke(39,Int32Array.from([6,26,54,82,110,138,166]),new G(30,new D(20,117),new D(4,118)),new G(28,new D(40,47),new D(7,48)),new G(30,new D(43,24),new D(22,25)),new G(30,new D(10,15),new D(67,16))),new ke(40,Int32Array.from([6,30,58,86,114,142,170]),new G(30,new D(19,118),new D(6,119)),new G(28,new D(18,47),new D(31,48)),new G(30,new D(34,24),new D(34,25)),new G(30,new D(20,15),new D(61,16)))];var jt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(jt||(jt={}));class Ke{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let r=0;r<n;r++)for(let s=0;s<n;s++)this.isMasked(r,s)&&e.flip(s,r)}}Ke.values=new Map([[jt.DATA_MASK_000,new Ke(jt.DATA_MASK_000,(A,e)=>(A+e&1)===0)],[jt.DATA_MASK_001,new Ke(jt.DATA_MASK_001,(A,e)=>(A&1)===0)],[jt.DATA_MASK_010,new Ke(jt.DATA_MASK_010,(A,e)=>e%3===0)],[jt.DATA_MASK_011,new Ke(jt.DATA_MASK_011,(A,e)=>(A+e)%3===0)],[jt.DATA_MASK_100,new Ke(jt.DATA_MASK_100,(A,e)=>(Math.floor(A/2)+Math.floor(e/3)&1)===0)],[jt.DATA_MASK_101,new Ke(jt.DATA_MASK_101,(A,e)=>A*e%6===0)],[jt.DATA_MASK_110,new Ke(jt.DATA_MASK_110,(A,e)=>A*e%6<3)],[jt.DATA_MASK_111,new Ke(jt.DATA_MASK_111,(A,e)=>(A+e+A*e%3&1)===0)]]);class Uo{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new re;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let o=0;o<6;o++)e=this.copyBit(o,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let o=5;o>=0;o--)e=this.copyBit(8,o,e);const n=this.bitMatrix.getHeight();let r=0;const s=n-7;for(let o=n-1;o>=s;o--)r=this.copyBit(8,o,r);for(let o=n-8;o<n;o++)r=this.copyBit(o,8,r);if(this.parsedFormatInfo=nn.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new re}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return ke.getVersionForNumber(n);let r=0;const s=e-11;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(u,l,r);let o=ke.decodeVersionInformation(r);if(o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;r=0;for(let l=5;l>=0;l--)for(let u=e-9;u>=s;u--)r=this.copyBit(l,u,r);if(o=ke.decodeVersionInformation(r),o!==null&&o.getDimensionForVersion()===e)return this.parsedVersion=o,o;throw new re}copyBit(e,n,r){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),r=Ke.values.get(e.getDataMask()),s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s);const o=n.buildFunctionPattern();let l=!0;const u=new Uint8Array(n.getTotalCodewords());let d=0,p=0,C=0;for(let S=s-1;S>0;S-=2){S===6&&S--;for(let T=0;T<s;T++){const M=l?s-1-T:T;for(let L=0;L<2;L++)o.get(S-L,M)||(C++,p<<=1,this.bitMatrix.get(S-L,M)&&(p|=1),C===8&&(u[d++]=p,C=0,p=0))}l=!l}if(d!==n.getTotalCodewords())throw new re;return u}remask(){if(this.parsedFormatInfo===null)return;const e=Ke.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,r=e.getWidth();n<r;n++)for(let s=n+1,o=e.getHeight();s<o;s++)e.get(n,s)!==e.get(s,n)&&(e.flip(s,n),e.flip(n,s))}}class us{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,r){if(e.length!==n.getTotalCodewords())throw new b;const s=n.getECBlocksForLevel(r);let o=0;const l=s.getECBlocks();for(const L of l)o+=L.getCount();const u=new Array(o);let d=0;for(const L of l)for(let j=0;j<L.getCount();j++){const V=L.getDataCodewords(),K=s.getECCodewordsPerBlock()+V;u[d++]=new us(V,new Uint8Array(K))}const p=u[0].codewords.length;let C=u.length-1;for(;C>=0&&u[C].codewords.length!==p;)C--;C++;const S=p-s.getECCodewordsPerBlock();let T=0;for(let L=0;L<S;L++)for(let j=0;j<d;j++)u[j].codewords[L]=e[T++];for(let L=C;L<d;L++)u[L].codewords[S]=e[T++];const M=u[0].codewords.length;for(let L=S;L<M;L++)for(let j=0;j<d;j++){const V=j<C?L:L+1;u[j].codewords[V]=e[T++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var In;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(In||(In={}));class Pe{constructor(e,n,r,s){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=s,Pe.FOR_BITS.set(s,this),Pe.FOR_VALUE.set(e,this)}static forBits(e){const n=Pe.FOR_BITS.get(e);if(n===void 0)throw new b;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let r;return n<=9?r=0:n<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Pe))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Pe.FOR_BITS=new Map,Pe.FOR_VALUE=new Map,Pe.TERMINATOR=new Pe(In.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Pe.NUMERIC=new Pe(In.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Pe.ALPHANUMERIC=new Pe(In.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Pe.STRUCTURED_APPEND=new Pe(In.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Pe.BYTE=new Pe(In.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Pe.ECI=new Pe(In.ECI,"ECI",Int32Array.from([0,0,0]),7),Pe.KANJI=new Pe(In.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Pe.FNC1_FIRST_POSITION=new Pe(In.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Pe.FNC1_SECOND_POSITION=new Pe(In.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Pe.HANZI=new Pe(In.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Rt{static decode(e,n,r,s){const o=new Xs(e);let l=new Xe;const u=new Array;let d=-1,p=-1;try{let C=null,S=!1,T;do{if(o.available()<4)T=Pe.TERMINATOR;else{const M=o.readBits(4);T=Pe.forBits(M)}switch(T){case Pe.TERMINATOR:break;case Pe.FNC1_FIRST_POSITION:case Pe.FNC1_SECOND_POSITION:S=!0;break;case Pe.STRUCTURED_APPEND:if(o.available()<16)throw new re;d=o.readBits(8),p=o.readBits(8);break;case Pe.ECI:const M=Rt.parseECIValue(o);if(C=te.getCharacterSetECIByValue(M),C===null)throw new re;break;case Pe.HANZI:const L=o.readBits(4),j=o.readBits(T.getCharacterCountBits(n));L===Rt.GB2312_SUBSET&&Rt.decodeHanziSegment(o,l,j);break;default:const V=o.readBits(T.getCharacterCountBits(n));switch(T){case Pe.NUMERIC:Rt.decodeNumericSegment(o,l,V);break;case Pe.ALPHANUMERIC:Rt.decodeAlphanumericSegment(o,l,V,S);break;case Pe.BYTE:Rt.decodeByteSegment(o,l,V,C,u,s);break;case Pe.KANJI:Rt.decodeKanjiSegment(o,l,V);break;default:throw new re}break}}while(T!==Pe.TERMINATOR)}catch{throw new re}return new mt(e,l.toString(),u.length===0?null:u,r===null?null:r.toString(),d,p)}static decodeHanziSegment(e,n,r){if(r*13>e.available())throw new re;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/96<<8&4294967295|l%96;u<959?u+=41377:u+=42657,s[o]=u>>8&255,s[o+1]=u&255,o+=2,r--}try{n.append(qe.decode(s,ve.GB2312))}catch(l){throw new re(l)}}static decodeKanjiSegment(e,n,r){if(r*13>e.available())throw new re;const s=new Uint8Array(2*r);let o=0;for(;r>0;){const l=e.readBits(13);let u=l/192<<8&4294967295|l%192;u<7936?u+=33088:u+=49472,s[o]=u>>8,s[o+1]=u,o+=2,r--}try{n.append(qe.decode(s,ve.SHIFT_JIS))}catch(l){throw new re(l)}}static decodeByteSegment(e,n,r,s,o,l){if(8*r>e.available())throw new re;const u=new Uint8Array(r);for(let p=0;p<r;p++)u[p]=e.readBits(8);let d;s===null?d=ve.guessEncoding(u,l):d=s.getName();try{n.append(qe.decode(u,d))}catch(p){throw new re(p)}o.push(u)}static toAlphaNumericChar(e){if(e>=Rt.ALPHANUMERIC_CHARS.length)throw new re;return Rt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,r,s){const o=n.length();for(;r>1;){if(e.available()<11)throw new re;const l=e.readBits(11);n.append(Rt.toAlphaNumericChar(Math.floor(l/45))),n.append(Rt.toAlphaNumericChar(l%45)),r-=2}if(r===1){if(e.available()<6)throw new re;n.append(Rt.toAlphaNumericChar(e.readBits(6)))}if(s)for(let l=o;l<n.length();l++)n.charAt(l)==="%"&&(l<n.length()-1&&n.charAt(l+1)==="%"?n.deleteCharAt(l+1):n.setCharAt(l,""))}static decodeNumericSegment(e,n,r){for(;r>=3;){if(e.available()<10)throw new re;const s=e.readBits(10);if(s>=1e3)throw new re;n.append(Rt.toAlphaNumericChar(Math.floor(s/100))),n.append(Rt.toAlphaNumericChar(Math.floor(s/10)%10)),n.append(Rt.toAlphaNumericChar(s%10)),r-=3}if(r===2){if(e.available()<7)throw new re;const s=e.readBits(7);if(s>=100)throw new re;n.append(Rt.toAlphaNumericChar(Math.floor(s/10))),n.append(Rt.toAlphaNumericChar(s%10))}else if(r===1){if(e.available()<4)throw new re;const s=e.readBits(4);if(s>=10)throw new re;n.append(Rt.toAlphaNumericChar(s))}}static parseECIValue(e){const n=e.readBits(8);if((n&128)===0)return n&127;if((n&192)===128){const r=e.readBits(8);return(n&63)<<8&4294967295|r}if((n&224)===192){const r=e.readBits(16);return(n&31)<<16&4294967295|r}throw new re}}Rt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Rt.GB2312_SUBSET=1;class Ys{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Zs{constructor(){this.rsDecoder=new ni(lt.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix($e.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const r=new Uo(e);let s=null;try{return this.decodeBitMatrixParser(r,n)}catch(o){s=o}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const o=this.decodeBitMatrixParser(r,n);return o.setOther(new Ys(!0)),o}catch(o){throw s!==null?s:o}}decodeBitMatrixParser(e,n){const r=e.readVersion(),s=e.readFormatInformation().getErrorCorrectionLevel(),o=e.readCodewords(),l=us.getDataBlocks(o,r,s);let u=0;for(const C of l)u+=C.getNumDataCodewords();const d=new Uint8Array(u);let p=0;for(const C of l){const S=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(S,T);for(let M=0;M<T;M++)d[p++]=S[M]}return Rt.decode(d,r,s,n)}correctErrors(e,n){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-n)}catch{throw new H}for(let s=0;s<n;s++)e[s]=r[s]}}class ai extends Re{constructor(e,n,r){super(e,n),this.estimatedModuleSize=r}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=(this.getX()+n)/2,o=(this.getY()+e)/2,l=(this.estimatedModuleSize+r)/2;return new ai(s,o,l)}}class Kn{constructor(e,n,r,s,o,l,u){this.image=e,this.startX=n,this.startY=r,this.width=s,this.height=o,this.moduleSize=l,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,r=this.width,s=e+r,o=this.startY+n/2,l=new Int32Array(3),u=this.image;for(let d=0;d<n;d++){const p=o+((d&1)===0?Math.floor((d+1)/2):-Math.floor((d+1)/2));l[0]=0,l[1]=0,l[2]=0;let C=e;for(;C<s&&!u.get(C,p);)C++;let S=0;for(;C<s;){if(u.get(C,p))if(S===1)l[1]++;else if(S===2){if(this.foundPatternCross(l)){const T=this.handlePossibleCenter(l,p,C);if(T!==null)return T}l[0]=l[2],l[1]=1,l[2]=0,S=1}else l[++S]++;else S===1&&S++,l[S]++;C++}if(this.foundPatternCross(l)){const T=this.handlePossibleCenter(l,p,s);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,r=n/2;for(let s=0;s<3;s++)if(Math.abs(n-e[s])>=r)return!1;return!0}crossCheckVertical(e,n,r,s){const o=this.image,l=o.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let d=e;for(;d>=0&&o.get(n,d)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&!o.get(n,d)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(n,d)&&u[1]<=r;)u[1]++,d++;if(d===l||u[1]>r)return NaN;for(;d<l&&!o.get(n,d)&&u[2]<=r;)u[2]++,d++;if(u[2]>r)return NaN;const p=u[0]+u[1]+u[2];return 5*Math.abs(p-s)>=2*s?NaN:this.foundPatternCross(u)?Kn.centerFromEnd(u,d):NaN}handlePossibleCenter(e,n,r){const s=e[0]+e[1]+e[2],o=Kn.centerFromEnd(e,r),l=this.crossCheckVertical(n,o,2*e[1],s);if(!isNaN(l)){const u=(e[0]+e[1]+e[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(u,l,o))return p.combineEstimate(l,o,u);const d=new ai(o,l,u);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class or extends Re{constructor(e,n,r,s){super(e,n),this.estimatedModuleSize=r,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,r){if(Math.abs(n-this.getY())<=e&&Math.abs(r-this.getX())<=e){const s=Math.abs(e-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(e,n,r){const s=this.count+1,o=(this.count*this.getX()+n)/s,l=(this.count*this.getY()+e)/s,u=(this.count*this.estimatedModuleSize+r)/s;return new or(o,l,u,s)}}class Or{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Mt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(Ee.TRY_HARDER)!==void 0,r=e!=null&&e.get(Ee.PURE_BARCODE)!==void 0,s=this.image,o=s.getHeight(),l=s.getWidth();let u=Math.floor(3*o/(4*Mt.MAX_MODULES));(u<Mt.MIN_SKIP||n)&&(u=Mt.MIN_SKIP);let d=!1;const p=new Int32Array(5);for(let S=u-1;S<o&&!d;S+=u){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let T=0;for(let M=0;M<l;M++)if(s.get(M,S))(T&1)===1&&T++,p[T]++;else if((T&1)===0)if(T===4)if(Mt.foundPatternCross(p)){if(this.handlePossibleCenter(p,S,M,r)===!0)if(u=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>p[2]&&(S+=j-p[2]-u,M=l-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,T=3;continue}T=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,T=3;else p[++T]++;else p[T]++;Mt.foundPatternCross(p)&&this.handlePossibleCenter(p,S,l,r)===!0&&(u=p[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Re.orderBestPatterns(C),new Or(C)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let o=0;o<5;o++){const l=e[o];if(l===0)return!1;n+=l}if(n<7)return!1;const r=n/7,s=r/2;return Math.abs(r-e[0])<s&&Math.abs(r-e[1])<s&&Math.abs(3*r-e[2])<3*s&&Math.abs(r-e[3])<s&&Math.abs(r-e[4])<s}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,r,s){const o=this.getCrossCheckStateCount();let l=0;const u=this.image;for(;e>=l&&n>=l&&u.get(n-l,e-l);)o[2]++,l++;if(e<l||n<l)return!1;for(;e>=l&&n>=l&&!u.get(n-l,e-l)&&o[1]<=r;)o[1]++,l++;if(e<l||n<l||o[1]>r)return!1;for(;e>=l&&n>=l&&u.get(n-l,e-l)&&o[0]<=r;)o[0]++,l++;if(o[0]>r)return!1;const d=u.getHeight(),p=u.getWidth();for(l=1;e+l<d&&n+l<p&&u.get(n+l,e+l);)o[2]++,l++;if(e+l>=d||n+l>=p)return!1;for(;e+l<d&&n+l<p&&!u.get(n+l,e+l)&&o[3]<r;)o[3]++,l++;if(e+l>=d||n+l>=p||o[3]>=r)return!1;for(;e+l<d&&n+l<p&&u.get(n+l,e+l)&&o[4]<r;)o[4]++,l++;if(o[4]>=r)return!1;const C=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(C-s)<2*s&&Mt.foundPatternCross(o)}crossCheckVertical(e,n,r,s){const o=this.image,l=o.getHeight(),u=this.getCrossCheckStateCount();let d=e;for(;d>=0&&o.get(n,d);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(n,d)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&o.get(n,d)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(n,d);)u[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(n,d)&&u[3]<r;)u[3]++,d++;if(d===l||u[3]>=r)return NaN;for(;d<l&&o.get(n,d)&&u[4]<r;)u[4]++,d++;if(u[4]>=r)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-s)>=2*s?NaN:Mt.foundPatternCross(u)?Mt.centerFromEnd(u,d):NaN}crossCheckHorizontal(e,n,r,s){const o=this.image,l=o.getWidth(),u=this.getCrossCheckStateCount();let d=e;for(;d>=0&&o.get(d,n);)u[2]++,d--;if(d<0)return NaN;for(;d>=0&&!o.get(d,n)&&u[1]<=r;)u[1]++,d--;if(d<0||u[1]>r)return NaN;for(;d>=0&&o.get(d,n)&&u[0]<=r;)u[0]++,d--;if(u[0]>r)return NaN;for(d=e+1;d<l&&o.get(d,n);)u[2]++,d++;if(d===l)return NaN;for(;d<l&&!o.get(d,n)&&u[3]<r;)u[3]++,d++;if(d===l||u[3]>=r)return NaN;for(;d<l&&o.get(d,n)&&u[4]<r;)u[4]++,d++;if(u[4]>=r)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-s)>=s?NaN:Mt.foundPatternCross(u)?Mt.centerFromEnd(u,d):NaN}handlePossibleCenter(e,n,r,s){const o=e[0]+e[1]+e[2]+e[3]+e[4];let l=Mt.centerFromEnd(e,r),u=this.crossCheckVertical(n,Math.floor(l),e[2],o);if(!isNaN(u)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(u),e[2],o),!isNaN(l)&&(!s||this.crossCheckDiagonal(Math.floor(u),Math.floor(l),e[2],o)))){const d=o/7;let p=!1;const C=this.possibleCenters;for(let S=0,T=C.length;S<T;S++){const M=C[S];if(M.aboutEquals(d,u,l)){C[S]=M.combineEstimate(u,l,d),p=!0;break}}if(!p){const S=new or(l,u,d);C.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const r of this.possibleCenters)if(r.getCount()>=Mt.CENTER_QUORUM)if(n==null)n=r;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-r.getX())-Math.abs(n.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const r=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=Mt.CENTER_QUORUM&&(e++,n+=l.getEstimatedModuleSize());if(e<3)return!1;const s=n/r;let o=0;for(const l of this.possibleCenters)o+=Math.abs(l.getEstimatedModuleSize()-s);return o<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new $;const n=this.possibleCenters;let r;if(e>3){let s=0,o=0;for(const d of this.possibleCenters){const p=d.getEstimatedModuleSize();s+=p,o+=p*p}r=s/e;let l=Math.sqrt(o/e-r*r);n.sort((d,p)=>{const C=Math.abs(p.getEstimatedModuleSize()-r),S=Math.abs(d.getEstimatedModuleSize()-r);return C<S?-1:C>S?1:0});const u=Math.max(.2*r,l);for(let d=0;d<n.length&&n.length>3;d++){const p=n[d];Math.abs(p.getEstimatedModuleSize()-r)>u&&(n.splice(d,1),d--)}}if(n.length>3){let s=0;for(const o of n)s+=o.getEstimatedModuleSize();r=s/n.length,n.sort((o,l)=>{if(l.getCount()===o.getCount()){const u=Math.abs(l.getEstimatedModuleSize()-r),d=Math.abs(o.getEstimatedModuleSize()-r);return u<d?1:u>d?-1:0}else return l.getCount()-o.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Mt.CENTER_QUORUM=2,Mt.MIN_SKIP=3,Mt.MAX_MODULES=57;class xr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Ee.NEED_RESULT_POINT_CALLBACK);const r=new Mt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const n=e.getTopLeft(),r=e.getTopRight(),s=e.getBottomLeft(),o=this.calculateModuleSize(n,r,s);if(o<1)throw new $("No pattern found in proccess finder.");const l=xr.computeDimension(n,r,s,o),u=ke.getProvisionalVersionForDimension(l),d=u.getDimensionForVersion()-7;let p=null;if(u.getAlignmentPatternCenters().length>0){const M=r.getX()-n.getX()+s.getX(),L=r.getY()-n.getY()+s.getY(),j=1-3/d,V=Math.floor(n.getX()+j*(M-n.getX())),K=Math.floor(n.getY()+j*(L-n.getY()));for(let de=4;de<=16;de<<=1)try{p=this.findAlignmentInRegion(o,V,K,de);break}catch(he){if(!(he instanceof $))throw he}}const C=xr.createTransform(n,r,s,p,l),S=xr.sampleGrid(this.image,C,l);let T;return p===null?T=[s,n,r]:T=[s,n,r,p],new ri(S,T)}static createTransform(e,n,r,s,o){const l=o-3.5;let u,d,p,C;return s!==null?(u=s.getX(),d=s.getY(),p=l-3,C=p):(u=n.getX()-e.getX()+r.getX(),d=n.getY()-e.getY()+r.getY(),p=l,C=l),kn.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,p,C,3.5,l,e.getX(),e.getY(),n.getX(),n.getY(),u,d,r.getX(),r.getY())}static sampleGrid(e,n,r){return Gn.getInstance().sampleGridWithTransform(e,r,r,n)}static computeDimension(e,n,r,s){const o=nt.round(Re.distance(e,n)/s),l=nt.round(Re.distance(e,r)/s);let u=Math.floor((o+l)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new $("Dimensions could be not found.")}return u}calculateModuleSize(e,n,r){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,n){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?s/7:isNaN(s)?r/7:(r+s)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,r,s){let o=this.sizeOfBlackWhiteBlackRun(e,n,r,s),l=1,u=e-(r-e);u<0?(l=e/(e-u),u=0):u>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(u-e),u=this.image.getWidth()-1);let d=Math.floor(n-(s-n)*l);return l=1,d<0?(l=n/(n-d),d=0):d>=this.image.getHeight()&&(l=(this.image.getHeight()-1-n)/(d-n),d=this.image.getHeight()-1),u=Math.floor(e+(u-e)*l),o+=this.sizeOfBlackWhiteBlackRun(e,n,u,d),o-1}sizeOfBlackWhiteBlackRun(e,n,r,s){const o=Math.abs(s-n)>Math.abs(r-e);if(o){let M=e;e=n,n=M,M=r,r=s,s=M}const l=Math.abs(r-e),u=Math.abs(s-n);let d=-l/2;const p=e<r?1:-1,C=n<s?1:-1;let S=0;const T=r+p;for(let M=e,L=n;M!==T;M+=p){const j=o?L:M,V=o?M:L;if(S===1===this.image.get(j,V)){if(S===2)return nt.distance(M,L,e,n);S++}if(d+=u,d>0){if(L===s)break;L+=C,d-=l}}return S===2?nt.distance(r+p,s,e,n):NaN}findAlignmentInRegion(e,n,r,s){const o=Math.floor(s*e),l=Math.max(0,n-o),u=Math.min(this.image.getWidth()-1,n+o);if(u-l<e*3)throw new $("Alignment top exceeds estimated module size.");const d=Math.max(0,r-o),p=Math.min(this.image.getHeight()-1,r+o);if(p-d<e*3)throw new $("Alignment bottom exceeds estimated module size.");return new Kn(this.image,l,d,u-l,p-d,e,this.resultPointCallback).find()}}class wn{constructor(){this.decoder=new Zs}getDecoder(){return this.decoder}decode(e,n){let r,s;if(n!=null&&n.get(Ee.PURE_BARCODE)!==void 0){const d=wn.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(d,n),s=wn.NO_POINTS}else{const d=new xr(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(d.getBits(),n),s=d.getPoints()}r.getOther()instanceof Ys&&r.getOther().applyMirroredCorrection(s);const o=new Be(r.getText(),r.getRawBytes(),void 0,s,pe.QR_CODE,void 0),l=r.getByteSegments();l!==null&&o.putMetadata(Ve.BYTE_SEGMENTS,l);const u=r.getECLevel();return u!==null&&o.putMetadata(Ve.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(o.putMetadata(Ve.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),o.putMetadata(Ve.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),o}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(n===null||r===null)throw new $;const s=this.moduleSize(n,e);let o=n[1],l=r[1],u=n[0],d=r[0];if(u>=d||o>=l)throw new $;if(l-o!==d-u&&(d=u+(l-o),d>=e.getWidth()))throw new $;const p=Math.round((d-u+1)/s),C=Math.round((l-o+1)/s);if(p<=0||C<=0)throw new $;if(C!==p)throw new $;const S=Math.floor(s/2);o+=S,u+=S;const T=u+Math.floor((p-1)*s)-d;if(T>0){if(T>S)throw new $;u-=T}const M=o+Math.floor((C-1)*s)-l;if(M>0){if(M>S)throw new $;o-=M}const L=new $e(p,C);for(let j=0;j<C;j++){const V=o+Math.floor(j*s);for(let K=0;K<p;K++)e.get(u+Math.floor(K*s),V)&&L.set(K,j)}return L}static moduleSize(e,n){const r=n.getHeight(),s=n.getWidth();let o=e[0],l=e[1],u=!0,d=0;for(;o<s&&l<r;){if(u!==n.get(o,l)){if(++d===5)break;u=!u}o++,l++}if(o===s||l===r)throw new $;return(o-e[0])/7}}wn.NO_POINTS=new Array;class je{PDF417Common(){}static getBitCountSum(e){return nt.sum(e)}static toIntArray(e){if(e==null||!e.length)return je.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let r=0;for(const s of e)n[r++]=s;return n}static getCodeword(e){const n=le.binarySearch(je.SYMBOL_TABLE,e&262143);return n<0?-1:(je.CODEWORD_TABLE[n]-1)%je.NUMBER_OF_CODEWORDS}}je.NUMBER_OF_CODEWORDS=929,je.MAX_CODEWORDS_IN_BARCODE=je.NUMBER_OF_CODEWORDS-1,je.MIN_ROWS_IN_BARCODE=3,je.MAX_ROWS_IN_BARCODE=90,je.MODULES_IN_CODEWORD=17,je.MODULES_IN_STOP_PATTERN=18,je.BARS_IN_MODULE=8,je.EMPTY_INT_ARRAY=new Int32Array([]),je.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),je.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class jo{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class He{static detectMultiple(e,n,r){let s=e.getBlackMatrix(),o=He.detect(r,s);return o.length||(s=s.clone(),s.rotate180(),o=He.detect(r,s)),new jo(s,o)}static detect(e,n){const r=new Array;let s=0,o=0,l=!1;for(;s<n.getHeight();){const u=He.findVertices(n,s,o);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,o=0;for(const d of r)d[1]!=null&&(s=Math.trunc(Math.max(s,d[1].getY()))),d[3]!=null&&(s=Math.max(s,Math.trunc(d[3].getY())));s+=He.ROW_STEP;continue}if(l=!0,r.push(u),!e)break;u[2]!=null?(o=Math.trunc(u[2].getX()),s=Math.trunc(u[2].getY())):(o=Math.trunc(u[4].getX()),s=Math.trunc(u[4].getY()))}return r}static findVertices(e,n,r){const s=e.getHeight(),o=e.getWidth(),l=new Array(8);return He.copyToResult(l,He.findRowsWithPattern(e,s,o,n,r,He.START_PATTERN),He.INDEXES_START_PATTERN),l[4]!=null&&(r=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY())),He.copyToResult(l,He.findRowsWithPattern(e,s,o,n,r,He.STOP_PATTERN),He.INDEXES_STOP_PATTERN),l}static copyToResult(e,n,r){for(let s=0;s<r.length;s++)e[r[s]]=n[s]}static findRowsWithPattern(e,n,r,s,o,l){const u=new Array(4);let d=!1;const p=new Int32Array(l.length);for(;s<n;s+=He.ROW_STEP){let S=He.findGuardPattern(e,o,s,r,!1,l,p);if(S!=null){for(;s>0;){const T=He.findGuardPattern(e,o,--s,r,!1,l,p);if(T!=null)S=T;else{s++;break}}u[0]=new Re(S[0],s),u[1]=new Re(S[1],s),d=!0;break}}let C=s+1;if(d){let S=0,T=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;C<n;C++){const M=He.findGuardPattern(e,T[0],C,r,!1,l,p);if(M!=null&&Math.abs(T[0]-M[0])<He.MAX_PATTERN_DRIFT&&Math.abs(T[1]-M[1])<He.MAX_PATTERN_DRIFT)T=M,S=0;else{if(S>He.SKIPPED_ROW_COUNT_MAX)break;S++}}C-=S+1,u[2]=new Re(T[0],C),u[3]=new Re(T[1],C)}return C-s<He.BARCODE_MIN_HEIGHT&&le.fill(u,null),u}static findGuardPattern(e,n,r,s,o,l,u){le.fillWithin(u,0,u.length,0);let d=n,p=0;for(;e.get(d,r)&&d>0&&p++<He.MAX_PIXEL_DRIFT;)d--;let C=d,S=0,T=l.length;for(let M=o;C<s;C++)if(e.get(C,r)!==M)u[S]++;else{if(S===T-1){if(He.patternMatchVariance(u,l,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return new Int32Array([d,C]);d+=u[0]+u[1],Y.arraycopy(u,2,u,0,S-1),u[S-1]=0,u[S]=0,S--}else S++;u[S]=1,M=!M}return S===T-1&&He.patternMatchVariance(u,l,He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE?new Int32Array([d,C-1]):null}static patternMatchVariance(e,n,r){let s=e.length,o=0,l=0;for(let p=0;p<s;p++)o+=e[p],l+=n[p];if(o<l)return 1/0;let u=o/l;r*=u;let d=0;for(let p=0;p<s;p++){let C=e[p],S=n[p]*u,T=C>S?C-S:S-C;if(T>r)return 1/0;d+=T}return d/o}}He.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),He.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),He.MAX_AVG_VARIANCE=.42,He.MAX_INDIVIDUAL_VARIANCE=.8,He.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),He.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),He.MAX_PIXEL_DRIFT=3,He.MAX_PATTERN_DRIFT=5,He.SKIPPED_ROW_COUNT_MAX=25,He.ROW_STEP=5,He.BARCODE_MIN_HEIGHT=10;class rn{constructor(e,n){if(n.length===0)throw new b;this.field=e;let r=n.length;if(r>1&&n[0]===0){let s=1;for(;s<r&&n[s]===0;)s++;s===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-s),Y.arraycopy(n,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let s=0;for(let o of this.coefficients)s=this.field.add(s,o);return s}let n=this.coefficients[0],r=this.coefficients.length;for(let s=1;s<r;s++)n=this.field.add(this.field.multiply(e,n),this.coefficients[s]);return n}add(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,r=e.coefficients;if(n.length>r.length){let l=n;n=r,r=l}let s=new Int32Array(r.length),o=r.length-n.length;Y.arraycopy(r,0,s,0,o);for(let l=o;l<r.length;l++)s[l]=this.field.add(n[l-o],r[l]);return new rn(this.field,s)}subtract(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof rn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new rn(this.field,new Int32Array([0]));let n=this.coefficients,r=n.length,s=e.coefficients,o=s.length,l=new Int32Array(r+o-1);for(let u=0;u<r;u++){let d=n[u];for(let p=0;p<o;p++)l[u+p]=this.field.add(l[u+p],this.field.multiply(d,s[p]))}return new rn(this.field,l)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new rn(this.field,n)}multiplyScalar(e){if(e===0)return new rn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.multiply(this.coefficients[s],e);return new rn(this.field,r)}multiplyByMonomial(e,n){if(e<0)throw new b;if(n===0)return new rn(this.field,new Int32Array([0]));let r=this.coefficients.length,s=new Int32Array(r+e);for(let o=0;o<r;o++)s[o]=this.field.multiply(this.coefficients[o],n);return new rn(this.field,s)}toString(){let e=new Xe;for(let n=this.getDegree();n>=0;n--){let r=this.getCoefficient(n);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(n===0||r!==1)&&e.append(r),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class zo{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new b;return this.logTable[e]}inverse(e){if(e===0)throw new bi;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ui extends zo{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let s=0;s<e;s++)this.expTable[s]=r,r=r*n%e;for(let s=0;s<e-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new rn(this,new Int32Array([0])),this.one=new rn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new b;if(n===0)return this.zero;let r=new Int32Array(e+1);return r[0]=n,new rn(this,r)}}ui.PDF417_GF=new ui(je.NUMBER_OF_CODEWORDS,3);class Qs{constructor(){this.field=ui.PDF417_GF}decode(e,n,r){let s=new rn(this.field,e),o=new Int32Array(n),l=!1;for(let L=n;L>0;L--){let j=s.evaluateAt(this.field.exp(L));o[n-L]=j,j!==0&&(l=!0)}if(!l)return 0;let u=this.field.getOne();if(r!=null)for(const L of r){let j=this.field.exp(e.length-1-L),V=new rn(this.field,new Int32Array([this.field.subtract(0,j),1]));u=u.multiply(V)}let d=new rn(this.field,o),p=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),d,n),C=p[0],S=p[1],T=this.findErrorLocations(C),M=this.findErrorMagnitudes(S,C,T);for(let L=0;L<T.length;L++){let j=e.length-1-this.field.log(T[L]);if(j<0)throw H.getChecksumInstance();e[j]=this.field.subtract(e[j],M[L])}return T.length}runEuclideanAlgorithm(e,n,r){if(e.getDegree()<n.getDegree()){let T=e;e=n,n=T}let s=e,o=n,l=this.field.getZero(),u=this.field.getOne();for(;o.getDegree()>=Math.round(r/2);){let T=s,M=l;if(s=o,l=u,s.isZero())throw H.getChecksumInstance();o=T;let L=this.field.getZero(),j=s.getCoefficient(s.getDegree()),V=this.field.inverse(j);for(;o.getDegree()>=s.getDegree()&&!o.isZero();){let K=o.getDegree()-s.getDegree(),de=this.field.multiply(o.getCoefficient(o.getDegree()),V);L=L.add(this.field.buildMonomial(K,de)),o=o.subtract(s.multiplyByMonomial(K,de))}u=L.multiply(l).subtract(M).negative()}let d=u.getCoefficient(0);if(d===0)throw H.getChecksumInstance();let p=this.field.inverse(d),C=u.multiply(p),S=o.multiply(p);return[C,S]}findErrorLocations(e){let n=e.getDegree(),r=new Int32Array(n),s=0;for(let o=1;o<this.field.getSize()&&s<n;o++)e.evaluateAt(o)===0&&(r[s]=this.field.inverse(o),s++);if(s!==n)throw H.getChecksumInstance();return r}findErrorMagnitudes(e,n,r){let s=n.getDegree(),o=new Int32Array(s);for(let p=1;p<=s;p++)o[s-p]=this.field.multiply(p,n.getCoefficient(p));let l=new rn(this.field,o),u=r.length,d=new Int32Array(u);for(let p=0;p<u;p++){let C=this.field.inverse(r[p]),S=this.field.subtract(0,e.evaluateAt(C)),T=this.field.inverse(l.evaluateAt(C));d[p]=this.field.multiply(S,T)}return d}}class Ur{constructor(e,n,r,s,o){e instanceof Ur?this.constructor_2(e):this.constructor_1(e,n,r,s,o)}constructor_1(e,n,r,s,o){const l=n==null||r==null,u=s==null||o==null;if(l&&u)throw new $;l?(n=new Re(0,s.getY()),r=new Re(0,o.getY())):u&&(s=new Re(e.getWidth()-1,n.getY()),o=new Re(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=n,this.bottomLeft=r,this.topRight=s,this.bottomRight=o,this.minX=Math.trunc(Math.min(n.getX(),r.getX())),this.maxX=Math.trunc(Math.max(s.getX(),o.getX())),this.minY=Math.trunc(Math.min(n.getY(),s.getY())),this.maxY=Math.trunc(Math.max(r.getY(),o.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Ur(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,r){let s=this.topLeft,o=this.bottomLeft,l=this.topRight,u=this.bottomRight;if(e>0){let d=r?this.topLeft:this.topRight,p=Math.trunc(d.getY()-e);p<0&&(p=0);let C=new Re(d.getX(),p);r?s=C:l=C}if(n>0){let d=r?this.bottomLeft:this.bottomRight,p=Math.trunc(d.getY()+n);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let C=new Re(d.getX(),p);r?o=C:u=C}return new Ur(this.image,s,o,l,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Pi{constructor(e,n,r,s){this.columnCount=e,this.errorCorrectionLevel=s,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class mr{constructor(){this.buffer=""}static form(e,n){let r=-1;function s(l,u,d,p,C,S){if(l==="%%")return"%";if(n[++r]===void 0)return;l=p?parseInt(p.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,M;switch(S){case"s":M=n[r];break;case"c":M=n[r][0];break;case"f":M=parseFloat(n[r]).toFixed(l);break;case"p":M=parseFloat(n[r]).toPrecision(l);break;case"e":M=parseFloat(n[r]).toExponential(l);break;case"x":M=parseInt(n[r]).toString(T||16);break;case"d":M=parseFloat(parseInt(n[r],T||10).toPrecision(l)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(T);let L=parseInt(d),j=d&&d[0]+""=="0"?"0":" ";for(;M.length<L;)M=u!==void 0?M+j:j+M;return M}let o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,s)}format(e,...n){this.buffer+=mr.form(e,n)}toString(){return this.buffer}}class lr{constructor(e){this.boundingBox=new Ur(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let r=1;r<lr.MAX_NEARBY_DISTANCE;r++){let s=this.imageRowToCodewordIndex(e)-r;if(s>=0&&(n=this.codewords[s],n!=null)||(s=this.imageRowToCodewordIndex(e)+r,s<this.codewords.length&&(n=this.codewords[s],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new mr;let n=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,r.getRowNumber(),r.getValue())}return e.toString()}}lr.MAX_NEARBY_DISTANCE=5;class Dr{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[r,s]of this.values.entries()){const o={getKey:()=>r,getValue:()=>s};o.getValue()>e?(e=o.getValue(),n=[],n.push(o.getKey())):o.getValue()===e&&n.push(o.getKey())}return je.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class Vo extends lr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=-1,p=1,C=0;for(let S=l;S<u;S++){if(n[S]==null)continue;let T=n[S],M=T.getRowNumber()-d;if(M===0)C++;else if(M===1)p=Math.max(p,C),C=1,d=T.getRowNumber();else if(M<0||T.getRowNumber()>=e.getRowCount()||M>S)n[S]=null;else{let L;p>2?L=(p-2)*M:L=M;let j=L>=S;for(let V=1;V<=L&&!j;V++)j=n[S-V]!=null;j?n[S]=null:(d=T.getRowNumber(),C=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let s=r.getRowNumber();if(s>=n.length)continue;n[s]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),s=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.getCodewords(),d=-1;for(let p=o;p<l;p++){if(u[p]==null)continue;let C=u[p];C.setRowNumberAsRowIndicatorColumn();let S=C.getRowNumber()-d;S===0||(S===1?d=C.getRowNumber():C.getRowNumber()>=e.getRowCount()?u[p]=null:d=C.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Dr,r=new Dr,s=new Dr,o=new Dr;for(let u of e){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let d=u.getValue()%30,p=u.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:r.setValue(d*3+1);break;case 1:o.setValue(d/3),s.setValue(d%3);break;case 2:n.setValue(d+1);break}}if(n.getValue().length===0||r.getValue().length===0||s.getValue().length===0||o.getValue().length===0||n.getValue()[0]<1||r.getValue()[0]+s.getValue()[0]<je.MIN_ROWS_IN_BARCODE||r.getValue()[0]+s.getValue()[0]>je.MAX_ROWS_IN_BARCODE)return null;let l=new Pi(n.getValue()[0],r.getValue()[0],s.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,l),l}removeIncorrectCodewords(e,n){for(let r=0;r<e.length;r++){let s=e[r];if(e[r]==null)continue;let o=s.getValue()%30,l=s.getRowNumber();if(l>n.getRowCount()){e[r]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(e[r]=null);break;case 2:o+1!==n.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Bi{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=je.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let r=this.detectionResultColumns[n].getCodewords();for(let s=0;s<r.length;s++)r[s]!=null&&(r[s].hasValidRowNumber()||this.adjustRowNumbers(n,s,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&n[r]!=null&&e[r].getRowNumber()===n[r].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let o=this.detectionResultColumns[s].getCodewords()[r];o!=null&&(o.setRowNumber(e[r].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let l=this.barcodeColumnCount+1;l>0&&o<this.ADJUST_ROW_NUMBER_SKIP;l--){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=Bi.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let r=0;r<n.length;r++){if(n[r]==null)continue;let s=n[r].getRowNumber(),o=0;for(let l=1;l<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;l++){let u=this.detectionResultColumns[l].getCodewords()[r];u!=null&&(o=Bi.adjustRowNumberIfValid(s,o,u),u.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,r){if(!this.detectionResultColumns[e-1])return;let s=r[n],o=this.detectionResultColumns[e-1].getCodewords(),l=o;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());let u=new Array(14);u[2]=o[n],u[3]=l[n],n>0&&(u[0]=r[n-1],u[4]=o[n-1],u[5]=l[n-1]),n>1&&(u[8]=r[n-2],u[10]=o[n-2],u[11]=l[n-2]),n<r.length-1&&(u[1]=r[n+1],u[6]=o[n+1],u[7]=l[n+1]),n<r.length-2&&(u[9]=r[n+2],u[12]=o[n+2],u[13]=l[n+2]);for(let d of u)if(Bi.adjustRowNumber(s,d))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new mr;for(let r=0;r<e.getCodewords().length;r++){n.format("CW %3d:",r);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){n.format("    |   ");continue}let o=this.detectionResultColumns[s].getCodewords()[r];if(o==null){n.format("    |   ");continue}n.format(" %3d|%3d",o.getRowNumber(),o.getValue())}n.format("%n")}return n.toString()}}class jr{constructor(e,n,r,s){this.rowNumber=jr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==jr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}jr.BARCODE_ROW_UNKNOWN=-1;class sn{static initialize(){for(let e=0;e<je.SYMBOL_TABLE.length;e++){let n=je.SYMBOL_TABLE[e],r=n&1;for(let s=0;s<je.BARS_IN_MODULE;s++){let o=0;for(;(n&1)===r;)o+=1,n>>=1;r=n&1,sn.RATIOS_TABLE[e]||(sn.RATIOS_TABLE[e]=new Array(je.BARS_IN_MODULE)),sn.RATIOS_TABLE[e][je.BARS_IN_MODULE-s-1]=Math.fround(o/je.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=sn.getDecodedCodewordValue(sn.sampleBitCounts(e));return n!==-1?n:sn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=nt.sum(e),r=new Int32Array(je.BARS_IN_MODULE),s=0,o=0;for(let l=0;l<je.MODULES_IN_CODEWORD;l++){let u=n/(2*je.MODULES_IN_CODEWORD)+l*n/je.MODULES_IN_CODEWORD;o+e[s]<=u&&(o+=e[s],s++),r[s]++}return r}static getDecodedCodewordValue(e){let n=sn.getBitValue(e);return je.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let r=0;r<e.length;r++)for(let s=0;s<e[r];s++)n=n<<1|(r%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=nt.sum(e),r=new Array(je.BARS_IN_MODULE);if(n>1)for(let l=0;l<r.length;l++)r[l]=Math.fround(e[l]/n);let s=Tr.MAX_VALUE,o=-1;this.bSymbolTableReady||sn.initialize();for(let l=0;l<sn.RATIOS_TABLE.length;l++){let u=0,d=sn.RATIOS_TABLE[l];for(let p=0;p<je.BARS_IN_MODULE;p++){let C=Math.fround(d[p]-r[p]);if(u+=Math.fround(C*C),u>=s)break}u<s&&(s=u,o=je.SYMBOL_TABLE[l])}return o}}sn.bSymbolTableReady=!1,sn.RATIOS_TABLE=new Array(je.SYMBOL_TABLE.length).map(A=>new Array(je.BARS_IN_MODULE));class cs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ks{static parseLong(e,n=void 0){return parseInt(e,n)}}class wr extends E{}wr.kind="NullPointerException";class qs{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,r){if(e==null)throw new wr;if(n<0||n>e.length||r<0||n+r>e.length||n+r<0)throw new ee;if(r===0)return;for(let s=0;s<r;s++)this.write(e[n+s])}flush(){}close(){}}class fs extends E{}class Wo extends qs{constructor(e=32){if(super(),this.count=0,e<0)throw new b("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new fs;r=P.MAX_VALUE}this.buf=le.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,r){if(n<0||n>e.length||r<0||n+r-e.length>0)throw new ee;this.ensureCapacity(this.count+r),Y.arraycopy(e,n,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return le.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var ct;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ct||(ct={}));function Li(){if(typeof window<"u")return window.BigInt||null;if(typeof jl<"u")return jl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Fi;function zt(A){if(typeof Fi>"u"&&(Fi=Li()),Fi===null)throw new Error("BigInt is not supported!");return Fi(A)}function ci(){let A=[];A[0]=zt(1);let e=zt(900);A[1]=e;for(let n=2;n<16;n++)A[n]=A[n-1]*e;return A}class q{static decode(e,n){let r=new Xe(""),s=te.ISO8859_1;r.enableDecoding(s);let o=1,l=e[o++],u=new cs;for(;o<e[0];){switch(l){case q.TEXT_COMPACTION_MODE_LATCH:o=q.textCompaction(e,o,r);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:o=q.byteCompaction(l,e,s,o,r);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:o=q.numericCompaction(e,o,r);break;case q.ECI_CHARSET:te.getCharacterSetECIByValue(e[o++]);break;case q.ECI_GENERAL_PURPOSE:o+=2;break;case q.ECI_USER_DEFINED:o++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=q.decodeMacroBlock(e,o,u);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new re;default:o--,o=q.textCompaction(e,o,r);break}if(o<e.length)l=e[o++];else throw re.getFormatInstance()}if(r.length()===0)throw re.getFormatInstance();let d=new mt(null,r.toString(),null,n);return d.setOther(u),d}static decodeMacroBlock(e,n,r){if(n+q.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw re.getFormatInstance();let s=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<q.NUMBER_OF_SEQUENCE_CODEWORDS;u++,n++)s[u]=e[n];r.setSegmentIndex(P.parseInt(q.decodeBase900toBase10(s,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let o=new Xe;n=q.textCompaction(e,n,o),r.setFileId(o.toString());let l=-1;for(e[n]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=n+1);n<e[0];)switch(e[n]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Xe;n=q.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new Xe;n=q.textCompaction(e,n+1,d),r.setSender(d.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Xe;n=q.textCompaction(e,n+1,p),r.setAddressee(p.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new Xe;n=q.numericCompaction(e,n+1,C),r.setSegmentCount(P.parseInt(C.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let S=new Xe;n=q.numericCompaction(e,n+1,S),r.setTimestamp(Ks.parseLong(S.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Xe;n=q.numericCompaction(e,n+1,T),r.setChecksum(P.parseInt(T.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new Xe;n=q.numericCompaction(e,n+1,M),r.setFileSize(Ks.parseLong(M.toString()));break;default:throw re.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw re.getFormatInstance()}if(l!==-1){let u=n-l;r.isLastSegment()&&u--,r.setOptionalData(le.copyOfRange(e,l,l+u))}return n}static textCompaction(e,n,r){let s=new Int32Array((e[0]-n)*2),o=new Int32Array((e[0]-n)*2),l=0,u=!1;for(;n<e[0]&&!u;){let d=e[n++];if(d<q.TEXT_COMPACTION_MODE_LATCH)s[l]=d/30,s[l+1]=d%30,l+=2;else switch(d){case q.TEXT_COMPACTION_MODE_LATCH:s[l++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[l]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[n++],o[l]=d,l++;break}}return q.decodeTextCompaction(s,o,l,r),n}static decodeTextCompaction(e,n,r,s){let o=ct.ALPHA,l=ct.ALPHA,u=0;for(;u<r;){let d=e[u],p="";switch(o){case ct.ALPHA:if(d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case q.LL:o=ct.LOWER;break;case q.ML:o=ct.MIXED;break;case q.PS:l=o,o=ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=ct.ALPHA;break}break;case ct.LOWER:if(d<26)p=String.fromCharCode(97+d);else switch(d){case 26:p=" ";break;case q.AS:l=o,o=ct.ALPHA_SHIFT;break;case q.ML:o=ct.MIXED;break;case q.PS:l=o,o=ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=ct.ALPHA;break}break;case ct.MIXED:if(d<q.PL)p=q.MIXED_CHARS[d];else switch(d){case q.PL:o=ct.PUNCT;break;case 26:p=" ";break;case q.LL:o=ct.LOWER;break;case q.AL:o=ct.ALPHA;break;case q.PS:l=o,o=ct.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=ct.ALPHA;break}break;case ct.PUNCT:if(d<q.PAL)p=q.PUNCT_CHARS[d];else switch(d){case q.PAL:o=ct.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=ct.ALPHA;break}break;case ct.ALPHA_SHIFT:if(o=l,d<26)p=String.fromCharCode(65+d);else switch(d){case 26:p=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:o=ct.ALPHA;break}break;case ct.PUNCT_SHIFT:if(o=l,d<q.PAL)p=q.PUNCT_CHARS[d];else switch(d){case q.PAL:o=ct.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[u]);break;case q.TEXT_COMPACTION_MODE_LATCH:o=ct.ALPHA;break}break}p!==""&&s.append(p),u++}}static byteCompaction(e,n,r,s,o){let l=new Wo,u=0,d=0,p=!1;switch(e){case q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),S=n[s++];for(;s<n[0]&&!p;)switch(C[u++]=S,d=900*d+S,S=n[s++],S){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:s--,p=!0;break;default:if(u%5===0&&u>0){for(let T=0;T<6;++T)l.write(Number(zt(d)>>zt(8*(5-T))));d=0,u=0}break}s===n[0]&&S<q.TEXT_COMPACTION_MODE_LATCH&&(C[u++]=S);for(let T=0;T<u;T++)l.write(C[T]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;s<n[0]&&!p;){let T=n[s++];if(T<q.TEXT_COMPACTION_MODE_LATCH)u++,d=900*d+T;else switch(T){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:s--,p=!0;break}if(u%5===0&&u>0){for(let M=0;M<6;++M)l.write(Number(zt(d)>>zt(8*(5-M))));d=0,u=0}}break}return o.append(qe.decode(l.toByteArray(),r)),s}static numericCompaction(e,n,r){let s=0,o=!1,l=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!o;){let u=e[n++];if(n===e[0]&&(o=!0),u<q.TEXT_COMPACTION_MODE_LATCH)l[s]=u,s++;else switch(u){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:n--,o=!0;break}(s%q.MAX_NUMERIC_CODEWORDS===0||u===q.NUMERIC_COMPACTION_MODE_LATCH||o)&&s>0&&(r.append(q.decodeBase900toBase10(l,s)),s=0)}return n}static decodeBase900toBase10(e,n){let r=zt(0);for(let o=0;o<n;o++)r+=q.EXP900[n-o-1]*zt(e[o]);let s=r.toString();if(s.charAt(0)!=="1")throw new re;return s.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Li()?ci():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ye{constructor(){}static decode(e,n,r,s,o,l,u){let d=new Ur(e,n,r,s,o),p=null,C=null,S;for(let L=!0;;L=!1){if(n!=null&&(p=Ye.getRowIndicatorColumn(e,d,n,!0,l,u)),s!=null&&(C=Ye.getRowIndicatorColumn(e,d,s,!1,l,u)),S=Ye.merge(p,C),S==null)throw $.getNotFoundInstance();let j=S.getBoundingBox();if(L&&j!=null&&(j.getMinY()<d.getMinY()||j.getMaxY()>d.getMaxY()))d=j;else break}S.setBoundingBox(d);let T=S.getBarcodeColumnCount()+1;S.setDetectionResultColumn(0,p),S.setDetectionResultColumn(T,C);let M=p!=null;for(let L=1;L<=T;L++){let j=M?L:T-L;if(S.getDetectionResultColumn(j)!==void 0)continue;let V;j===0||j===T?V=new Vo(d,j===0):V=new lr(d),S.setDetectionResultColumn(j,V);let K=-1,de=K;for(let he=d.getMinY();he<=d.getMaxY();he++){if(K=Ye.getStartColumn(S,j,he,M),K<0||K>d.getMaxX()){if(de===-1)continue;K=de}let ue=Ye.detectCodeword(e,d.getMinX(),d.getMaxX(),M,K,he,l,u);ue!=null&&(V.setCodeword(he,ue),de=K,l=Math.min(l,ue.getWidth()),u=Math.max(u,ue.getWidth()))}}return Ye.createDecoderResult(S)}static merge(e,n){if(e==null&&n==null)return null;let r=Ye.getBarcodeMetadata(e,n);if(r==null)return null;let s=Ur.merge(Ye.adjustBoundingBox(e),Ye.adjustBoundingBox(n));return new Bi(r,s)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let r=Ye.getMax(n),s=0;for(let u of n)if(s+=r-u,u>0)break;let o=e.getCodewords();for(let u=0;s>0&&o[u]==null;u++)s--;let l=0;for(let u=n.length-1;u>=0&&(l+=r-n[u],!(n[u]>0));u--);for(let u=o.length-1;l>0&&o[u]==null;u--)l--;return e.getBoundingBox().addMissingRows(s,l,e.isLeft())}static getMax(e){let n=-1;for(let r of e)n=Math.max(n,r);return n}static getBarcodeMetadata(e,n){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let s;return n==null||(s=n.getBarcodeMetadata())==null?r:r.getColumnCount()!==s.getColumnCount()&&r.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&r.getRowCount()!==s.getRowCount()?null:r}static getRowIndicatorColumn(e,n,r,s,o,l){let u=new Vo(n,s);for(let d=0;d<2;d++){let p=d===0?1:-1,C=Math.trunc(Math.trunc(r.getX()));for(let S=Math.trunc(Math.trunc(r.getY()));S<=n.getMaxY()&&S>=n.getMinY();S+=p){let T=Ye.detectCodeword(e,0,e.getWidth(),s,C,S,o,l);T!=null&&(u.setCodeword(S,T),s?C=T.getStartX():C=T.getEndX())}}return u}static adjustCodewordCount(e,n){let r=n[0][1],s=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Ye.getNumberOfECCodeWords(e.getBarcodeECLevel());if(s.length===0){if(o<1||o>je.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();r.setValue(o)}else s[0]!==o&&r.setValue(o)}static createDecoderResult(e){let n=Ye.createBarcodeMatrix(e);Ye.adjustCodewordCount(e,n);let r=new Array,s=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],l=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let p=0;p<e.getBarcodeColumnCount();p++){let C=n[d][p+1].getValue(),S=d*e.getBarcodeColumnCount()+p;C.length===0?r.push(S):C.length===1?s[S]=C[0]:(l.push(S),o.push(C))}let u=new Array(o.length);for(let d=0;d<u.length;d++)u[d]=o[d];return Ye.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),s,je.toIntArray(r),je.toIntArray(l),u)}static createDecoderResultFromAmbiguousValues(e,n,r,s,o){let l=new Int32Array(s.length),u=100;for(;u-- >0;){for(let d=0;d<l.length;d++)n[s[d]]=o[d][l[d]];try{return Ye.decodeCodewords(n,e,r)}catch(d){if(!(d instanceof H))throw d}if(l.length===0)throw H.getChecksumInstance();for(let d=0;d<l.length;d++)if(l[d]<o[d].length-1){l[d]++;break}else if(l[d]=0,d===l.length-1)throw H.getChecksumInstance()}throw H.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let s=0;s<n.length;s++)for(let o=0;o<n[s].length;o++)n[s][o]=new Dr;let r=0;for(let s of e.getDetectionResultColumns()){if(s!=null){for(let o of s.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=0){if(l>=n.length)continue;n[l][r].setValue(o.getValue())}}}r++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,r,s){let o=s?1:-1,l=null;if(Ye.isValidBarcodeColumn(e,n-o)&&(l=e.getDetectionResultColumn(n-o).getCodeword(r)),l!=null)return s?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(n).getCodewordNearby(r),l!=null)return s?l.getStartX():l.getEndX();if(Ye.isValidBarcodeColumn(e,n-o)&&(l=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),l!=null)return s?l.getEndX():l.getStartX();let u=0;for(;Ye.isValidBarcodeColumn(e,n-o);){n-=o;for(let d of e.getDetectionResultColumn(n).getCodewords())if(d!=null)return(s?d.getEndX():d.getStartX())+o*u*(d.getEndX()-d.getStartX());u++}return s?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,r,s,o,l,u,d){o=Ye.adjustCodewordStartColumn(e,n,r,s,o,l);let p=Ye.getModuleBitCount(e,n,r,s,o,l);if(p==null)return null;let C,S=nt.sum(p);if(s)C=o+S;else{for(let L=0;L<p.length/2;L++){let j=p[L];p[L]=p[p.length-1-L],p[p.length-1-L]=j}C=o,o=C-S}if(!Ye.checkCodewordSkew(S,u,d))return null;let T=sn.getDecodedValue(p),M=je.getCodeword(T);return M===-1?null:new jr(o,C,Ye.getCodewordBucketNumber(T),M)}static getModuleBitCount(e,n,r,s,o,l){let u=o,d=new Int32Array(8),p=0,C=s?1:-1,S=s;for(;(s?u<r:u>=n)&&p<d.length;)e.get(u,l)===S?(d[p]++,u+=C):(p++,S=!S);return p===d.length||u===(s?r:n)&&p===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,r,s,o,l){let u=o,d=s?-1:1;for(let p=0;p<2;p++){for(;(s?u>=n:u<r)&&s===e.get(u,l);){if(Math.abs(o-u)>Ye.CODEWORD_SKEW_SIZE)return o;u+=d}d=-d,s=!s}return u}static checkCodewordSkew(e,n,r){return n-Ye.CODEWORD_SKEW_SIZE<=e&&e<=r+Ye.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,r){if(e.length===0)throw re.getFormatInstance();let s=1<<n+1,o=Ye.correctErrors(e,r,s);Ye.verifyCodewordCount(e,s);let l=q.decode(e,""+n);return l.setErrorsCorrected(o),l.setErasures(r.length),l}static correctErrors(e,n,r){if(n!=null&&n.length>r/2+Ye.MAX_ERRORS||r<0||r>Ye.MAX_EC_CODEWORDS)throw H.getChecksumInstance();return Ye.errorCorrection.decode(e,r,n)}static verifyCodewordCount(e,n){if(e.length<4)throw re.getFormatInstance();let r=e[0];if(r>e.length)throw re.getFormatInstance();if(r===0)if(n<e.length)e[0]=e.length-n;else throw re.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),r=0,s=n.length-1;for(;!((e&1)!==r&&(r=e&1,s--,s<0));)n[s]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Ye.getCodewordBucketNumber(Ye.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new mr;for(let r=0;r<e.length;r++){n.format("Row %2d: ",r);for(let s=0;s<e[r].length;s++){let o=e[r][s];o.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}n.format("%n")}return n.toString()}}Ye.CODEWORD_SKEW_SIZE=2,Ye.MAX_ERRORS=3,Ye.MAX_EC_CODEWORDS=512,Ye.errorCorrection=new Qs;class on{decode(e,n=null){let r=on.decode(e,n,!1);if(r==null||r.length===0||r[0]==null)throw $.getNotFoundInstance();return r[0]}decodeMultiple(e,n=null){try{return on.decode(e,n,!0)}catch(r){throw r instanceof re||r instanceof H?$.getNotFoundInstance():r}}static decode(e,n,r){const s=new Array,o=He.detectMultiple(e,n,r);for(const l of o.getPoints()){const u=Ye.decode(o.getBits(),l[4],l[5],l[6],l[7],on.getMinCodewordWidth(l),on.getMaxCodewordWidth(l)),d=new Be(u.getText(),u.getRawBytes(),void 0,l,pe.PDF_417);d.putMetadata(Ve.ERROR_CORRECTION_LEVEL,u.getECLevel());const p=u.getOther();p!=null&&d.putMetadata(Ve.PDF417_EXTRA_METADATA,p),s.push(d)}return s.map(l=>l)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?P.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(on.getMaxWidth(e[0],e[4]),on.getMaxWidth(e[6],e[2])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN),Math.max(on.getMaxWidth(e[1],e[5]),on.getMaxWidth(e[7],e[3])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(on.getMinWidth(e[0],e[4]),on.getMinWidth(e[6],e[2])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN),Math.min(on.getMinWidth(e[1],e[5]),on.getMinWidth(e[7],e[3])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN)))}reset(){}}class fi extends E{}fi.kind="ReaderException";class ds{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!y(e)&&e.get(Ee.TRY_HARDER)===!0,r=y(e)?null:e.get(Ee.POSSIBLE_FORMATS),s=new Array;if(!y(r)){const o=r.some(l=>l===pe.UPC_A||l===pe.UPC_E||l===pe.EAN_13||l===pe.EAN_8||l===pe.CODABAR||l===pe.CODE_39||l===pe.CODE_93||l===pe.CODE_128||l===pe.ITF||l===pe.RSS_14||l===pe.RSS_EXPANDED);o&&!n&&s.push(new oi(e,this.verbose)),r.includes(pe.QR_CODE)&&s.push(new wn),r.includes(pe.DATA_MATRIX)&&s.push(new Qn),r.includes(pe.AZTEC)&&s.push(new _r),r.includes(pe.PDF_417)&&s.push(new on),o&&n&&s.push(new oi(e,this.verbose))}s.length===0&&(n||s.push(new oi(e,this.verbose)),s.push(new wn),s.push(new Qn),s.push(new _r),s.push(new on),n&&s.push(new oi(e,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new fi("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(r){if(r instanceof fi)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class Ui extends ze{constructor(e=null,n=500){const r=new ds;r.setHints(e),super(r,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class hs extends ze{constructor(e=500){super(new on,e)}}class Ho extends ze{constructor(e=500){super(new wn,e)}}var Js;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(Js||(Js={}));var Zt=Js;class $s{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new en(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let r=n[n.length-1];const s=this.field;for(let o=n.length;o<=e;o++){const l=r.multiply(new en(s,Int32Array.from([1,s.exp(o-1+s.getGeneratorBase())])));n.push(l),r=l}}return n[e]}encode(e,n){if(n===0)throw new b("No error correction bytes");const r=e.length-n;if(r<=0)throw new b("No data bytes provided");const s=this.buildGenerator(n),o=new Int32Array(r);Y.arraycopy(e,0,o,0,r);let l=new en(this.field,o);l=l.multiplyByMonomial(n,1);const d=l.divide(s)[1].getCoefficients(),p=n-d.length;for(let C=0;C<p;C++)e[r+C]=0;Y.arraycopy(d,0,e,r+p,d.length)}}class Tt{constructor(){}static applyMaskPenaltyRule1(e){return Tt.applyMaskPenaltyRule1Internal(e,!0)+Tt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o-1;l++){const u=r[l];for(let d=0;d<s-1;d++){const p=u[d];p===u[d+1]&&p===r[l+1][d]&&p===r[l+1][d+1]&&n++}}return Tt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let l=0;l<o;l++)for(let u=0;u<s;u++){const d=r[l];u+6<s&&d[u]===1&&d[u+1]===0&&d[u+2]===1&&d[u+3]===1&&d[u+4]===1&&d[u+5]===0&&d[u+6]===1&&(Tt.isWhiteHorizontal(d,u-4,u)||Tt.isWhiteHorizontal(d,u+7,u+11))&&n++,l+6<o&&r[l][u]===1&&r[l+1][u]===0&&r[l+2][u]===1&&r[l+3][u]===1&&r[l+4][u]===1&&r[l+5][u]===0&&r[l+6][u]===1&&(Tt.isWhiteVertical(r,u,l-4,l)||Tt.isWhiteVertical(r,u,l+7,l+11))&&n++}return n*Tt.N3}static isWhiteHorizontal(e,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let s=n;s<r;s++)if(e[s]===1)return!1;return!0}static isWhiteVertical(e,n,r,s){r=Math.max(r,0),s=Math.min(s,e.length);for(let o=r;o<s;o++)if(e[o][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const r=e.getArray(),s=e.getWidth(),o=e.getHeight();for(let d=0;d<o;d++){const p=r[d];for(let C=0;C<s;C++)p[C]===1&&n++}const l=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-l)*10/l)*Tt.N4}static getDataMaskBit(e,n,r){let s,o;switch(e){case 0:s=r+n&1;break;case 1:s=r&1;break;case 2:s=n%3;break;case 3:s=(r+n)%3;break;case 4:s=Math.floor(r/2)+Math.floor(n/3)&1;break;case 5:o=r*n,s=(o&1)+o%3;break;case 6:o=r*n,s=(o&1)+o%3&1;break;case 7:o=r*n,s=o%3+(r+n&1)&1;break;default:throw new b("Invalid mask pattern: "+e)}return s===0}static applyMaskPenaltyRule1Internal(e,n){let r=0;const s=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),l=e.getArray();for(let u=0;u<s;u++){let d=0,p=-1;for(let C=0;C<o;C++){const S=n?l[u][C]:l[C][u];S===p?d++:(d>=5&&(r+=Tt.N1+(d-5)),d=1,p=S)}d>=5&&(r+=Tt.N1+(d-5))}return r}}Tt.N1=3,Tt.N2=3,Tt.N3=40,Tt.N4=10;class gs{constructor(e,n){this.width=e,this.height=n;const r=new Array(n);for(let s=0;s!==n;s++)r[s]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,r){this.bytes[n][e]=r}setBoolean(e,n,r){this.bytes[n][e]=r?1:0}clear(e){for(const n of this.bytes)le.fill(n,e)}equals(e){if(!(e instanceof gs))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let r=0,s=this.height;r<s;++r){const o=this.bytes[r],l=n.bytes[r];for(let u=0,d=this.width;u<d;++u)if(o[u]!==l[u])return!1}return!0}toString(){const e=new Xe;for(let n=0,r=this.height;n<r;++n){const s=this.bytes[n];for(let o=0,l=this.width;o<l;++o)switch(s[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class zr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Xe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<zr.NUM_MASK_PATTERNS}}zr.NUM_MASK_PATTERNS=8;class Ct extends E{}Ct.kind="WriterException";class Le{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,r,s,o){Le.clearMatrix(o),Le.embedBasicPatterns(r,o),Le.embedTypeInfo(n,s,o),Le.maybeEmbedVersionInfo(r,o),Le.embedDataBits(e,s,o)}static embedBasicPatterns(e,n){Le.embedPositionDetectionPatternsAndSeparators(n),Le.embedDarkDotAtLeftBottomCorner(n),Le.maybeEmbedPositionAdjustmentPatterns(e,n),Le.embedTimingPatterns(n)}static embedTypeInfo(e,n,r){const s=new se;Le.makeTypeInfoBits(e,n,s);for(let o=0,l=s.getSize();o<l;++o){const u=s.get(s.getSize()-1-o),d=Le.TYPE_INFO_COORDINATES[o],p=d[0],C=d[1];if(r.setBoolean(p,C,u),o<8){const S=r.getWidth()-o-1;r.setBoolean(S,8,u)}else{const T=r.getHeight()-7+(o-8);r.setBoolean(8,T,u)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const r=new se;Le.makeVersionInfoBits(e,r);let s=17;for(let o=0;o<6;++o)for(let l=0;l<3;++l){const u=r.get(s);s--,n.setBoolean(o,n.getHeight()-11+l,u),n.setBoolean(n.getHeight()-11+l,o,u)}}static embedDataBits(e,n,r){let s=0,o=-1,l=r.getWidth()-1,u=r.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);u>=0&&u<r.getHeight();){for(let d=0;d<2;++d){const p=l-d;if(!Le.isEmpty(r.get(p,u)))continue;let C;s<e.getSize()?(C=e.get(s),++s):C=!1,n!==255&&Tt.getDataMaskBit(n,p,u)&&(C=!C),r.setBoolean(p,u,C)}u+=o}o=-o,u+=o,l-=2}if(s!==e.getSize())throw new Ct("Not all bits consumed: "+s+"/"+e.getSize())}static findMSBSet(e){return 32-P.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new b("0 polynomial");const r=Le.findMSBSet(n);for(e<<=r-1;Le.findMSBSet(e)>=r;)e^=n<<Le.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,n,r){if(!zr.isValidMaskPattern(n))throw new Ct("Invalid mask pattern");const s=e.getBits()<<3|n;r.appendBits(s,5);const o=Le.calculateBCHCode(s,Le.TYPE_INFO_POLY);r.appendBits(o,10);const l=new se;if(l.appendBits(Le.TYPE_INFO_MASK_PATTERN,15),r.xor(l),r.getSize()!==15)throw new Ct("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const r=Le.calculateBCHCode(e.getVersionNumber(),Le.VERSION_INFO_POLY);if(n.appendBits(r,12),n.getSize()!==18)throw new Ct("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const r=(n+1)%2;Le.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),Le.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ct;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,r){for(let s=0;s<8;++s){if(!Le.isEmpty(r.get(e+s,n)))throw new Ct;r.setNumber(e+s,n,0)}}static embedVerticalSeparationPattern(e,n,r){for(let s=0;s<7;++s){if(!Le.isEmpty(r.get(e,n+s)))throw new Ct;r.setNumber(e,n+s,0)}}static embedPositionAdjustmentPattern(e,n,r){for(let s=0;s<5;++s){const o=Le.POSITION_ADJUSTMENT_PATTERN[s];for(let l=0;l<5;++l)r.setNumber(e+l,n+s,o[l])}}static embedPositionDetectionPattern(e,n,r){for(let s=0;s<7;++s){const o=Le.POSITION_DETECTION_PATTERN[s];for(let l=0;l<7;++l)r.setNumber(e+l,n+s,o[l])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Le.POSITION_DETECTION_PATTERN[0].length;Le.embedPositionDetectionPattern(0,0,e),Le.embedPositionDetectionPattern(e.getWidth()-n,0,e),Le.embedPositionDetectionPattern(0,e.getWidth()-n,e);const r=8;Le.embedHorizontalSeparationPattern(0,r-1,e),Le.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Le.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const s=7;Le.embedVerticalSeparationPattern(s,0,e),Le.embedVerticalSeparationPattern(e.getHeight()-s-1,0,e),Le.embedVerticalSeparationPattern(s,e.getHeight()-s,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,s=Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let o=0,l=s.length;o!==l;o++){const u=s[o];if(u>=0)for(let d=0;d!==l;d++){const p=s[d];p>=0&&Le.isEmpty(n.get(p,u))&&Le.embedPositionAdjustmentPattern(p-2,u-2,n)}}}}Le.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Le.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Le.VERSION_INFO_POLY=7973,Le.TYPE_INFO_POLY=1335,Le.TYPE_INFO_MASK_PATTERN=21522;class ra{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class vt{constructor(){}static calculateMaskPenalty(e){return Tt.applyMaskPenaltyRule1(e)+Tt.applyMaskPenaltyRule2(e)+Tt.applyMaskPenaltyRule3(e)+Tt.applyMaskPenaltyRule4(e)}static encode(e,n,r=null){let s=vt.DEFAULT_BYTE_MODE_ENCODING;const o=r!==null&&r.get(Zt.CHARACTER_SET)!==void 0;o&&(s=r.get(Zt.CHARACTER_SET).toString());const l=this.chooseMode(e,s),u=new se;if(l===Pe.BYTE&&(o||vt.DEFAULT_BYTE_MODE_ENCODING!==s)){const he=te.getCharacterSetECIByName(s);he!==void 0&&this.appendECI(he,u)}this.appendModeInfo(l,u);const d=new se;this.appendBytes(e,l,d,s);let p;if(r!==null&&r.get(Zt.QR_VERSION)!==void 0){const he=Number.parseInt(r.get(Zt.QR_VERSION).toString(),10);p=ke.getVersionForNumber(he);const ue=this.calculateBitsNeeded(l,u,d,p);if(!this.willFit(ue,p,n))throw new Ct("Data too big for requested version")}else p=this.recommendVersion(n,l,u,d);const C=new se;C.appendBitArray(u);const S=l===Pe.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(S,p,l,C),C.appendBitArray(d);const T=p.getECBlocksForLevel(n),M=p.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(M,C);const L=this.interleaveWithECBytes(C,p.getTotalCodewords(),M,T.getNumBlocks()),j=new zr;j.setECLevel(n),j.setMode(l),j.setVersion(p);const V=p.getDimensionForVersion(),K=new gs(V,V),de=this.chooseMaskPattern(L,n,p,K);return j.setMaskPattern(de),Le.buildMatrix(L,n,p,de,K),j.setMatrix(K),j}static recommendVersion(e,n,r,s){const o=this.calculateBitsNeeded(n,r,s,ke.getVersionForNumber(1)),l=this.chooseVersion(o,e),u=this.calculateBitsNeeded(n,r,s,l);return this.chooseVersion(u,e)}static calculateBitsNeeded(e,n,r,s){return n.getSize()+e.getCharacterCountBits(s)+r.getSize()}static getAlphanumericCode(e){return e<vt.ALPHANUMERIC_TABLE.length?vt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(te.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Pe.KANJI;let r=!1,s=!1;for(let o=0,l=e.length;o<l;++o){const u=e.charAt(o);if(vt.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)s=!0;else return Pe.BYTE}return s?Pe.ALPHANUMERIC:r?Pe.NUMERIC:Pe.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=qe.encode(e,te.SJIS)}catch{return!1}const r=n.length;if(r%2!==0)return!1;for(let s=0;s<r;s+=2){const o=n[s]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0}static chooseMaskPattern(e,n,r,s){let o=Number.MAX_SAFE_INTEGER,l=-1;for(let u=0;u<zr.NUM_MASK_PATTERNS;u++){Le.buildMatrix(e,n,r,u,s);let d=this.calculateMaskPenalty(s);d<o&&(o=d,l=u)}return l}static chooseVersion(e,n){for(let r=1;r<=40;r++){const s=ke.getVersionForNumber(r);if(vt.willFit(e,s,n))return s}throw new Ct("Data too big")}static willFit(e,n,r){const s=n.getTotalCodewords(),l=n.getECBlocksForLevel(r).getTotalECCodewords(),u=s-l,d=(e+7)/8;return u>=d}static terminateBits(e,n){const r=e*8;if(n.getSize()>r)throw new Ct("data bits cannot fit in the QR Code"+n.getSize()+" > "+r);for(let l=0;l<4&&n.getSize()<r;++l)n.appendBit(!1);const s=n.getSize()&7;if(s>0)for(let l=s;l<8;l++)n.appendBit(!1);const o=e-n.getSizeInBytes();for(let l=0;l<o;++l)n.appendBits((l&1)===0?236:17,8);if(n.getSize()!==r)throw new Ct("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,r,s,o,l){if(s>=r)throw new Ct("Block ID too large");const u=e%r,d=r-u,p=Math.floor(e/r),C=p+1,S=Math.floor(n/r),T=S+1,M=p-S,L=C-T;if(M!==L)throw new Ct("EC bytes mismatch");if(r!==d+u)throw new Ct("RS blocks mismatch");if(e!==(S+M)*d+(T+L)*u)throw new Ct("Total bytes mismatch");s<d?(o[0]=S,l[0]=M):(o[0]=T,l[0]=L)}static interleaveWithECBytes(e,n,r,s){if(e.getSizeInBytes()!==r)throw new Ct("Number of bits and data bytes does not match");let o=0,l=0,u=0;const d=new Array;for(let C=0;C<s;++C){const S=new Int32Array(1),T=new Int32Array(1);vt.getNumDataBytesAndNumECBytesForBlockID(n,r,s,C,S,T);const M=S[0],L=new Uint8Array(M);e.toBytes(8*o,L,0,M);const j=vt.generateECBytes(L,T[0]);d.push(new ra(L,j)),l=Math.max(l,M),u=Math.max(u,j.length),o+=S[0]}if(r!==o)throw new Ct("Data bytes does not match offset");const p=new se;for(let C=0;C<l;++C)for(const S of d){const T=S.getDataBytes();C<T.length&&p.appendBits(T[C],8)}for(let C=0;C<u;++C)for(const S of d){const T=S.getErrorCorrectionBytes();C<T.length&&p.appendBits(T[C],8)}if(n!==p.getSizeInBytes())throw new Ct("Interleaving error: "+n+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(e,n){const r=e.length,s=new Int32Array(r+n);for(let l=0;l<r;l++)s[l]=e[l]&255;new $s(lt.QR_CODE_FIELD_256).encode(s,n);const o=new Uint8Array(n);for(let l=0;l<n;l++)o[l]=s[r+l];return o}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,r,s){const o=r.getCharacterCountBits(n);if(e>=1<<o)throw new Ct(e+" is bigger than "+((1<<o)-1));s.appendBits(e,o)}static appendBytes(e,n,r,s){switch(n){case Pe.NUMERIC:vt.appendNumericBytes(e,r);break;case Pe.ALPHANUMERIC:vt.appendAlphanumericBytes(e,r);break;case Pe.BYTE:vt.append8BitBytes(e,r,s);break;case Pe.KANJI:vt.appendKanjiBytes(e,r);break;default:throw new Ct("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=vt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=vt.getDigit(e.charAt(s));if(s+2<r){const l=vt.getDigit(e.charAt(s+1)),u=vt.getDigit(e.charAt(s+2));n.appendBits(o*100+l*10+u,10),s+=3}else if(s+1<r){const l=vt.getDigit(e.charAt(s+1));n.appendBits(o*10+l,7),s+=2}else n.appendBits(o,4),s++}}static appendAlphanumericBytes(e,n){const r=e.length;let s=0;for(;s<r;){const o=vt.getAlphanumericCode(e.charCodeAt(s));if(o===-1)throw new Ct;if(s+1<r){const l=vt.getAlphanumericCode(e.charCodeAt(s+1));if(l===-1)throw new Ct;n.appendBits(o*45+l,11),s+=2}else n.appendBits(o,6),s++}}static append8BitBytes(e,n,r){let s;try{s=qe.encode(e,r)}catch(o){throw new Ct(o)}for(let o=0,l=s.length;o!==l;o++){const u=s[o];n.appendBits(u,8)}}static appendKanjiBytes(e,n){let r;try{r=qe.encode(e,te.SJIS)}catch(o){throw new Ct(o)}const s=r.length;for(let o=0;o<s;o+=2){const l=r[o]&255,u=r[o+1]&255,d=l<<8&4294967295|u;let p=-1;if(d>=33088&&d<=40956?p=d-33088:d>=57408&&d<=60351&&(p=d-49472),p===-1)throw new Ct("Invalid byte sequence");const C=(p>>8)*192+(p&255);n.appendBits(C,13)}}static appendECI(e,n){n.appendBits(Pe.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}vt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),vt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class Vr{write(e,n,r,s=null){if(e.length===0)throw new b("Found empty contents");if(n<0||r<0)throw new b("Requested dimensions are too small: "+n+"x"+r);let o=yt.L,l=Vr.QUIET_ZONE_SIZE;s!==null&&(s.get(Zt.ERROR_CORRECTION)!==void 0&&(o=yt.fromString(s.get(Zt.ERROR_CORRECTION).toString())),s.get(Zt.MARGIN)!==void 0&&(l=Number.parseInt(s.get(Zt.MARGIN).toString(),10)));const u=vt.encode(e,o,s);return this.renderResult(u,n,r,l)}writeToDom(e,n,r,s,o=null){typeof e=="string"&&(e=document.querySelector(e));const l=this.write(n,r,s,o);e&&e.appendChild(l)}renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Hn;const l=o.getWidth(),u=o.getHeight(),d=l+s*2,p=u+s*2,C=Math.max(n,d),S=Math.max(r,p),T=Math.min(Math.floor(C/d),Math.floor(S/p)),M=Math.floor((C-l*T)/2),L=Math.floor((S-u*T)/2),j=this.createSVGElement(C,S);for(let V=0,K=L;V<u;V++,K+=T)for(let de=0,he=M;de<l;de++,he+=T)if(o.get(de,V)===1){const ue=this.createSvgRectElement(he,K,T,T);j.appendChild(ue)}return j}createSVGElement(e,n){const r=document.createElementNS(Vr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}createSvgRectElement(e,n,r,s){const o=document.createElementNS(Vr.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o.setAttributeNS(null,"fill","#000000"),o}}Vr.QUIET_ZONE_SIZE=4,Vr.SVG_NS="http://www.w3.org/2000/svg";class di{encode(e,n,r,s,o){if(e.length===0)throw new b("Found empty contents");if(n!==pe.QR_CODE)throw new b("Can only encode QR_CODE, but got "+n);if(r<0||s<0)throw new b(`Requested dimensions are too small: ${r}x${s}`);let l=yt.L,u=di.QUIET_ZONE_SIZE;o!==null&&(o.get(Zt.ERROR_CORRECTION)!==void 0&&(l=yt.fromString(o.get(Zt.ERROR_CORRECTION).toString())),o.get(Zt.MARGIN)!==void 0&&(u=Number.parseInt(o.get(Zt.MARGIN).toString(),10)));const d=vt.encode(e,l,o);return di.renderResult(d,r,s,u)}static renderResult(e,n,r,s){const o=e.getMatrix();if(o===null)throw new Hn;const l=o.getWidth(),u=o.getHeight(),d=l+s*2,p=u+s*2,C=Math.max(n,d),S=Math.max(r,p),T=Math.min(Math.floor(C/d),Math.floor(S/p)),M=Math.floor((C-l*T)/2),L=Math.floor((S-u*T)/2),j=new $e(C,S);for(let V=0,K=L;V<u;V++,K+=T)for(let de=0,he=M;de<l;de++,he+=T)o.get(de,V)===1&&j.setRegion(he,K,T,T);return j}}di.QUIET_ZONE_SIZE=4;class ia{encode(e,n,r,s,o){let l;switch(n){case pe.QR_CODE:l=new di;break;default:throw new b("No encoder available for format "+n)}return l.encode(e,n,r,s,o)}}class ar extends me{constructor(e,n,r,s,o,l,u,d){if(super(l,u),this.yuvData=e,this.dataWidth=n,this.dataHeight=r,this.left=s,this.top=o,s+l>n||o+u>r)throw new b("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(l,u)}getRow(e,n){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return Y.arraycopy(this.yuvData,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Y.arraycopy(this.yuvData,o,s,0,r),s;for(let l=0;l<n;l++){const u=l*e;Y.arraycopy(this.yuvData,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new ar(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,r,s,!1)}renderThumbnail(){const e=this.getWidth()/ar.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/ar.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*n),s=this.yuvData;let o=this.top*this.dataWidth+this.left;for(let l=0;l<n;l++){const u=l*e;for(let d=0;d<e;d++){const p=s[o+d*ar.THUMBNAIL_SCALE_FACTOR]&255;r[u+d]=4278190080|p*65793}o+=this.dataWidth*ar.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/ar.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ar.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const r=this.yuvData;for(let s=0,o=this.top*this.dataWidth+this.left;s<n;s++,o+=this.dataWidth){const l=o+e/2;for(let u=o,d=o+e-1;u<l;u++,d--){const p=r[u];r[u]=r[d],r[d]=p}}}invert(){return new De(this)}}ar.THUMBNAIL_SCALE_FACTOR=2;class ji extends me{constructor(e,n,r,s,o,l,u){if(super(n,r),this.dataWidth=s,this.dataHeight=o,this.left=l,this.top=u,e.BYTES_PER_ELEMENT===4){const d=n*r,p=new Uint8ClampedArray(d);for(let C=0;C<d;C++){const S=e[C],T=S>>16&255,M=S>>7&510,L=S&255;p[C]=(T+M+L)/4&255}this.luminances=p}else this.luminances=e;if(s===void 0&&(this.dataWidth=n),o===void 0&&(this.dataHeight=r),l===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+r>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new b("Requested row is outside the image: "+e);const r=this.getWidth();(n==null||n.length<r)&&(n=new Uint8ClampedArray(r));const s=(e+this.top)*this.dataWidth+this.left;return Y.arraycopy(this.luminances,s,n,0,r),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const r=e*n,s=new Uint8ClampedArray(r);let o=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return Y.arraycopy(this.luminances,o,s,0,r),s;for(let l=0;l<n;l++){const u=l*e;Y.arraycopy(this.luminances,o,s,u,e),o+=this.dataWidth}return s}isCropSupported(){return!0}crop(e,n,r,s){return new ji(this.luminances,r,s,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new De(this)}}class Go extends te{static forName(e){return this.getCharacterSetECIByName(e)}}class eo{}eo.ISO_8859_1=te.ISO8859_1;class Xo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class to{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class sa{constructor(e){this.previous=e}getPrevious(){return this.previous}}class hi extends sa{constructor(e,n,r){super(e),this.value=n,this.bitCount=r}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new hi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+P.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class no extends hi{constructor(e,n,r){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=r}appendTo(e,n){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+r],8)}addBinaryShift(e,n){return new no(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function oa(A,e,n){return new no(A,e,n)}function zi(A,e,n){return new hi(A,e,n)}const la=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Mr=0,gi=1,dn=2,Yo=3,qn=4,Zo=new hi(null,0,0),ps=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Qo(A){for(let e of A)le.fill(e,-1);return A[Mr][qn]=0,A[gi][qn]=0,A[gi][Mr]=28,A[Yo][qn]=0,A[dn][qn]=0,A[dn][Mr]=15,A}const ro=Qo(le.createInt32Array(6,6));class yn{constructor(e,n,r,s){this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let r=this.bitCount,s=this.token;if(e!==this.mode){let l=ps[this.mode][e];s=zi(s,l&65535,l>>16),r+=l>>16}let o=e===dn?4:5;return s=zi(s,n,o),new yn(s,e,0,r+o)}shiftAndAppend(e,n){let r=this.token,s=this.mode===dn?4:5;return r=zi(r,ro[this.mode][e],s),r=zi(r,n,5),new yn(r,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(e){let n=this.token,r=this.mode,s=this.bitCount;if(this.mode===qn||this.mode===dn){let u=ps[r][Mr];n=zi(n,u&65535,u>>16),s+=u>>16,r=Mr}let o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new yn(n,r,this.binaryShiftByteCount+1,s+o);return l.binaryShiftByteCount===2078&&(l=l.endBinaryShift(e+1)),l}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=oa(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new yn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(ps[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=yn.calculateBinaryShiftCost(e)-yn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let s=this.endBinaryShift(e.length).token;s!==null;s=s.getPrevious())n.unshift(s);let r=new se;for(const s of n)s.appendTo(r,e);return r}toString(){return ve.format("%s bits=%d bytes=%d",la[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}yn.INITIAL_STATE=new yn(Zo,Mr,0,0);function aa(A){const e=ve.getCharCode(" "),n=ve.getCharCode("."),r=ve.getCharCode(",");A[Mr][e]=1;const s=ve.getCharCode("Z"),o=ve.getCharCode("A");for(let T=o;T<=s;T++)A[Mr][T]=T-o+2;A[gi][e]=1;const l=ve.getCharCode("z"),u=ve.getCharCode("a");for(let T=u;T<=l;T++)A[gi][T]=T-u+2;A[dn][e]=1;const d=ve.getCharCode("9"),p=ve.getCharCode("0");for(let T=p;T<=d;T++)A[dn][T]=T-p+2;A[dn][r]=12,A[dn][n]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<C.length;T++)A[Yo][ve.getCharCode(C[T])]=T;const S=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<S.length;T++)ve.getCharCode(S[T])>0&&(A[qn][ve.getCharCode(S[T])]=T);return A}const io=aa(le.createInt32Array(5,256));class Vi{constructor(e){this.text=e}encode(){const e=ve.getCharCode(" "),n=ve.getCharCode(`
`);let r=to.singletonList(yn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let l,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ve.getCharCode("\r"):l=u===n?2:0;break;case ve.getCharCode("."):l=u===e?3:0;break;case ve.getCharCode(","):l=u===e?4:0;break;case ve.getCharCode(":"):l=u===e?5:0;break;default:l=0}l>0?(r=Vi.updateStateListForPair(r,o,l),o++):r=this.updateStateListForChar(r,o)}return to.min(r,(o,l)=>o.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const r=[];for(let s of e)this.updateStateForChar(s,n,r);return Vi.simplifyStates(r)}updateStateForChar(e,n,r){let s=this.text[n]&255,o=io[e.getMode()][s]>0,l=null;for(let u=0;u<=qn;u++){let d=io[u][s];if(d>0){if(l==null&&(l=e.endBinaryShift(n)),!o||u===e.getMode()||u===dn){const p=l.latchAndAppend(u,d);r.push(p)}if(!o&&ro[e.getMode()][u]>=0){const p=l.shiftAndAppend(u,d);r.push(p)}}}if(e.getBinaryShiftByteCount()>0||io[e.getMode()][s]===0){let u=e.addBinaryShiftChar(n);r.push(u)}}static updateStateListForPair(e,n,r){const s=[];for(let o of e)this.updateStateForPair(o,n,r,s);return this.simplifyStates(s)}static updateStateForPair(e,n,r,s){let o=e.endBinaryShift(n);if(s.push(o.latchAndAppend(qn,r)),e.getMode()!==qn&&s.push(o.shiftAndAppend(qn,r)),r===3||r===4){let l=o.latchAndAppend(dn,16-r).latchAndAppend(dn,1);s.push(l)}if(e.getBinaryShiftByteCount()>0){let l=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);s.push(l)}}static simplifyStates(e){let n=[];for(const r of e){let s=!0;for(const o of n){if(o.isBetterThanOrEqualTo(r)){s=!1;break}r.isBetterThanOrEqualTo(o)&&(n=n.filter(l=>l!==o))}s&&n.push(r)}return n}}class at{constructor(){}static encodeBytes(e){return at.encode(e,at.DEFAULT_EC_PERCENT,at.DEFAULT_AZTEC_LAYERS)}static encode(e,n,r){let s=new Vi(e).encode(),o=P.truncDivision(s.getSize()*n,100)+11,l=s.getSize()+o,u,d,p,C,S;if(r!==at.DEFAULT_AZTEC_LAYERS){if(u=r<0,d=Math.abs(r),d>(u?at.MAX_NB_BITS_COMPACT:at.MAX_NB_BITS))throw new b(ve.format("Illegal value %s for layers",r));p=at.totalBitsInLayer(d,u),C=at.WORD_SIZE[d];let ue=p-p%C;if(S=at.stuffBits(s,C),S.getSize()+o>ue)throw new b("Data to large for user specified layer");if(u&&S.getSize()>C*64)throw new b("Data to large for user specified layer")}else{C=0,S=null;for(let ue=0;;ue++){if(ue>at.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(u=ue<=3,d=u?ue+1:ue,p=at.totalBitsInLayer(d,u),l>p)continue;(S==null||C!==at.WORD_SIZE[d])&&(C=at.WORD_SIZE[d],S=at.stuffBits(s,C));let Je=p-p%C;if(!(u&&S.getSize()>C*64)&&S.getSize()+o<=Je)break}}let T=at.generateCheckWords(S,p,C),M=S.getSize()/C,L=at.generateModeMessage(u,d,M),j=(u?11:14)+d*4,V=new Int32Array(j),K;if(u){K=j;for(let ue=0;ue<V.length;ue++)V[ue]=ue}else{K=j+1+2*P.truncDivision(P.truncDivision(j,2)-1,15);let ue=P.truncDivision(j,2),Je=P.truncDivision(K,2);for(let Ge=0;Ge<ue;Ge++){let Nn=Ge+P.truncDivision(Ge,15);V[ue-Ge-1]=Je-Nn-1,V[ue+Ge]=Je+Nn+1}}let de=new $e(K);for(let ue=0,Je=0;ue<d;ue++){let Ge=(d-ue)*4+(u?9:12);for(let Nn=0;Nn<Ge;Nn++){let Jn=Nn*2;for(let Qt=0;Qt<2;Qt++)T.get(Je+Jn+Qt)&&de.set(V[ue*2+Qt],V[ue*2+Nn]),T.get(Je+Ge*2+Jn+Qt)&&de.set(V[ue*2+Nn],V[j-1-ue*2-Qt]),T.get(Je+Ge*4+Jn+Qt)&&de.set(V[j-1-ue*2-Qt],V[j-1-ue*2-Nn]),T.get(Je+Ge*6+Jn+Qt)&&de.set(V[j-1-ue*2-Nn],V[ue*2+Qt])}Je+=Ge*8}if(at.drawModeMessage(de,u,K,L),u)at.drawBullsEye(de,P.truncDivision(K,2),5);else{at.drawBullsEye(de,P.truncDivision(K,2),7);for(let ue=0,Je=0;ue<P.truncDivision(j,2)-1;ue+=15,Je+=16)for(let Ge=P.truncDivision(K,2)&1;Ge<K;Ge+=2)de.set(P.truncDivision(K,2)-Je,Ge),de.set(P.truncDivision(K,2)+Je,Ge),de.set(Ge,P.truncDivision(K,2)-Je),de.set(Ge,P.truncDivision(K,2)+Je)}let he=new Xo;return he.setCompact(u),he.setSize(K),he.setLayers(d),he.setCodeWords(M),he.setMatrix(de),he}static drawBullsEye(e,n,r){for(let s=0;s<r;s+=2)for(let o=n-s;o<=n+s;o++)e.set(o,n-s),e.set(o,n+s),e.set(n-s,o),e.set(n+s,o);e.set(n-r,n-r),e.set(n-r+1,n-r),e.set(n-r,n-r+1),e.set(n+r,n-r),e.set(n+r,n-r+1),e.set(n+r,n+r-1)}static generateModeMessage(e,n,r){let s=new se;return e?(s.appendBits(n-1,2),s.appendBits(r-1,6),s=at.generateCheckWords(s,28,4)):(s.appendBits(n-1,5),s.appendBits(r-1,11),s=at.generateCheckWords(s,40,4)),s}static drawModeMessage(e,n,r,s){let o=P.truncDivision(r,2);if(n)for(let l=0;l<7;l++){let u=o-3+l;s.get(l)&&e.set(u,o-5),s.get(l+7)&&e.set(o+5,u),s.get(20-l)&&e.set(u,o+5),s.get(27-l)&&e.set(o-5,u)}else for(let l=0;l<10;l++){let u=o-5+l+P.truncDivision(l,5);s.get(l)&&e.set(u,o-7),s.get(l+10)&&e.set(o+7,u),s.get(29-l)&&e.set(u,o+7),s.get(39-l)&&e.set(o-7,u)}}static generateCheckWords(e,n,r){let s=e.getSize()/r,o=new $s(at.getGF(r)),l=P.truncDivision(n,r),u=at.bitsToWords(e,r,l);o.encode(u,l-s);let d=n%r,p=new se;p.appendBits(0,d);for(const C of Array.from(u))p.appendBits(C,r);return p}static bitsToWords(e,n,r){let s=new Int32Array(r),o,l;for(o=0,l=e.getSize()/n;o<l;o++){let u=0;for(let d=0;d<n;d++)u|=e.get(o*n+d)?1<<n-d-1:0;s[o]=u}return s}static getGF(e){switch(e){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new b("Unsupported word size "+e)}}static stuffBits(e,n){let r=new se,s=e.getSize(),o=(1<<n)-2;for(let l=0;l<s;l+=n){let u=0;for(let d=0;d<n;d++)(l+d>=s||e.get(l+d))&&(u|=1<<n-1-d);(u&o)===o?(r.appendBits(u&o,n),l--):(u&o)===0?(r.appendBits(u|1,n),l--):r.appendBits(u,n)}return r}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}at.DEFAULT_EC_PERCENT=33,at.DEFAULT_AZTEC_LAYERS=0,at.MAX_NB_BITS=32,at.MAX_NB_BITS_COMPACT=4,at.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Wi{encode(e,n,r,s){return this.encodeWithHints(e,n,r,s,null)}encodeWithHints(e,n,r,s,o){let l=eo.ISO_8859_1,u=at.DEFAULT_EC_PERCENT,d=at.DEFAULT_AZTEC_LAYERS;return o!=null&&(o.has(Zt.CHARACTER_SET)&&(l=Go.forName(o.get(Zt.CHARACTER_SET).toString())),o.has(Zt.ERROR_CORRECTION)&&(u=P.parseInt(o.get(Zt.ERROR_CORRECTION).toString())),o.has(Zt.AZTEC_LAYERS)&&(d=P.parseInt(o.get(Zt.AZTEC_LAYERS).toString()))),Wi.encodeLayers(e,n,r,s,l,u,d)}static encodeLayers(e,n,r,s,o,l,u){if(n!==pe.AZTEC)throw new b("Can only encode AZTEC, but got "+n);let d=at.encode(ve.getBytes(e,o),l,u);return Wi.renderResult(d,r,s)}static renderResult(e,n,r){let s=e.getMatrix();if(s==null)throw new Hn;let o=s.getWidth(),l=s.getHeight(),u=Math.max(n,o),d=Math.max(r,l),p=Math.min(u/o,d/l),C=(u-o*p)/2,S=(d-l*p)/2,T=new $e(u,d);for(let M=0,L=S;M<l;M++,L+=p)for(let j=0,V=C;j<o;j++,V+=p)s.get(j,M)&&T.setRegion(V,L,p,p);return T}}f.AbstractExpandedDecoder=Ws,f.ArgumentException=R,f.ArithmeticException=bi,f.AztecCode=Xo,f.AztecCodeReader=_r,f.AztecCodeWriter=Wi,f.AztecDecoder=Et,f.AztecDetector=ii,f.AztecDetectorResult=Fs,f.AztecEncoder=at,f.AztecHighLevelEncoder=Vi,f.AztecPoint=cn,f.BarcodeFormat=pe,f.Binarizer=ne,f.BinaryBitmap=F,f.BitArray=se,f.BitMatrix=$e,f.BitSource=Xs,f.BrowserAztecCodeReader=ta,f.BrowserBarcodeReader=Fo,f.BrowserCodeReader=ze,f.BrowserDatamatrixCodeReader=na,f.BrowserMultiFormatReader=Ui,f.BrowserPDF417Reader=hs,f.BrowserQRCodeReader=Ho,f.BrowserQRCodeSvgWriter=Vr,f.CharacterSetECI=te,f.ChecksumException=H,f.Code128Reader=xe,f.Code39Reader=Xt,f.DataMatrixDecodedBitStreamParser=Zn,f.DataMatrixReader=Qn,f.DecodeHintType=Ee,f.DecoderResult=mt,f.DefaultGridSampler=ss,f.DetectorResult=ri,f.EAN13Reader=Pn,f.EncodeHintType=Zt,f.Exception=E,f.FormatException=re,f.GenericGF=lt,f.GenericGFPoly=en,f.GlobalHistogramBinarizer=st,f.GridSampler=is,f.GridSamplerInstance=Gn,f.HTMLCanvasElementLuminanceSource=ye,f.HybridBinarizer=Ne,f.ITFReader=gt,f.IllegalArgumentException=b,f.IllegalStateException=Hn,f.InvertedLuminanceSource=De,f.LuminanceSource=me,f.MathUtils=nt,f.MultiFormatOneDReader=oi,f.MultiFormatReader=ds,f.MultiFormatWriter=ia,f.NotFoundException=$,f.OneDReader=Pt,f.PDF417DecodedBitStreamParser=q,f.PDF417DecoderErrorCorrection=Qs,f.PDF417Reader=on,f.PDF417ResultMetadata=cs,f.PerspectiveTransform=kn,f.PlanarYUVLuminanceSource=ar,f.QRCodeByteMatrix=gs,f.QRCodeDataMask=Ke,f.QRCodeDecodedBitStreamParser=Rt,f.QRCodeDecoderErrorCorrectionLevel=yt,f.QRCodeDecoderFormatInformation=nn,f.QRCodeEncoder=vt,f.QRCodeEncoderQRCode=zr,f.QRCodeMaskUtil=Tt,f.QRCodeMatrixUtil=Le,f.QRCodeMode=Pe,f.QRCodeReader=wn,f.QRCodeVersion=ke,f.QRCodeWriter=di,f.RGBLuminanceSource=ji,f.RSS14Reader=At,f.RSSExpandedReader=oe,f.ReaderException=fi,f.ReedSolomonDecoder=ni,f.ReedSolomonEncoder=$s,f.ReedSolomonException=Rr,f.Result=Be,f.ResultMetadataType=Ve,f.ResultPoint=Re,f.StringUtils=ve,f.UnsupportedOperationException=Ze,f.VideoInputDevice=W,f.WhiteRectangleDetector=rr,f.WriterException=Ct,f.ZXingArrays=le,f.ZXingCharset=Go,f.ZXingInteger=P,f.ZXingStandardCharsets=eo,f.ZXingStringBuilder=Xe,f.ZXingStringEncoding=qe,f.ZXingSystem=Y,f.createAbstractExpandedDecoder=Bo,Object.defineProperty(f,"__esModule",{value:!0})}))})(To,To.exports)),To.exports}var Dt=vg();const Ag=x0(Dt),Sg=$f({__proto__:null,default:Ag},[Dt]);var a0=(function(){function h(g,f,y){if(this.formatMap=new Map([[Te.QR_CODE,Dt.BarcodeFormat.QR_CODE],[Te.AZTEC,Dt.BarcodeFormat.AZTEC],[Te.CODABAR,Dt.BarcodeFormat.CODABAR],[Te.CODE_39,Dt.BarcodeFormat.CODE_39],[Te.CODE_93,Dt.BarcodeFormat.CODE_93],[Te.CODE_128,Dt.BarcodeFormat.CODE_128],[Te.DATA_MATRIX,Dt.BarcodeFormat.DATA_MATRIX],[Te.MAXICODE,Dt.BarcodeFormat.MAXICODE],[Te.ITF,Dt.BarcodeFormat.ITF],[Te.EAN_13,Dt.BarcodeFormat.EAN_13],[Te.EAN_8,Dt.BarcodeFormat.EAN_8],[Te.PDF_417,Dt.BarcodeFormat.PDF_417],[Te.RSS_14,Dt.BarcodeFormat.RSS_14],[Te.RSS_EXPANDED,Dt.BarcodeFormat.RSS_EXPANDED],[Te.UPC_A,Dt.BarcodeFormat.UPC_A],[Te.UPC_E,Dt.BarcodeFormat.UPC_E],[Te.UPC_EAN_EXTENSION,Dt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Sg)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=f,this.logger=y;var v=this.createZXingFormats(g),w=new Map;w.set(Dt.DecodeHintType.POSSIBLE_FORMATS,v),w.set(Dt.DecodeHintType.TRY_HARDER,!1),this.hints=w}return h.prototype.decodeAsync=function(g){var f=this;return new Promise(function(y,v){try{y(f.decode(g))}catch(w){v(w)}})},h.prototype.decode=function(g){var f=new Dt.MultiFormatReader(this.verbose,this.hints),y=new Dt.HTMLCanvasElementLuminanceSource(g),v=new Dt.BinaryBitmap(new Dt.HybridBinarizer(y)),w=f.decode(v);return{text:w.text,format:sf.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(f,y,v){g.set(f,y)}),g},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createZXingFormats=function(g){for(var f=[],y=0,v=g;y<v.length;y++){var w=v[y];this.formatMap.has(w)?f.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return f},h.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},h})(),Ig=function(h,g,f,y){function v(w){return w instanceof f?w:new f(function(O){O(w)})}return new(f||(f=Promise))(function(w,O){function k(R){try{E(y.next(R))}catch(b){O(b)}}function I(R){try{E(y.throw(R))}catch(b){O(b)}}function E(R){R.done?w(R.value):v(R.value).then(k,I)}E((y=y.apply(h,g||[])).next())})},Ng=function(h,g){var f={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,v,w,O;return O={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function k(E){return function(R){return I([E,R])}}function I(E){if(y)throw new TypeError("Generator is already executing.");for(;O&&(O=0,E[0]&&(f=0)),f;)try{if(y=1,v&&(w=E[0]&2?v.return:E[0]?v.throw||((w=v.return)&&w.call(v),0):v.next)&&!(w=w.call(v,E[1])).done)return w;switch(v=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return f.label++,{value:E[1],done:!1};case 5:f.label++,v=E[1],E=[0];continue;case 7:E=f.ops.pop(),f.trys.pop();continue;default:if(w=f.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){f=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){f.label=E[1];break}if(E[0]===6&&f.label<w[1]){f.label=w[1],w=E;break}if(w&&f.label<w[2]){f.label=w[2],f.ops.push(E);break}w[2]&&f.ops.pop(),f.trys.pop();continue}E=g.call(h,f)}catch(R){E=[6,R],v=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},u0=(function(){function h(g,f,y){if(this.formatMap=new Map([[Te.QR_CODE,"qr_code"],[Te.AZTEC,"aztec"],[Te.CODABAR,"codabar"],[Te.CODE_39,"code_39"],[Te.CODE_93,"code_93"],[Te.CODE_128,"code_128"],[Te.DATA_MATRIX,"data_matrix"],[Te.ITF,"itf"],[Te.EAN_13,"ean_13"],[Te.EAN_8,"ean_8"],[Te.PDF_417,"pdf417"],[Te.UPC_A,"upc_a"],[Te.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!h.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=f,this.logger=y;var v=this.createBarcodeDetectorFormats(g);if(this.detector=new BarcodeDetector(v),!this.detector)throw"BarcodeDetector detector not supported"}return h.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var g=new BarcodeDetector({formats:["qr_code"]});return typeof g<"u"},h.prototype.decodeAsync=function(g){return Ig(this,void 0,void 0,function(){var f,y;return Ng(this,function(v){switch(v.label){case 0:return[4,this.detector.detect(g)];case 1:if(f=v.sent(),!f||f.length===0)throw"No barcode or QR code detected.";return y=this.selectLargestBarcode(f),[2,{text:y.rawValue,format:sf.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}]}})})},h.prototype.selectLargestBarcode=function(g){for(var f=null,y=0,v=0,w=g;v<w.length;v++){var O=w[v],k=O.boundingBox.width*O.boundingBox.height;k>y&&(y=k,f=O)}if(!f)throw"No largest barcode found";return f},h.prototype.createBarcodeDetectorFormats=function(g){for(var f=[],y=0,v=g;y<v.length;y++){var w=v[y];this.formatMap.has(w)?f.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:f}},h.prototype.toHtml5QrcodeSupportedFormats=function(g){if(!this.reverseFormatMap.has(g))throw"reverseFormatMap doesn't have ".concat(g);return this.reverseFormatMap.get(g)},h.prototype.createReverseFormatMap=function(){var g=new Map;return this.formatMap.forEach(function(f,y,v){g.set(f,y)}),g},h.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},h})(),c0=function(h,g,f,y){function v(w){return w instanceof f?w:new f(function(O){O(w)})}return new(f||(f=Promise))(function(w,O){function k(R){try{E(y.next(R))}catch(b){O(b)}}function I(R){try{E(y.throw(R))}catch(b){O(b)}}function E(R){R.done?w(R.value):v(R.value).then(k,I)}E((y=y.apply(h,g||[])).next())})},f0=function(h,g){var f={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,v,w,O;return O={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function k(E){return function(R){return I([E,R])}}function I(E){if(y)throw new TypeError("Generator is already executing.");for(;O&&(O=0,E[0]&&(f=0)),f;)try{if(y=1,v&&(w=E[0]&2?v.return:E[0]?v.throw||((w=v.return)&&w.call(v),0):v.next)&&!(w=w.call(v,E[1])).done)return w;switch(v=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return f.label++,{value:E[1],done:!1};case 5:f.label++,v=E[1],E=[0];continue;case 7:E=f.ops.pop(),f.trys.pop();continue;default:if(w=f.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){f=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){f.label=E[1];break}if(E[0]===6&&f.label<w[1]){f.label=w[1],w=E;break}if(w&&f.label<w[2]){f.label=w[2],f.ops.push(E);break}w[2]&&f.ops.pop(),f.trys.pop();continue}E=g.call(h,f)}catch(R){E=[6,R],v=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Rg=(function(){function h(g,f,y,v){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=y,f&&u0.isSupported()?(this.primaryDecoder=new u0(g,y,v),this.secondaryDecoder=new a0(g,y,v)):this.primaryDecoder=new a0(g,y,v)}return h.prototype.decodeAsync=function(g){return c0(this,void 0,void 0,function(){var f;return f0(this,function(y){switch(y.label){case 0:f=performance.now(),y.label=1;case 1:return y.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(g)];case 2:return[2,y.sent()];case 3:return this.possiblyLogPerformance(f),[7];case 4:return[2]}})})},h.prototype.decodeRobustlyAsync=function(g){return c0(this,void 0,void 0,function(){var f,y;return f0(this,function(v){switch(v.label){case 0:f=performance.now(),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(g)];case 2:return[2,v.sent()];case 3:if(y=v.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(g)];throw y;case 4:return this.possiblyLogPerformance(f),[7];case 5:return[2]}})})},h.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},h.prototype.possiblyLogPerformance=function(g){if(this.verbose){var f=performance.now()-g;this.executionResults.push(f),this.executions++,this.possiblyFlushPerformanceReport()}},h.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var g=0,f=0,y=this.executionResults;f<y.length;f++){var v=y[f];g+=v}var w=g/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},h})(),Xu=(function(){var h=function(g,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(y[w]=v[w])},h(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(g,f);function y(){this.constructor=g}g.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}})(),Kl=function(h,g,f,y){function v(w){return w instanceof f?w:new f(function(O){O(w)})}return new(f||(f=Promise))(function(w,O){function k(R){try{E(y.next(R))}catch(b){O(b)}}function I(R){try{E(y.throw(R))}catch(b){O(b)}}function E(R){R.done?w(R.value):v(R.value).then(k,I)}E((y=y.apply(h,g||[])).next())})},ql=function(h,g){var f={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,v,w,O;return O={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function k(E){return function(R){return I([E,R])}}function I(E){if(y)throw new TypeError("Generator is already executing.");for(;O&&(O=0,E[0]&&(f=0)),f;)try{if(y=1,v&&(w=E[0]&2?v.return:E[0]?v.throw||((w=v.return)&&w.call(v),0):v.next)&&!(w=w.call(v,E[1])).done)return w;switch(v=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return f.label++,{value:E[1],done:!1};case 5:f.label++,v=E[1],E=[0];continue;case 7:E=f.ops.pop(),f.trys.pop();continue;default:if(w=f.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){f=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){f.label=E[1];break}if(E[0]===6&&f.label<w[1]){f.label=w[1],w=E;break}if(w&&f.label<w[2]){f.label=w[2],f.ops.push(E);break}w[2]&&f.ops.pop(),f.trys.pop();continue}E=g.call(h,f)}catch(R){E=[6,R],v=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},lf=(function(){function h(g,f){this.name=g,this.track=f}return h.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},h.prototype.apply=function(g){var f={};f[this.name]=g;var y={advanced:[f]};return this.track.applyConstraints(y)},h.prototype.value=function(){var g=this.track.getSettings();if(this.name in g){var f=g[this.name];return f}return null},h})(),Tg=(function(h){Xu(g,h);function g(f,y){return h.call(this,f,y)||this}return g.prototype.min=function(){return this.getCapabilities().min},g.prototype.max=function(){return this.getCapabilities().max},g.prototype.step=function(){return this.getCapabilities().step},g.prototype.apply=function(f){var y={};y[this.name]=f;var v={advanced:[y]};return this.track.applyConstraints(v)},g.prototype.getCapabilities=function(){this.failIfNotSupported();var f=this.track.getCapabilities(),y=f[this.name];return{min:y.min,max:y.max,step:y.step}},g.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},g})(lf),_g=(function(h){Xu(g,h);function g(f){return h.call(this,"zoom",f)||this}return g})(Tg),bg=(function(h){Xu(g,h);function g(f){return h.call(this,"torch",f)||this}return g})(lf),Og=(function(){function h(g){this.track=g}return h.prototype.zoomFeature=function(){return new _g(this.track)},h.prototype.torchFeature=function(){return new bg(this.track)},h})(),Dg=(function(){function h(g,f,y){this.isClosed=!1,this.parentElement=g,this.mediaStream=f,this.callbacks=y,this.surface=this.createVideoElement(this.parentElement.clientWidth),g.append(this.surface)}return h.prototype.createVideoElement=function(g){var f=document.createElement("video");return f.style.width="".concat(g,"px"),f.style.display="block",f.muted=!0,f.setAttribute("muted","true"),f.playsInline=!0,f},h.prototype.setupSurface=function(){var g=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var f=function(){var y=g.surface.clientWidth,v=g.surface.clientHeight;g.callbacks.onRenderSurfaceReady(y,v),g.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.srcObject=this.mediaStream,this.surface.play()},h.create=function(g,f,y,v){return Kl(this,void 0,void 0,function(){var w,O;return ql(this,function(k){switch(k.label){case 0:return w=new h(g,f,v),y.aspectRatio?(O={aspectRatio:y.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(O)]):[3,2];case 1:k.sent(),k.label=2;case 2:return w.setupSurface(),[2,w]}})})},h.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},h.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},h.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},h.prototype.resume=function(g){this.failIfClosed();var f=this,y=function(){setTimeout(g,200),f.surface.removeEventListener("playing",y)};this.surface.addEventListener("playing",y),this.surface.play()},h.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},h.prototype.getSurface=function(){return this.failIfClosed(),this.surface},h.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},h.prototype.applyVideoConstraints=function(g){return Kl(this,void 0,void 0,function(){return ql(this,function(f){if("aspectRatio"in g)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(g)]})})},h.prototype.close=function(){if(this.isClosed)return Promise.resolve();var g=this;return new Promise(function(f,y){var v=g.mediaStream.getVideoTracks(),w=v.length,O=0;g.mediaStream.getVideoTracks().forEach(function(k){g.mediaStream.removeTrack(k),k.stop(),++O,O>=w&&(g.isClosed=!0,g.parentElement.removeChild(g.surface),f())})})},h.prototype.getCapabilities=function(){return new Og(this.getFirstTrackOrFail())},h})(),Mg=(function(){function h(g){this.mediaStream=g}return h.prototype.render=function(g,f,y){return Kl(this,void 0,void 0,function(){return ql(this,function(v){return[2,Dg.create(g,this.mediaStream,f,y)]})})},h.create=function(g){return Kl(this,void 0,void 0,function(){var f,y;return ql(this,function(v){switch(v.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return f={audio:!1,video:g},[4,navigator.mediaDevices.getUserMedia(f)];case 1:return y=v.sent(),[2,new h(y)]}})})},h})(),d0=function(h,g,f,y){function v(w){return w instanceof f?w:new f(function(O){O(w)})}return new(f||(f=Promise))(function(w,O){function k(R){try{E(y.next(R))}catch(b){O(b)}}function I(R){try{E(y.throw(R))}catch(b){O(b)}}function E(R){R.done?w(R.value):v(R.value).then(k,I)}E((y=y.apply(h,g||[])).next())})},h0=function(h,g){var f={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,v,w,O;return O={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function k(E){return function(R){return I([E,R])}}function I(E){if(y)throw new TypeError("Generator is already executing.");for(;O&&(O=0,E[0]&&(f=0)),f;)try{if(y=1,v&&(w=E[0]&2?v.return:E[0]?v.throw||((w=v.return)&&w.call(v),0):v.next)&&!(w=w.call(v,E[1])).done)return w;switch(v=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return f.label++,{value:E[1],done:!1};case 5:f.label++,v=E[1],E=[0];continue;case 7:E=f.ops.pop(),f.trys.pop();continue;default:if(w=f.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){f=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){f.label=E[1];break}if(E[0]===6&&f.label<w[1]){f.label=w[1],w=E;break}if(w&&f.label<w[2]){f.label=w[2],f.ops.push(E);break}w[2]&&f.ops.pop(),f.trys.pop();continue}E=g.call(h,f)}catch(R){E=[6,R],v=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},kg=(function(){function h(){}return h.failIfNotSupported=function(){return d0(this,void 0,void 0,function(){return h0(this,function(g){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new h]})})},h.prototype.create=function(g){return d0(this,void 0,void 0,function(){return h0(this,function(f){return[2,Mg.create(g)]})})},h})(),Pg=function(h,g,f,y){function v(w){return w instanceof f?w:new f(function(O){O(w)})}return new(f||(f=Promise))(function(w,O){function k(R){try{E(y.next(R))}catch(b){O(b)}}function I(R){try{E(y.throw(R))}catch(b){O(b)}}function E(R){R.done?w(R.value):v(R.value).then(k,I)}E((y=y.apply(h,g||[])).next())})},Bg=function(h,g){var f={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,v,w,O;return O={next:k(0),throw:k(1),return:k(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function k(E){return function(R){return I([E,R])}}function I(E){if(y)throw new TypeError("Generator is already executing.");for(;O&&(O=0,E[0]&&(f=0)),f;)try{if(y=1,v&&(w=E[0]&2?v.return:E[0]?v.throw||((w=v.return)&&w.call(v),0):v.next)&&!(w=w.call(v,E[1])).done)return w;switch(v=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return f.label++,{value:E[1],done:!1};case 5:f.label++,v=E[1],E=[0];continue;case 7:E=f.ops.pop(),f.trys.pop();continue;default:if(w=f.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){f=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){f.label=E[1];break}if(E[0]===6&&f.label<w[1]){f.label=w[1],w=E;break}if(w&&f.label<w[2]){f.label=w[2],f.ops.push(E);break}w[2]&&f.ops.pop(),f.trys.pop();continue}E=g.call(h,f)}catch(R){E=[6,R],v=0}finally{y=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Lg=(function(){function h(){}return h.retrieve=function(){if(navigator.mediaDevices)return h.getCamerasFromMediaDevices();var g=MediaStreamTrack;return MediaStreamTrack&&g.getSources?h.getCamerasFromMediaStreamTrack():h.rejectWithError()},h.rejectWithError=function(){var g=ks.unableToQuerySupportedDevices();return h.isHttpsOrLocalhost()||(g=ks.insecureContextCameraQueryError()),Promise.reject(g)},h.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var g=location.host.split(":")[0];return g==="127.0.0.1"||g==="localhost"},h.getCamerasFromMediaDevices=function(){return Pg(this,void 0,void 0,function(){var g,f,y,v,w,O,k;return Bg(this,function(I){switch(I.label){case 0:return g=function(E){for(var R=E.getVideoTracks(),b=0,F=R;b<F.length;b++){var H=F[b];H.enabled=!1,H.stop(),E.removeTrack(H)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return f=I.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(y=I.sent(),v=[],w=0,O=y;w<O.length;w++)k=O[w],k.kind==="videoinput"&&v.push({id:k.deviceId,label:k.label});return g(f),[2,v]}})})},h.getCamerasFromMediaStreamTrack=function(){return new Promise(function(g,f){var y=function(w){for(var O=[],k=0,I=w;k<I.length;k++){var E=I[k];E.kind==="video"&&O.push({id:E.id,label:E.label})}g(O)},v=MediaStreamTrack;v.getSources(y)})},h})(),Ht;(function(h){h[h.UNKNOWN=0]="UNKNOWN",h[h.NOT_STARTED=1]="NOT_STARTED",h[h.SCANNING=2]="SCANNING",h[h.PAUSED=3]="PAUSED"})(Ht||(Ht={}));var Fg=(function(){function h(){this.state=Ht.NOT_STARTED,this.onGoingTransactionNewState=Ht.UNKNOWN}return h.prototype.directTransition=function(g){this.failIfTransitionOngoing(),this.validateTransition(g),this.state=g},h.prototype.startTransition=function(g){return this.failIfTransitionOngoing(),this.validateTransition(g),this.onGoingTransactionNewState=g,this},h.prototype.execute=function(){if(this.onGoingTransactionNewState===Ht.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var g=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ht.UNKNOWN,this.directTransition(g)},h.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ht.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ht.UNKNOWN},h.prototype.getState=function(){return this.state},h.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ht.UNKNOWN)throw"Cannot transition to a new state, already under transition"},h.prototype.validateTransition=function(g){switch(this.state){case Ht.UNKNOWN:throw"Transition from unknown is not allowed";case Ht.NOT_STARTED:this.failIfNewStateIs(g,[Ht.PAUSED]);break;case Ht.SCANNING:break;case Ht.PAUSED:break}},h.prototype.failIfNewStateIs=function(g,f){for(var y=0,v=f;y<v.length;y++){var w=v[y];if(g===w)throw"Cannot transition from ".concat(this.state," to ").concat(g)}},h})(),Ug=(function(){function h(g){this.stateManager=g}return h.prototype.startTransition=function(g){return this.stateManager.startTransition(g)},h.prototype.directTransition=function(g){this.stateManager.directTransition(g)},h.prototype.getState=function(){return this.stateManager.getState()},h.prototype.canScanFile=function(){return this.stateManager.getState()===Ht.NOT_STARTED},h.prototype.isScanning=function(){return this.stateManager.getState()!==Ht.NOT_STARTED},h.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ht.SCANNING},h.prototype.isPaused=function(){return this.stateManager.getState()===Ht.PAUSED},h})(),jg=(function(){function h(){}return h.create=function(){return new Ug(new Fg)},h})(),zg=(function(){var h=function(g,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(y[w]=v[w])},h(g,f)};return function(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(g,f);function y(){this.constructor=g}g.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}})(),nr=(function(h){zg(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return g.DEFAULT_WIDTH=300,g.DEFAULT_WIDTH_OFFSET=2,g.FILE_SCAN_MIN_HEIGHT=300,g.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,g.MIN_QR_BOX_SIZE=50,g.SHADED_LEFT=1,g.SHADED_RIGHT=2,g.SHADED_TOP=3,g.SHADED_BOTTOM=4,g.SHADED_REGION_ELEMENT_ID="qr-shaded-region",g.VERBOSE=!1,g.BORDER_SHADER_DEFAULT_COLOR="#ffffff",g.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",g})(wg),Vg=(function(){function h(g,f){this.logger=f,this.fps=nr.SCAN_DEFAULT_FPS,g?(g.fps&&(this.fps=g.fps),this.disableFlip=g.disableFlip===!0,this.qrbox=g.qrbox,this.aspectRatio=g.aspectRatio,this.videoConstraints=g.videoConstraints):this.disableFlip=nr.DEFAULT_DISABLE_FLIP}return h.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?of.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},h.prototype.isShadedBoxEnabled=function(){return!$r(this.qrbox)},h.create=function(g,f){return new h(g,f)},h})(),g0=(function(){function h(g,f){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(g))throw"HTML Element with id=".concat(g," not found");this.elementId=g,this.verbose=!1;var y;typeof f=="boolean"?this.verbose=f===!0:f&&(y=f,this.verbose=y.verbose===!0,y.experimentalFeatures),this.logger=new Eg(this.verbose),this.qrcode=new Rg(this.getSupportedFormats(f),this.getUseBarCodeDetectorIfSupported(y),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=jg.create()}return h.prototype.start=function(g,f,y,v){var w=this;if(!g)throw"cameraIdOrConfig is required";if(!y||typeof y!="function")throw"qrCodeSuccessCallback is required and should be a function.";var O;v?O=v:O=this.verbose?this.logger.log:function(){};var k=Vg.create(f,this.logger);this.clearElement();var I=!1;k.videoConstraints&&(k.isMediaStreamConstraintsValid()?I=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=I,R=document.getElementById(this.elementId);R.clientWidth?R.clientWidth:nr.DEFAULT_WIDTH,R.style.position="relative",this.shouldScan=!0,this.element=R;var b=this,F=this.stateManagerProxy.startTransition(Ht.SCANNING);return new Promise(function(H,ne){var Y=E?k.videoConstraints:b.createVideoConstraints(g);if(!Y){F.cancel(),ne("videoConstraints should be defined");return}var ee={};(!E||k.aspectRatio)&&(ee.aspectRatio=k.aspectRatio);var we={onRenderSurfaceReady:function(le,P){b.setupUi(le,P,k),b.isScanning=!0,b.foreverScan(k,y,O)}};kg.failIfNotSupported().then(function(le){le.create(Y).then(function(P){return P.render(w.element,ee,we).then(function(se){b.renderedCamera=se,F.execute(),H(null)}).catch(function(se){F.cancel(),ne(se)})}).catch(function(P){F.cancel(),ne(ks.errorGettingUserMedia(P))})}).catch(function(le){F.cancel(),ne(ks.cameraStreamingNotSupported())})})},h.prototype.pause=function(g){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ht.PAUSED),this.showPausedState(),($r(g)||g!==!0)&&(g=!1),g&&this.renderedCamera&&this.renderedCamera.pause()},h.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var g=this,f=function(){g.stateManagerProxy.directTransition(Ht.SCANNING),g.hidePausedState()};if(!this.renderedCamera.isPaused()){f();return}this.renderedCamera.resume(function(){f()})},h.prototype.getState=function(){return this.stateManagerProxy.getState()},h.prototype.stop=function(){var g=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var f=this.stateManagerProxy.startTransition(Ht.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var y=function(){if(g.element){var w=document.getElementById(nr.SHADED_REGION_ELEMENT_ID);w&&g.element.removeChild(w)}},v=this;return this.renderedCamera.close().then(function(){return v.renderedCamera=null,v.element&&(v.element.removeChild(v.canvasElement),v.canvasElement=null),y(),v.qrRegion&&(v.qrRegion=null),v.context&&(v.context=null),f.execute(),v.hidePausedState(),v.isScanning=!1,Promise.resolve()})},h.prototype.scanFile=function(g,f){return this.scanFileV2(g,f).then(function(y){return y.decodedText})},h.prototype.scanFileV2=function(g,f){var y=this;if(!g||!(g instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if($r(f)&&(f=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(v,w){y.possiblyCloseLastScanImageFile(),y.clearElement(),y.lastScanImageFile=URL.createObjectURL(g);var O=new Image;O.onload=function(){var k=O.width,I=O.height,E=document.getElementById(y.elementId),R=E.clientWidth?E.clientWidth:nr.DEFAULT_WIDTH,b=Math.max(E.clientHeight?E.clientHeight:I,nr.FILE_SCAN_MIN_HEIGHT),F=y.computeCanvasDrawConfig(k,I,R,b);if(f){var H=y.createCanvasElement(R,b,"qr-canvas-visible");H.style.display="inline-block",E.appendChild(H);var ne=H.getContext("2d");if(!ne)throw"Unable to get 2d context from canvas";ne.canvas.width=R,ne.canvas.height=b,ne.drawImage(O,0,0,k,I,F.x,F.y,F.width,F.height)}var Y=nr.FILE_SCAN_HIDDEN_CANVAS_PADDING,ee=Math.max(O.width,F.width),we=Math.max(O.height,F.height),le=ee+2*Y,P=we+2*Y,se=y.createCanvasElement(le,P);E.appendChild(se);var Se=se.getContext("2d");if(!Se)throw"Unable to get 2d context from canvas";Se.canvas.width=le,Se.canvas.height=P,Se.drawImage(O,0,0,k,I,Y,Y,ee,we);try{y.qrcode.decodeRobustlyAsync(se).then(function(Ee){v(o0.createFromQrcodeResult(Ee))}).catch(w)}catch(Ee){w("QR code parse error, error = ".concat(Ee))}},O.onerror=w,O.onabort=w,O.onstalled=w,O.onsuspend=w,O.src=URL.createObjectURL(g)})},h.prototype.clear=function(){this.clearElement()},h.getCameras=function(){return Lg.retrieve()},h.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},h.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},h.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},h.prototype.applyVideoConstraints=function(g){if(g){if(!of.isMediaStreamConstraintsValid(g,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(g)},h.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},h.prototype.getSupportedFormats=function(g){var f=[Te.QR_CODE,Te.AZTEC,Te.CODABAR,Te.CODE_39,Te.CODE_93,Te.CODE_128,Te.DATA_MATRIX,Te.MAXICODE,Te.ITF,Te.EAN_13,Te.EAN_8,Te.PDF_417,Te.RSS_14,Te.RSS_EXPANDED,Te.UPC_A,Te.UPC_E,Te.UPC_EAN_EXTENSION];if(!g||typeof g=="boolean"||!g.formatsToSupport)return f;if(!Array.isArray(g.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(g.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var y=[],v=0,w=g.formatsToSupport;v<w.length;v++){var O=w[v];mg(O)?y.push(O):this.logger.warn("Invalid format: ".concat(O," passed in config, ignoring."))}if(y.length===0)throw"None of formatsToSupport match supported values.";return y},h.prototype.getUseBarCodeDetectorIfSupported=function(g){if($r(g))return!0;if(!$r(g.useBarCodeDetectorIfSupported))return g.useBarCodeDetectorIfSupported!==!1;if($r(g.experimentalFeatures))return!0;var f=g.experimentalFeatures;return $r(f.useBarCodeDetectorIfSupported)?!0:f.useBarCodeDetectorIfSupported!==!1},h.prototype.validateQrboxSize=function(g,f,y){var v=this,w=y.qrbox;this.validateQrboxConfig(w);var O=this.toQrdimensions(g,f,w),k=function(E){if(E<nr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(nr.MIN_QR_BOX_SIZE,"px.")},I=function(E){return E>g&&(v.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=g),E};k(O.width),k(O.height),O.width=I(O.width)},h.prototype.validateQrboxConfig=function(g){if(typeof g!="number"&&typeof g!="function"&&(g.width===void 0||g.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},h.prototype.toQrdimensions=function(g,f,y){if(typeof y=="number")return{width:y,height:y};if(typeof y=="function")try{return y(g,f)}catch(v){throw new Error("qrbox config was passed as a function but it failed with unknown error"+v)}return y},h.prototype.setupUi=function(g,f,y){y.isShadedBoxEnabled()&&this.validateQrboxSize(g,f,y);var v=$r(y.qrbox)?{width:g,height:f}:y.qrbox;this.validateQrboxConfig(v);var w=this.toQrdimensions(g,f,v);w.height>f&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var O=y.isShadedBoxEnabled()&&w.height<=f,k={x:0,y:0,width:g,height:f},I=O?this.getShadedRegionBounds(g,f,w):k,E=this.createCanvasElement(I.width,I.height),R={willReadFrequently:!0},b=E.getContext("2d",R);b.canvas.width=I.width,b.canvas.height=I.height,this.element.append(E),O&&this.possiblyInsertShadingElement(this.element,g,f,w),this.createScannerPausedUiElement(this.element),this.qrRegion=I,this.context=b,this.canvasElement=E},h.prototype.createScannerPausedUiElement=function(g){var f=document.createElement("div");f.innerText=ks.scannerPaused(),f.style.display="none",f.style.position="absolute",f.style.top="0px",f.style.zIndex="1",f.style.background="rgba(9, 9, 9, 0.46)",f.style.color="#FFECEC",f.style.textAlign="center",f.style.width="100%",g.appendChild(f),this.scannerPausedUiElement=f},h.prototype.scanContext=function(g,f){var y=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(v){return g(v.text,o0.createFromQrcodeResult(v)),y.possiblyUpdateShaders(!0),!0}).catch(function(v){y.possiblyUpdateShaders(!1);var w=ks.codeParseError(v);return f(w,yg.createFrom(w)),!1})},h.prototype.foreverScan=function(g,f,y){var v=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),O=w.videoWidth/w.clientWidth,k=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var I=this.qrRegion.width*O,E=this.qrRegion.height*k,R=this.qrRegion.x*O,b=this.qrRegion.y*k;this.context.drawImage(w,R,b,I,E,0,0,this.qrRegion.width,this.qrRegion.height);var F=function(){v.foreverScanTimeout=setTimeout(function(){v.foreverScan(g,f,y)},v.getTimeoutFps(g.fps))};this.scanContext(f,y).then(function(H){!H&&g.disableFlip!==!0?(v.context.translate(v.context.canvas.width,0),v.context.scale(-1,1),v.scanContext(f,y).finally(function(){F()})):F()}).catch(function(H){v.logger.logError("Error happend while scanning context",H),F()})}},h.prototype.createVideoConstraints=function(g){if(typeof g=="string")return{deviceId:{exact:g}};if(typeof g=="object"){var f="facingMode",y="deviceId",v={user:!0,environment:!0},w="exact",O=function(ne){if(ne in v)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ne,"'")},k=Object.keys(g);if(k.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(k.length," keys");var I=Object.keys(g)[0];if(I!==f&&I!==y)throw"Only '".concat(f,"' and '").concat(y,"' ")+" are supported for 'cameraIdOrConfig'";if(I===f){var E=g.facingMode;if(typeof E=="string"){if(O(E))return{facingMode:E}}else if(typeof E=="object")if(w in E){if(O(E["".concat(w)]))return{facingMode:{exact:E["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var R=typeof E;throw"Invalid type of 'facingMode' = ".concat(R)}}else{var b=g.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(w in b)return{deviceId:{exact:b["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var F=typeof b;throw"Invalid type of 'deviceId' = ".concat(F)}}}var H=typeof g;throw"Invalid type of 'cameraIdOrConfig' = ".concat(H)},h.prototype.computeCanvasDrawConfig=function(g,f,y,v){if(g<=y&&f<=v){var w=(y-g)/2,O=(v-f)/2;return{x:w,y:O,width:g,height:f}}else{var k=g,I=f;return g>y&&(f=y/g*f,g=y),f>v&&(g=v/f*g,f=v),this.logger.log("Image downsampled from "+"".concat(k,"X").concat(I)+" to ".concat(g,"X").concat(f,".")),this.computeCanvasDrawConfig(g,f,y,v)}},h.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var g=document.getElementById(this.elementId);g&&(g.innerHTML="")},h.prototype.possiblyUpdateShaders=function(g){this.qrMatch!==g&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(f){f.style.backgroundColor=g?nr.BORDER_SHADER_MATCH_COLOR:nr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=g)},h.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},h.prototype.createCanvasElement=function(g,f,y){var v=g,w=f,O=document.createElement("canvas");return O.style.width="".concat(v,"px"),O.style.height="".concat(w,"px"),O.style.display="none",O.id=$r(y)?"qr-canvas":y,O},h.prototype.getShadedRegionBounds=function(g,f,y){if(y.width>g||y.height>f)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(g-y.width)/2,y:(f-y.height)/2,width:y.width,height:y.height}},h.prototype.possiblyInsertShadingElement=function(g,f,y,v){if(!(f-v.width<1||y-v.height<1)){var w=document.createElement("div");w.style.position="absolute";var O=(f-v.width)/2,k=(y-v.height)/2;if(w.style.borderLeft="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(k,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(k,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat(nr.SHADED_REGION_ELEMENT_ID),f-v.width<11||y-v.height<11)this.hasBorderShaders=!1;else{var I=5,E=40;this.insertShaderBorders(w,E,I,-I,null,0,!0),this.insertShaderBorders(w,E,I,-I,null,0,!1),this.insertShaderBorders(w,E,I,null,-I,0,!0),this.insertShaderBorders(w,E,I,null,-I,0,!1),this.insertShaderBorders(w,I,E+I,-I,null,-I,!0),this.insertShaderBorders(w,I,E+I,null,-I,-I,!0),this.insertShaderBorders(w,I,E+I,-I,null,-I,!1),this.insertShaderBorders(w,I,E+I,null,-I,-I,!1),this.hasBorderShaders=!0}g.append(w)}},h.prototype.insertShaderBorders=function(g,f,y,v,w,O,k){var I=document.createElement("div");I.style.position="absolute",I.style.backgroundColor=nr.BORDER_SHADER_DEFAULT_COLOR,I.style.width="".concat(f,"px"),I.style.height="".concat(y,"px"),v!==null&&(I.style.top="".concat(v,"px")),w!==null&&(I.style.bottom="".concat(w,"px")),k?I.style.left="".concat(O,"px"):I.style.right="".concat(O,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(I),g.appendChild(I)},h.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},h.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},h.prototype.getTimeoutFps=function(g){return 1e3/g},h})(),p0;(function(h){h[h.STATUS_DEFAULT=0]="STATUS_DEFAULT",h[h.STATUS_SUCCESS=1]="STATUS_SUCCESS",h[h.STATUS_WARNING=2]="STATUS_WARNING",h[h.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(p0||(p0={}));function Wg(){const h=$l(),[g,f]=Z.useState(null),[y,v]=Z.useState(!1),[w,O]=Z.useState(null),[k,I]=Z.useState("camera"),[E,R]=Z.useState("environment"),[b,F]=Z.useState(!1),[H,ne]=Z.useState(0),Y=Z.useRef(null),ee=Z.useRef(null);Z.useEffect(()=>{g0.getCameras().then(te=>{ne(te.length)}).catch(te=>{console.warn("Error getting cameras",te)}),b&&!y&&we()},[b]);const we=async()=>{await new Promise(Ze=>setTimeout(Ze,100));const te=new g0("reader");Y.current=te;try{await te.start({facingMode:E},{fps:10,qrbox:{width:250,height:250}},Ze=>{Ee(Ze)},()=>{}),v(!0)}catch(Ze){console.error("Camera start error:",Ze),F(!1),O((Ze==null?void 0:Ze.message)||"Failed to start camera. Please ensure permissions are granted."),v(!1)}},le=()=>{O(null),F(!0)},P=async()=>{if(Y.current)try{await Y.current.stop()}catch(te){console.warn("Stop camera warning:",te)}finally{v(!1),F(!1)}},se=async()=>{y?(await P(),setTimeout(()=>{R(te=>te==="environment"?"user":"environment"),F(!0)},300)):R(te=>te==="environment"?"user":"environment")},Se=async te=>{if(!te.target.files||te.target.files.length===0)return;const Ze=te.target.files[0];if(Y.current)try{y&&await P();const qe=await Y.current.scanFile(Ze,!0);Ee(qe)}catch{O("Could not find a QR code in this image.")}},Ee=te=>{f(te),P()},re=()=>{f(null),O(null)},Ce=te=>{try{return new URL(te),!0}catch{return!1}};return _.jsxs("div",{className:"container",style:{maxWidth:"600px",padding:"2rem 1rem"},children:[_.jsxs("button",{onClick:()=>h(-1),style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-secondary)",marginBottom:"1.5rem",padding:0,cursor:"pointer"},children:[_.jsx(Wu,{size:18}),"Back"]}),_.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"2rem",textAlign:"center"},children:"Scan QR Code"}),_.jsxs("div",{style:{display:"flex",background:"var(--color-bg)",border:"1px solid var(--color-border)",borderRadius:"var(--radius)",padding:"0.25rem",marginBottom:"2rem"},children:[_.jsxs("button",{onClick:()=>{I("camera"),O(null),f(null)},style:{flex:1,padding:"0.75rem",borderRadius:"calc(var(--radius) - 2px)",border:"none",background:k==="camera"?"var(--color-primary)":"transparent",color:k==="camera"?"var(--color-bg)":"var(--color-text)",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},children:[_.jsx(Xl,{size:18}),"Camera"]}),_.jsxs("button",{onClick:()=>{I("file"),P(),O(null),f(null)},style:{flex:1,padding:"0.75rem",borderRadius:"calc(var(--radius) - 2px)",border:"none",background:k==="file"?"var(--color-primary)":"transparent",color:k==="file"?"var(--color-bg)":"var(--color-text)",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",cursor:"pointer"},children:[_.jsx(t0,{size:18}),"Upload Image"]})]}),_.jsxs("div",{style:{background:"var(--color-bg)",borderRadius:"1rem",border:"1px solid var(--color-border)",overflow:"hidden",minHeight:"300px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1rem",position:"relative"},children:[_.jsx("div",{id:"reader",style:{width:"100%",margin:"0 auto",borderRadius:"0.5rem",overflow:"hidden",minHeight:k==="camera"&&(y||b)&&!g?"300px":"0",display:k==="camera"&&(y||b)&&!g?"block":"none",background:"#000"}}),g?_.jsxs("div",{style:{width:"100%",textAlign:"center",zIndex:10,background:"var(--color-bg)",marginTop:"1rem"},children:[_.jsx("div",{style:{display:"inline-flex",padding:"1rem",background:"#f0fdf4",borderRadius:"50%",color:"#16a34a",marginBottom:"1rem"},children:_.jsx(Xl,{size:32})}),_.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem"},children:"QR Detected!"}),_.jsx("div",{style:{background:"#f5f5f5",padding:"1rem",borderRadius:"0.5rem",marginBottom:"1.5rem",wordBreak:"break-all",fontFamily:"monospace",border:"1px solid var(--color-border)"},children:g}),_.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[_.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(g),alert("Copied!")},className:"btn btn-outline",style:{gap:"0.5rem"},children:[_.jsx(i2,{size:18})," Copy"]}),Ce(g)&&_.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",style:{gap:"0.5rem"},children:[_.jsx(Hu,{size:18})," Open Link"]})]}),_.jsx("button",{onClick:re,style:{marginTop:"1rem",background:"none",border:"none",color:"var(--color-secondary)",textDecoration:"underline",cursor:"pointer"},children:"Scan Another"})]}):_.jsxs(_.Fragment,{children:[k==="camera"&&!y&&_.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[_.jsx("div",{style:{marginBottom:"1rem",color:"var(--color-secondary)"},children:_.jsx(Xl,{size:48,style:{opacity:.5}})}),_.jsx("p",{style:{marginBottom:"1.5rem"},children:"Camera permission is required to scan QR codes."}),_.jsx("button",{onClick:le,className:"btn btn-primary",children:"Start Camera"})]}),k==="camera"&&y&&_.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem",zIndex:5,justifyContent:"center",flexWrap:"wrap"},children:[_.jsxs("button",{onClick:P,className:"btn btn-outline",style:{background:"rgba(255,255,255,0.8)",gap:"0.5rem"},children:[_.jsx(n2,{size:18})," Stop Camera"]}),H>1&&_.jsxs("button",{onClick:se,className:"btn btn-outline",style:{background:"rgba(255,255,255,0.8)",gap:"0.5rem"},children:[_.jsx(_2,{size:18})," Flip Camera"]})]}),k==="file"&&_.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[_.jsx("div",{style:{marginBottom:"1rem",color:"var(--color-secondary)"},children:_.jsx(t0,{size:48,style:{opacity:.5}})}),_.jsx("p",{style:{marginBottom:"1.5rem"},children:"Select an image from your device containing a QR code."}),_.jsx("button",{onClick:()=>{var te;return(te=ee.current)==null?void 0:te.click()},className:"btn btn-primary",children:"Choose Image"}),_.jsx("input",{ref:ee,type:"file",accept:"image/*",style:{display:"none"},onChange:Se})]}),w&&_.jsx("div",{style:{marginTop:"1rem",color:"var(--color-error)",textAlign:"center",padding:"0 1rem"},children:w})]})]})]})}function Hg(){const{id:h}=b0(),g=$l(),[f,y]=Z.useState(null),[v,w]=Z.useState(!0),[O,k]=Z.useState(""),[I,E]=Z.useState(""),[R,b]=Z.useState(!1);Z.useEffect(()=>{if(!h)return;const P=sg(h);P?(y(P),k(P.destinationUrl),E(P.name)):g("/dashboard"),w(!1)},[h,g]);const F=P=>{if(P.preventDefault(),!f)return;b(!0);const se=r0(f.id,{name:I,destinationUrl:O});se&&y(se),b(!1),alert("Saved successfully")},H=()=>{if(!f)return;const P=r0(f.id,{isActive:!f.isActive});P&&y(P)},ne=()=>{f&&confirm("Are you sure you want to delete this QR code? This cannot be undone.")&&(rf(f.id),g("/dashboard"))},[Y,ee]=Z.useState("svg"),we=()=>{const P=document.querySelector("#qr-wrapper svg");if(P)if(Y==="svg"){const se=new XMLSerializer().serializeToString(P),Se=new Blob([se],{type:"image/svg+xml"}),Ee=URL.createObjectURL(Se),re=document.createElement("a");re.href=Ee,re.download=`qryft-${f==null?void 0:f.slug}.svg`,document.body.appendChild(re),re.click(),document.body.removeChild(re),URL.revokeObjectURL(Ee)}else{const se=document.createElement("canvas"),Se=se.getContext("2d"),Ee=new XMLSerializer().serializeToString(P),re=new Image,Ce=1e3;se.width=Ce,se.height=Ce;const te=new Blob([Ee],{type:"image/svg+xml;charset=utf-8"}),Ze=URL.createObjectURL(te);re.onload=()=>{if(!Se)return;Y==="jpeg"&&(Se.fillStyle="#FFFFFF",Se.fillRect(0,0,Ce,Ce)),Se.drawImage(re,0,0,Ce,Ce);const qe=se.toDataURL(`image/${Y}`),ve=document.createElement("a");ve.href=qe,ve.download=`qryft-${f==null?void 0:f.slug}.${Y}`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(Ze)},re.src=Ze}};if(v)return _.jsx("div",{className:"container",children:"Loading..."});if(!f)return null;const le=tf(`/q/${f.slug}`);return _.jsxs("div",{className:"container",style:{padding:"2rem 1rem"},children:[_.jsxs("button",{onClick:()=>g("/dashboard"),style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-secondary)",marginBottom:"2rem",padding:0},children:[_.jsx(Wu,{size:18}),"Back to Dashboard"]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[_.jsxs("div",{children:[_.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"0.5rem"},children:f.name}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"var(--color-secondary)"},children:[_.jsxs("span",{style:{fontFamily:"monospace",background:"var(--color-border)",padding:"0.2rem 0.5rem",borderRadius:"0.25rem"},children:["/",f.slug]}),_.jsxs("span",{children:["Created ",new Date(f.createdAt).toLocaleDateString()]})]})]}),_.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[_.jsxs("button",{onClick:H,className:`btn ${f.isActive?"btn-outline":"btn-primary"}`,style:{gap:"0.5rem",borderColor:f.isActive?"var(--color-border)":"transparent"},children:[_.jsx(I2,{size:18}),f.isActive?"Disable":"Enable"]}),_.jsxs("button",{onClick:ne,className:"btn btn-outline",style:{gap:"0.5rem",color:"var(--color-error)",borderColor:"var(--color-error)"},children:[_.jsx(V0,{size:18}),"Delete"]})]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[_.jsxs("div",{style:{padding:"1.5rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius)"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem"},children:"Settings"}),_.jsxs("form",{onSubmit:F,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[_.jsxs("div",{children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Destination URL"}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[_.jsx("input",{type:"url",required:!0,className:"input",value:O,onChange:P=>k(P.target.value)}),_.jsx("a",{href:O,target:"_blank",rel:"noreferrer",className:"btn btn-outline",style:{padding:"0.5rem"},children:_.jsx(Hu,{size:18})})]})]}),_.jsxs("div",{children:[_.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Name"}),_.jsx("input",{type:"text",required:!0,className:"input",value:I,onChange:P=>E(P.target.value)})]}),_.jsx("div",{style:{paddingTop:"1rem",borderTop:"1px solid var(--color-border)"},children:_.jsxs("button",{type:"submit",disabled:R,className:"btn btn-primary",style:{width:"100%",gap:"0.5rem"},children:[_.jsx(z0,{size:18}),"Save Changes"]})})]})]}),_.jsxs("div",{style:{padding:"1.5rem",border:"1px solid var(--color-border)",borderRadius:"var(--radius)",background:"var(--color-bg)"},children:[_.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"1.5rem"},children:"QR Code"}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem"},children:[_.jsx("div",{id:"qr-wrapper",style:{padding:"1rem",background:"white",borderRadius:"0.5rem",border:"1px solid var(--color-border)"},children:_.jsx(bo,{value:le,size:200,level:"M"})}),_.jsxs("div",{style:{textAlign:"center",width:"100%"},children:[_.jsx("p",{style:{fontSize:"0.875rem",color:"var(--color-secondary)",marginBottom:"1rem",wordBreak:"break-all"},children:le}),_.jsx("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"center",gap:"0.5rem"},children:["svg","png","jpeg"].map(P=>_.jsx("button",{onClick:()=>ee(P),style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",border:"1px solid var(--color-border)",background:Y===P?"var(--color-primary)":"transparent",color:Y===P?"var(--color-bg)":"var(--color-text)",fontSize:"0.8rem",textTransform:"uppercase",fontWeight:"600",cursor:"pointer"},children:P},P))}),_.jsxs("button",{onClick:we,className:"btn btn-outline",style:{width:"100%",gap:"0.5rem"},children:[_.jsx(U0,{size:18}),"Download ",Y.toUpperCase()]})]})]})]})]})]})]})}function Gg(){const{slug:h}=b0(),[g,f]=Z.useState("resolving");return Z.useEffect(()=>{if(!h){f("not-found");return}const y=og(h);if(!y){f("not-found");return}if(!y.isActive){f("inactive");return}window.location.replace(y.destinationUrl)},[h]),g==="resolving"?null:g==="not-found"?_.jsxs("div",{className:"container",style:{textAlign:"center",padding:"4rem 1rem",maxWidth:"600px"},children:[_.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"1rem"},children:"QR Code Not Found"}),_.jsx("p",{style:{color:"var(--color-secondary)",marginBottom:"2rem"},children:"The QR code you scanned does not exist or has been deleted."}),_.jsx(xn,{to:"/",className:"btn btn-primary",children:"Go to Qryft Home"})]}):g==="inactive"?_.jsxs("div",{className:"container",style:{textAlign:"center",padding:"4rem 1rem",maxWidth:"600px"},children:[_.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",marginBottom:"1rem"},children:"Link Disabled"}),_.jsx("p",{style:{color:"var(--color-secondary)",marginBottom:"2rem"},children:"This QR code has been temporarily disabled by its owner."}),_.jsx(xn,{to:"/",className:"btn btn-primary",children:"Create your own QR"})]}):null}function Xg(){return _.jsxs("div",{className:"container",style:{textAlign:"center",padding:"4rem 0"},children:[_.jsx("h1",{style:{fontSize:"4rem",fontWeight:"800",marginBottom:"1rem"},children:"404"}),_.jsx("p",{style:{fontSize:"1.25rem",color:"var(--color-secondary)",marginBottom:"2rem"},children:"Page not found."}),_.jsx(xn,{to:"/",className:"btn btn-primary",children:"Go Home"})]})}function Yg(){const[h,g]=Z.useState(()=>{const y=localStorage.getItem("qryft-theme");return y==="dark"||y==="light"?y:"light"});return Z.useEffect(()=>{const y=window.document.documentElement;h==="dark"?y.classList.add("dark"):y.classList.remove("dark"),localStorage.setItem("qryft-theme",h)},[h]),{theme:h,toggleTheme:()=>{g(y=>y==="light"?"dark":"light")}}}function Zg(){const{theme:h,toggleTheme:g}=Yg();return _.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[_.jsx("header",{style:{borderBottom:"1px solid var(--color-border)"},children:_.jsxs("div",{className:"container",style:{height:"64px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[_.jsxs(xn,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"bold",fontSize:"1.25rem"},children:[_.jsx(R2,{}),_.jsx("span",{children:"Q-ryft (Beta)"})]}),_.jsxs("nav",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[_.jsx("button",{onClick:g,style:{background:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",cursor:"pointer",color:"var(--color-text)"},title:`Switch to ${h==="light"?"dark":"light"} mode`,children:h==="light"?_.jsx(E2,{size:20}):_.jsx(F2,{size:20})}),_.jsxs(xn,{to:"/scan",style:{fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none",color:"var(--color-text)"},className:"nav-scan-btn",children:[_.jsx(D2,{size:18}),_.jsx("span",{className:"nav-btn-text",children:"Scan"})]}),_.jsx(xn,{to:"/dashboard",style:{fontSize:"0.9rem",color:"var(--color-text)",textDecoration:"none"},children:"Dashboard"}),_.jsxs(xn,{to:"/create",className:"btn btn-primary nav-create-btn",children:[_.jsx(j0,{size:18}),_.jsx("span",{className:"nav-btn-text",children:"Create QR"})]})]})]})}),_.jsx("main",{style:{flex:1,padding:"2rem 0"},children:_.jsx(oh,{})}),_.jsx("footer",{style:{borderTop:"1px solid var(--color-border)",padding:"2rem 0",color:"var(--color-secondary)"},children:_.jsx("div",{className:"container",style:{textAlign:"center",fontSize:"0.875rem"},children:_.jsxs("p",{children:[" ",new Date().getFullYear()," Made with  by ",_.jsx("a",{href:"https://dusk-lab.github.io/main-website/",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"var(--color-text)"},children:"Dusk Lab"}),"."]})})})]})}function Qg(){return _.jsx(Dh,{basename:"/q-ryft",children:_.jsxs(ah,{children:[_.jsx(Jr,{path:"/q/:slug",element:_.jsx(Gg,{})}),_.jsxs(Jr,{element:_.jsx(Zg,{}),children:[_.jsx(Jr,{path:"/",element:_.jsx(Y2,{})}),_.jsx(Jr,{path:"/dashboard",element:_.jsx(ag,{})}),_.jsx(Jr,{path:"/create",element:_.jsx(xg,{})}),_.jsx(Jr,{path:"/scan",element:_.jsx(Wg,{})}),_.jsx(Jr,{path:"/qr/:id",element:_.jsx(Hg,{})}),_.jsx(Jr,{path:"*",element:_.jsx(Xg,{})})]})]})})}ad.createRoot(document.getElementById("root")).render(_.jsx(Z.StrictMode,{children:_.jsx(Qg,{})}));
